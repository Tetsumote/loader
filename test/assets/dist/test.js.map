{"version":3,"sources":["test.js"],"names":["$console","$","console_log","string","is","append","$list","find","scrollTop","height","niteLoad","srcAttr","srcsetAttr","visible","sequential","backgrounds","extraAttrs","playthrough","early","earlyTimeout","onComplete","instance","resources","addClass","onProgress","resource","attr","percentage","closest","onLoad","onError","instanceSequentialMode","document","on","e","element","type","show","hide","abort","randomResources","i","letters","colors","ii","color","c","Math","floor","random","push","NiteLoader","collection","progress","done","load","jQuery"],"mappings":"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","file":"test.js","sourcesContent":["($ => {\r\n\t'use strict';\r\n\r\n\tconst $console = $('#console');\r\n\tconst console_log = function(string) {\r\n\t\tif ($console.is(':empty')) {\r\n\t\t\t$console.append('<ol />');\r\n\t\t}\r\n\r\n\t\tconst $list = $console.find('ol').append('<li>' + string + '</li>');\r\n\r\n\t\t$console.scrollTop($list.height());\r\n\t};\r\n\r\n\t$('.playground').niteLoad({\r\n\t\tsrcAttr: 'data-nite-src',\r\n\t\tsrcsetAttr: 'data-nite-srcset',\r\n\r\n\t\tvisible: true,\r\n\r\n\t\tsequential: true,\r\n\r\n\t\tbackgrounds: true,\r\n\t\textraAttrs: [],\r\n\r\n\t\tplaythrough: 'full',\r\n\r\n\t\tearly: false,\r\n\t\tearlyTimeout: 6000,\r\n\r\n\t\tonComplete: function(instance, resources) {\r\n\t\t\t$(this).addClass('complete');\r\n\t\t},\r\n\r\n\t\tonProgress: function(instance, resource) {\r\n\t\t\t$(this)\r\n\t\t\t\t.find('[data-percentage]')\r\n\t\t\t\t.attr('data-percentage', instance.percentage)\r\n\t\t\t\t.closest('.playground__percentage')\r\n\t\t\t\t.addClass('visible');\r\n\t\t},\r\n\r\n\t\tonLoad: function(instance, resource) {\r\n\t\t\t$(this).addClass('has-loads');\r\n\t\t},\r\n\t\tonError: function(instance, resource) {\r\n\t\t\t$(this).addClass('has-errors');\r\n\t\t}\r\n\t});\r\n\r\n\tlet instance;\r\n\tlet instanceSequentialMode = true;\r\n\r\n\t$(document)\r\n\t\t.on('niteLoad.nite niteError.nite', function(e, element) {\r\n\t\t\tconsole_log('jQuery.fn.niteLoad(): ' + element);\r\n\t\t})\r\n\r\n\t\t.on('niteError.nite', 'figure img', function(e) {\r\n\t\t\t$(this)\r\n\t\t\t\t.closest('figure')\r\n\t\t\t\t.addClass('error');\r\n\t\t})\r\n\r\n\t\t.on('niteLoad.nite niteError.nite', 'figure img, figure video', function(e) {\r\n\t\t\t$(this)\r\n\t\t\t\t.closest('figure')\r\n\t\t\t\t.addClass('loaded' + (e.type === 'niteError' ? '-error' : ''));\r\n\t\t})\r\n\r\n\t\t.on('click', '.nite-program-mode--sequential', function() {\r\n\t\t\tif (instance !== null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t$('.nite-program-mode--parallel').show();\r\n\t\t\t$(this).hide();\r\n\t\t\tinstanceSequentialMode = true;\r\n\t\t\tconsole_log('$.NiteLoader(): Sequential Mode');\r\n\t\t})\r\n\t\t.on('click', '.nite-program-mode--parallel', function() {\r\n\t\t\tif (instance !== null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t$('.nite-program-mode--sequential').show();\r\n\t\t\t$(this).hide();\r\n\t\t\tinstanceSequentialMode = false;\r\n\t\t\tconsole_log('$.NiteLoader(): Parallel Mode');\r\n\t\t})\r\n\r\n\t\t.on('click', '[class*=\"nite-program-load\"]', function() {\r\n\t\t\tif (instance) {\r\n\t\t\t\tconsole_log('$.NiteLoader(): Aborted...');\r\n\r\n\t\t\t\tinstance.abort();\r\n\t\t\t\tinstance = null;\r\n\r\n\t\t\t\t$('.nite-program-load--kill').hide();\r\n\t\t\t\t$('.nite-program-load--run').show();\r\n\t\t\t} else {\r\n\t\t\t\t$('.nite-program-load--run').hide();\r\n\t\t\t\t$('.nite-program-load--kill').show();\r\n\r\n\t\t\t\tlet randomResources = [];\r\n\r\n\t\t\t\tfor (let i = 0; i < 10; i++) {\r\n\t\t\t\t\tlet letters = '0123456789ABCDEF',\r\n\t\t\t\t\t\tcolors = [];\r\n\r\n\t\t\t\t\tfor (let ii = 0; ii < 2; ii++) {\r\n\t\t\t\t\t\tlet color = '';\r\n\t\t\t\t\t\tfor (let c = 0; c < 6; c++) {\r\n\t\t\t\t\t\t\tcolor += letters[Math.floor(Math.random() * 16)];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcolors[ii] = color;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\trandomResources.push('//placehold.it/720x720/' + colors[0] + '/' + colors[1] + '.jpg');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinstance = new NiteLoader({\r\n\t\t\t\t\tsequential: instanceSequentialMode\r\n\t\t\t\t});\r\n\r\n\t\t\t\tinstance.collection = randomResources;\r\n\r\n\t\t\t\tconsole_log('$.NiteLoader(): 0% - Starting...');\r\n\r\n\t\t\t\tinstance.progress(resource => {\r\n\t\t\t\t\tconsole_log('$.NiteLoader(): ' + instance.percentage + '%');\r\n\t\t\t\t});\r\n\r\n\t\t\t\tinstance.done(resources => {\r\n\t\t\t\t\tconsole_log('$.NiteLoader(): 100% - Done!!');\r\n\t\t\t\t\t$('.nite-program-load--run').show();\r\n\t\t\t\t\t$('.nite-program-load--kill').hide();\r\n\r\n\t\t\t\t\tinstance = null;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tinstance.load();\r\n\t\t\t}\r\n\t\t});\r\n})(jQuery);\r\n"]}