{"version":3,"sources":["test.js"],"names":["$","jQuery","$console","console_log","string","is","append","$list","find","scrollTop","height","niteLoad","srcAttr","srcsetAttr","visible","sequential","backgrounds","extraAttrs","playthrough","early","earlyTimeout","onComplete","instance","resources","addClass","onProgress","resource","attr","percentage","closest","onLoad","onError","document","on","e","element","type","abort","hide","show","random_stuff","i","letters","colors","ii","color","c","Math","floor","random","push","progress","done"],"mappings":"AAAA;;AAEA,IAEIA,IAAIC,MAFR;AAAA,IAIIC,WAAWF,EAAE,UAAF,CAJf;AAAA,IAMIG,cAAc,SAAdA,WAAc,CAAUC,MAAV,EAAkB;;AAE5B,QAAIF,SAASG,EAAT,CAAY,QAAZ,CAAJ,EACIH,SAASI,MAAT,CAAgB,QAAhB;;AAEJ,QAAMC,QAAQL,SAASM,IAAT,CAAc,IAAd,EAAoBF,MAApB,CAA2B,SAASF,MAAT,GAAkB,OAA7C,CAAd;;AAEAF,aAASO,SAAT,CAAmBF,MAAMG,MAAN,EAAnB;AAEH,CAfL;;AAiBAV,EAAE,aAAF,EAAiBW,QAAjB,CAA0B;;AAEtBC,aAAS,eAFa;AAGtBC,gBAAY,kBAHU;;AAKtBC,aAAS,IALa;;AAOtBC,gBAAY,IAPU;;AAStBC,iBAAa,IATS;AAUtBC,gBAAY,EAVU;;AAYtBC,iBAAa,MAZS;;AActBC,WAAO,KAde;AAetBC,kBAAc,IAfQ;;AAiBtBC,gBAAY,oBAAUC,QAAV,EAAoBC,SAApB,EAA+B;;AAEvCvB,UAAE,IAAF,EAAQwB,QAAR,CAAiB,UAAjB;AAEH,KArBqB;;AAuBtBC,gBAAY,oBAAUH,QAAV,EAAoBI,QAApB,EAA8B;;AAEtC1B,UAAE,IAAF,EAAQQ,IAAR,CAAa,mBAAb,EAAkCmB,IAAlC,CAAuC,iBAAvC,EAA0DL,SAASM,UAAnE,EACKC,OADL,CACa,yBADb,EACwCL,QADxC,CACiD,SADjD;AAGH,KA5BqB;;AA8BtBM,YAAQ,gBAAUR,QAAV,EAAoBI,QAApB,EAA8B;;AAElC1B,UAAE,IAAF,EAAQwB,QAAR,CAAiB,WAAjB;AAEH,KAlCqB;AAmCtBO,aAAS,iBAAUT,QAAV,EAAoBI,QAApB,EAA8B;;AAEnC1B,UAAE,IAAF,EAAQwB,QAAR,CAAiB,YAAjB;AAEH;;AAvCqB,CAA1B;;AA2CA,IAAIF,iBAAJ;;AAEAtB,EAAEgC,QAAF,EAEKC,EAFL,CAEQ,8BAFR,EAEwC,UAAUC,CAAV,EAAaC,OAAb,EAAsB;;AAEtDhC,gBAAY,2BAA2BgC,OAAvC;AAEH,CANL,EAQKF,EARL,CAQQ,gBARR,EAQ0B,YAR1B,EAQwC,UAAUC,CAAV,EAAa;;AAE7ClC,MAAE,IAAF,EAAQ6B,OAAR,CAAgB,QAAhB,EAA0BL,QAA1B,CAAmC,OAAnC;AAEH,CAZL,EAcKS,EAdL,CAcQ,8BAdR,EAcwC,0BAdxC,EAcoE,UAAUC,CAAV,EAAa;;AAEzElC,MAAE,IAAF,EAAQ6B,OAAR,CAAgB,QAAhB,EAA0BL,QAA1B,CAAmC,YAAYU,EAAEE,IAAF,KAAW,WAAX,GAAyB,QAAzB,GAAoC,EAAhD,CAAnC;AAEH,CAlBL,EAoBKH,EApBL,CAoBQ,OApBR,EAoBiB,8BApBjB,EAoBiD,YAAY;;AAErD,QAAIX,QAAJ,EAAc;;AAEVnB,oBAAY,YAAZ;;AAEAmB,iBAASe,KAAT;AACAf,mBAAW,IAAX;;AAEAtB,UAAE,0BAAF,EAA8BsC,IAA9B;AACAtC,UAAE,yBAAF,EAA6BuC,IAA7B;AAEH,KAVD,MAUO;;AAEHvC,UAAE,yBAAF,EAA6BsC,IAA7B;AACAtC,UAAE,0BAAF,EAA8BuC,IAA9B;;AAEA,YAAIC,eAAe,EAAnB;;AAEA,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;;AAEzB,gBAAIC,UAAU,kBAAd;AAAA,gBACIC,SAAS,EADb;;AAGA,iBAAK,IAAIC,KAAK,CAAd,EAAiBA,KAAK,CAAtB,EAAyBA,IAAzB,EAA+B;AAC3B,oBAAIC,QAAQ,EAAZ;AACA,qBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,GAAvB;AACID,6BAASH,QAAQK,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,EAA3B,CAAR,CAAT;AADJ,iBAEAN,OAAOC,EAAP,IAAaC,KAAb;AACH;;AAEDL,yBAAaU,IAAb,CAAkB,4BAA4BP,OAAO,CAAP,CAA5B,GAAwC,GAAxC,GAA8CA,OAAO,CAAP,CAA9C,GAA0D,MAA5E;AAEH;;AAEDrB,mBAAW,IAAItB,EAAEW,QAAN,CAAe6B,YAAf,EAA6B;AACpCzB,wBAAY;AADwB,SAA7B,CAAX;;AAIAZ,oBAAY,kBAAZ;;AAEAmB,iBAAS6B,QAAT,CAAkB,UAAUzB,QAAV,EAAoB;;AAElCvB,wBAAYmB,SAASM,UAAT,GAAsB,GAAlC;AAEH,SAJD;;AAMAN,iBAAS8B,IAAT,CAAc,UAAU7B,SAAV,EAAqB;;AAE/BpB,wBAAY,eAAZ;AACAH,cAAE,yBAAF,EAA6BuC,IAA7B;AACAvC,cAAE,0BAAF,EAA8BsC,IAA9B;;AAEAhB,uBAAW,IAAX;AAEH,SARD;AAUH;AAEJ,CA/EL","file":"test.js","sourcesContent":["\"use strict\";\n\nconst\n\n    $ = jQuery,\n\n    $console = $('#console'),\n\n    console_log = function (string) {\n\n        if ($console.is(':empty'))\n            $console.append('<ol />');\n\n        const $list = $console.find('ol').append('<li>' + string + '</li>');\n\n        $console.scrollTop($list.height());\n\n    };\n\n$('.playground').niteLoad({\n\n    srcAttr: 'data-nite-src',\n    srcsetAttr: 'data-nite-srcset',\n\n    visible: true,\n\n    sequential: true,\n\n    backgrounds: true,\n    extraAttrs: [],\n\n    playthrough: 'full',\n\n    early: false,\n    earlyTimeout: 6000,\n\n    onComplete: function (instance, resources) {\n\n        $(this).addClass('complete');\n\n    },\n\n    onProgress: function (instance, resource) {\n\n        $(this).find('[data-percentage]').attr('data-percentage', instance.percentage)\n            .closest('.playground__percentage').addClass('visible');\n\n    },\n\n    onLoad: function (instance, resource) {\n\n        $(this).addClass('has-loads');\n\n    },\n    onError: function (instance, resource) {\n\n        $(this).addClass('has-errors');\n\n    }\n\n});\n\nlet instance;\n\n$(document)\n\n    .on('niteLoad.nite niteError.nite', function (e, element) {\n\n        console_log('jQuery.fn.niteLoad(): ' + element);\n\n    })\n\n    .on('niteError.nite', 'figure img', function (e) {\n\n        $(this).closest('figure').addClass('error');\n\n    })\n\n    .on('niteLoad.nite niteError.nite', 'figure img, figure video', function (e) {\n\n        $(this).closest('figure').addClass('loaded' + (e.type === 'niteError' ? '-error' : ''));\n\n    })\n\n    .on('click', '[class*=\"nite-program-load\"]', function () {\n\n        if (instance) {\n\n            console_log('Aborted...');\n\n            instance.abort();\n            instance = null;\n\n            $('.nite-program-load--kill').hide();\n            $('.nite-program-load--run').show();\n\n        } else {\n\n            $('.nite-program-load--run').hide();\n            $('.nite-program-load--kill').show();\n\n            let random_stuff = [];\n\n            for (let i = 0; i < 10; i++) {\n\n                let letters = '0123456789ABCDEF',\n                    colors = [];\n\n                for (let ii = 0; ii < 2; ii++) {\n                    let color = '';\n                    for (let c = 0; c < 6; c++)\n                        color += letters[Math.floor(Math.random() * 16)];\n                    colors[ii] = color;\n                }\n\n                random_stuff.push('//placehold.it/720x720/' + colors[0] + '/' + colors[1] + '.jpg');\n\n            }\n\n            instance = new $.niteLoad(random_stuff, {\n                sequential: true\n            });\n\n            console_log('0% - Starting...');\n\n            instance.progress(function (resource) {\n\n                console_log(instance.percentage + '%');\n\n            });\n\n            instance.done(function (resources) {\n\n                console_log('100% - Done!!');\n                $('.nite-program-load--run').show();\n                $('.nite-program-load--kill').hide();\n\n                instance = null;\n\n            });\n\n        }\n\n    });"]}