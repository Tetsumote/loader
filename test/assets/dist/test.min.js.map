{"version":3,"sources":["test.js"],"names":["$","jQuery","$console","console_log","string","is","append","$list","find","scrollTop","height","niteLoad","srcAttr","srcsetAttr","visible","sequential","backgrounds","extraAttrs","playthrough","early","earlyTimeout","onComplete","instance","resources","this","addClass","onProgress","resource","attr","percentage","closest","onLoad","onError","instanceSequentialMode","document","on","e","element","type","show","hide","abort","random_stuff","i","letters","colors","ii","color","c","Math","floor","random","push","NiteLoader","collection","progress","done","load"],"mappings":"AAAA,aAEA,MAEIA,EAAIC,OAEJC,SAAWF,EAAE,YAEbG,YAAc,SAAUC,GAEhBF,SAASG,GAAG,WACZH,SAASI,OAAO,UAEpB,MAAMC,EAAQL,SAASM,KAAK,MAAMF,OAAO,OAASF,EAAS,SAE3DF,SAASO,UAAUF,EAAMG,WAIjCV,EAAE,eAAeW,UAEbC,QAAS,gBACTC,WAAY,mBAEZC,SAAS,EAETC,YAAY,EAEZC,aAAa,EACbC,cAEAC,YAAa,OAEbC,OAAO,EACPC,aAAc,IAEdC,WAAY,SAAUC,EAAUC,GAE5BvB,EAAEwB,MAAMC,SAAS,aAIrBC,WAAY,SAAUJ,EAAUK,GAE5B3B,EAAEwB,MAAMhB,KAAK,qBAAqBoB,KAAK,kBAAmBN,EAASO,YAC9DC,QAAQ,2BAA2BL,SAAS,YAIrDM,OAAQ,SAAUT,EAAUK,GAExB3B,EAAEwB,MAAMC,SAAS,cAGrBO,QAAS,SAAUV,EAAUK,GAEzB3B,EAAEwB,MAAMC,SAAS,iBAMzB,IAAIH,SAAUW,wBAAyB,EAEvCjC,EAAEkC,UAEGC,GAAG,+BAAgC,SAAUC,EAAGC,GAE7ClC,YAAY,yBAA2BkC,KAI1CF,GAAG,iBAAkB,aAAc,SAAUC,GAE1CpC,EAAEwB,MAAMM,QAAQ,UAAUL,SAAS,WAItCU,GAAG,+BAAgC,2BAA4B,SAAUC,GAEtEpC,EAAEwB,MAAMM,QAAQ,UAAUL,SAAS,UAAuB,cAAXW,EAAEE,KAAuB,SAAW,OAItFH,GAAG,QAAS,iCAAkC,WAC1B,OAAbb,WAGJtB,EAAE,gCAAgCuC,OAClCvC,EAAEwB,MAAMgB,OACRP,wBAAyB,EACzB9B,YAAY,sCAEfgC,GAAG,QAAS,+BAAgC,WACxB,OAAbb,WAGJtB,EAAE,kCAAkCuC,OACpCvC,EAAEwB,MAAMgB,OACRP,wBAAyB,EACzB9B,YAAY,oCAGfgC,GAAG,QAAS,+BAAgC,WAEzC,GAAIb,SAEAnB,YAAY,8BAEZmB,SAASmB,QACTnB,SAAW,KAEXtB,EAAE,4BAA4BwC,OAC9BxC,EAAE,2BAA2BuC,WAE1B,CAEHvC,EAAE,2BAA2BwC,OAC7BxC,EAAE,4BAA4BuC,OAE9B,IAAIG,KAEJ,IAAK,IAAIC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAEzB,IAAIC,EAAU,mBACVC,KAEJ,IAAK,IAAIC,EAAK,EAAGA,EAAK,EAAGA,IAAM,CAC3B,IAAIC,EAAQ,GACZ,IAAK,IAAIC,EAAI,EAAGA,EAAI,EAAGA,IACnBD,GAASH,EAAQK,KAAKC,MAAsB,GAAhBD,KAAKE,WAErCN,EAAOC,GAAMC,EAGjBL,EAAaU,KAAK,0BAA4BP,EAAO,GAAK,IAAMA,EAAO,GAAK,SAIhFvB,SAAW,IAAItB,EAAEqD,YACbtC,WAAYkB,0BAGPqB,WAAaZ,EAEtBvC,YAAY,oCAEZmB,SAASiC,SAAU5B,IAEfxB,YAAY,mBAAmBmB,SAASO,WAAa,OAIzDP,SAASkC,KAAMjC,IAEXpB,YAAY,iCACZH,EAAE,2BAA2BuC,OAC7BvC,EAAE,4BAA4BwC,OAE9BlB,SAAW,OAIfA,SAASmC","sourcesContent":["\"use strict\";\n\nconst\n\n    $ = jQuery,\n\n    $console = $('#console'),\n\n    console_log = function (string) {\n\n        if ($console.is(':empty'))\n            $console.append('<ol />');\n\n        const $list = $console.find('ol').append('<li>' + string + '</li>');\n\n        $console.scrollTop($list.height());\n\n    };\n\n$('.playground').niteLoad({\n\n    srcAttr: 'data-nite-src',\n    srcsetAttr: 'data-nite-srcset',\n\n    visible: true,\n\n    sequential: true,\n\n    backgrounds: true,\n    extraAttrs: [],\n\n    playthrough: 'full',\n\n    early: false,\n    earlyTimeout: 6000,\n\n    onComplete: function (instance, resources) {\n\n        $(this).addClass('complete');\n\n    },\n\n    onProgress: function (instance, resource) {\n\n        $(this).find('[data-percentage]').attr('data-percentage', instance.percentage)\n            .closest('.playground__percentage').addClass('visible');\n\n    },\n\n    onLoad: function (instance, resource) {\n\n        $(this).addClass('has-loads');\n\n    },\n    onError: function (instance, resource) {\n\n        $(this).addClass('has-errors');\n\n    }\n\n});\n\nlet instance, instanceSequentialMode = true;\n\n$(document)\n\n    .on('niteLoad.nite niteError.nite', function (e, element) {\n\n        console_log('jQuery.fn.niteLoad(): ' + element);\n\n    })\n\n    .on('niteError.nite', 'figure img', function (e) {\n\n        $(this).closest('figure').addClass('error');\n\n    })\n\n    .on('niteLoad.nite niteError.nite', 'figure img, figure video', function (e) {\n\n        $(this).closest('figure').addClass('loaded' + (e.type === 'niteError' ? '-error' : ''));\n\n    })\n\n    .on('click', '.nite-program-mode--sequential', function () {\n        if( instance !== null ){\n            return;\n        }\n        $('.nite-program-mode--parallel').show();\n        $(this).hide();\n        instanceSequentialMode = true;\n        console_log('$.NiteLoader(): Sequential Mode');\n    })\n    .on('click', '.nite-program-mode--parallel', function () {\n        if( instance !== null ){\n            return;\n        }\n        $('.nite-program-mode--sequential').show();\n        $(this).hide();\n        instanceSequentialMode = false;\n        console_log('$.NiteLoader(): Parallel Mode');\n    })\n\n    .on('click', '[class*=\"nite-program-load\"]', function () {\n\n        if (instance) {\n\n            console_log('$.NiteLoader(): Aborted...');\n\n            instance.abort();\n            instance = null;\n\n            $('.nite-program-load--kill').hide();\n            $('.nite-program-load--run').show();\n\n        } else {\n\n            $('.nite-program-load--run').hide();\n            $('.nite-program-load--kill').show();\n\n            let random_stuff = [];\n\n            for (let i = 0; i < 10; i++) {\n\n                let letters = '0123456789ABCDEF',\n                    colors = [];\n\n                for (let ii = 0; ii < 2; ii++) {\n                    let color = '';\n                    for (let c = 0; c < 6; c++){\n                        color += letters[Math.floor(Math.random() * 16)];\n                    }\n                    colors[ii] = color;\n                }\n\n                random_stuff.push('//placehold.it/720x720/' + colors[0] + '/' + colors[1] + '.jpg');\n\n            }\n\n            instance = new $.NiteLoader({\n                sequential: instanceSequentialMode\n            });\n\n            instance.collection = random_stuff;\n\n            console_log('$.NiteLoader(): 0% - Starting...');\n\n            instance.progress((resource) => {\n\n                console_log('$.NiteLoader(): '+instance.percentage + '%');\n\n            });\n\n            instance.done((resources) => {\n\n                console_log('$.NiteLoader(): 100% - Done!!');\n                $('.nite-program-load--run').show();\n                $('.nite-program-load--kill').hide();\n\n                instance = null;\n\n            });\n\n            instance.load();\n\n        }\n\n    });"],"file":"test.min.js"}