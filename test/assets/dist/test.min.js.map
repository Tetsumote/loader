{"version":3,"sources":["test.js"],"names":["$","jQuery","$console","console_log","a","is","append","b","find","scrollTop","height","niteLoad","srcAttr","srcsetAttr","visible","sequential","backgrounds","extraAttrs","playthrough","early","earlyTimeout","onComplete","addClass","onProgress","attr","percentage","closest","onLoad","onError","instance","document","on","type","abort","hide","show","c","Math","floor","random","push","progress","done"],"mappings":"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","file":"test.min.js","sourcesContent":["\"use strict\";\n\nconst\n\n    $ = jQuery,\n\n    $console = $('#console'),\n\n    console_log = function (string) {\n\n        if ($console.is(':empty'))\n            $console.append('<ol />');\n\n        const $list = $console.find('ol').append('<li>' + string + '</li>');\n\n        $console.scrollTop($list.height());\n\n    };\n\n$('.playground').niteLoad({\n\n    srcAttr: 'data-nite-src',\n    srcsetAttr: 'data-nite-srcset',\n\n    visible: true,\n\n    sequential: true,\n\n    backgrounds: true,\n    extraAttrs: [],\n\n    playthrough: 'full',\n\n    early: false,\n    earlyTimeout: 6000,\n\n    onComplete: function (instance, resources) {\n\n        $(this).addClass('complete');\n\n    },\n\n    onProgress: function (instance, resource) {\n\n        $(this).find('[data-percentage]').attr('data-percentage', instance.percentage)\n            .closest('.playground__percentage').addClass('visible');\n\n    },\n\n    onLoad: function (instance, resource) {\n\n        $(this).addClass('has-loads');\n\n    },\n    onError: function (instance, resource) {\n\n        $(this).addClass('has-errors');\n\n    }\n\n});\n\nlet instance;\n\n$(document)\n\n    .on('niteLoad.nite niteError.nite', function (e, element) {\n\n        console_log('jQuery.fn.niteLoad(): ' + element);\n\n    })\n\n    .on('niteError.nite', 'figure img', function (e) {\n\n        $(this).closest('figure').addClass('error');\n\n    })\n\n    .on('niteLoad.nite niteError.nite', 'figure img, figure video', function (e) {\n\n        $(this).closest('figure').addClass('loaded' + (e.type === 'niteError' ? '-error' : ''));\n\n    })\n\n    .on('click', '[class*=\"nite-program-load\"]', function () {\n\n        if (instance) {\n\n            console_log('Aborted...');\n\n            instance.abort();\n            instance = null;\n\n            $('.nite-program-load--kill').hide();\n            $('.nite-program-load--run').show();\n\n        } else {\n\n            $('.nite-program-load--run').hide();\n            $('.nite-program-load--kill').show();\n\n            let random_stuff = [];\n\n            for (let i = 0; i < 10; i++) {\n\n                let letters = '0123456789ABCDEF',\n                    colors = [];\n\n                for (let ii = 0; ii < 2; ii++) {\n                    let color = '';\n                    for (let c = 0; c < 6; c++)\n                        color += letters[Math.floor(Math.random() * 16)];\n                    colors[ii] = color;\n                }\n\n                random_stuff.push('//placehold.it/720x720/' + colors[0] + '/' + colors[1] + '.jpg');\n\n            }\n\n            instance = new $.niteLoad(random_stuff, {\n                sequential: true\n            });\n\n            console_log('0% - Starting...');\n\n            instance.progress(function (resource) {\n\n                console_log(instance.percentage + '%');\n\n            });\n\n            instance.done(function (resources) {\n\n                console_log('100% - Done!!');\n                $('.nite-program-load--run').show();\n                $('.nite-program-load--kill').hide();\n\n                instance = null;\n\n            });\n\n        }\n\n    });"]}