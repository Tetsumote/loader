{"version":3,"sources":["test.js"],"names":["$","$console","console_log","string","is","append","$list","find","scrollTop","height","niteLoad","srcAttr","srcsetAttr","visible","sequential","backgrounds","extraAttrs","playthrough","early","earlyTimeout","onComplete","instance","resources","this","addClass","onProgress","resource","attr","percentage","closest","onLoad","onError","instanceSequentialMode","document","on","e","element","type","show","hide","abort","randomResources","i","colors","ii","color","c","Math","floor","random","push","NiteLoader","collection","progress","done","load","jQuery"],"mappings":"AAAA,cAEA,SAAWA,GAGV,IAAIC,EAAWD,EAAE,YACbE,EAAc,SAAqBC,GAClCF,EAASG,GAAG,WACfH,EAASI,OAAO,UAGjB,IAAIC,EAAQL,EAASM,KAAK,MAAMF,OAAO,OAASF,EAAS,SAEzDF,EAASO,UAAUF,EAAMG,WAG1BT,EAAE,eAAeU,UAChBC,QAAS,gBACTC,WAAY,mBAEZC,SAAS,EAETC,YAAY,EAEZC,aAAa,EACbC,cAEAC,YAAa,OAEbC,OAAO,EACPC,aAAc,IAEdC,WAAY,SAAoBC,EAAUC,GACzCtB,EAAEuB,MAAMC,SAAS,aAGlBC,WAAY,SAAoBJ,EAAUK,GACzC1B,EAAEuB,MAAMhB,KAAK,qBAAqBoB,KAAK,kBAAmBN,EAASO,YAAYC,QAAQ,2BAA2BL,SAAS,YAG5HM,OAAQ,SAAgBT,EAAUK,GACjC1B,EAAEuB,MAAMC,SAAS,cAElBO,QAAS,SAAiBV,EAAUK,GACnC1B,EAAEuB,MAAMC,SAAS,iBAInB,IAAIH,OAAW,EACXW,GAAyB,EAE7BhC,EAAEiC,UAAUC,GAAG,+BAAgC,SAAUC,EAAGC,GAC3DlC,EAAY,yBAA2BkC,KACrCF,GAAG,iBAAkB,aAAc,SAAUC,GAC/CnC,EAAEuB,MAAMM,QAAQ,UAAUL,SAAS,WACjCU,GAAG,+BAAgC,2BAA4B,SAAUC,GAC3EnC,EAAEuB,MAAMM,QAAQ,UAAUL,SAAS,UAAuB,cAAXW,EAAEE,KAAuB,SAAW,OACjFH,GAAG,QAAS,iCAAkC,WAC/B,OAAbb,IAGJrB,EAAE,gCAAgCsC,OAClCtC,EAAEuB,MAAMgB,OACRP,GAAyB,EACzB9B,EAAY,sCACVgC,GAAG,QAAS,+BAAgC,WAC7B,OAAbb,IAGJrB,EAAE,kCAAkCsC,OACpCtC,EAAEuB,MAAMgB,OACRP,GAAyB,EACzB9B,EAAY,oCACVgC,GAAG,QAAS,+BAAgC,WAC9C,GAAIb,EACHnB,EAAY,8BAEZmB,EAASmB,QACTnB,EAAW,KAEXrB,EAAE,4BAA4BuC,OAC9BvC,EAAE,2BAA2BsC,WACvB,CACNtC,EAAE,2BAA2BuC,OAC7BvC,EAAE,4BAA4BsC,OAI9B,IAFA,IAAIG,KAEKC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAI5B,IAHA,IACIC,KAEKC,EAAK,EAAGA,EAAK,EAAGA,IAAM,CAE9B,IADA,IAAIC,EAAQ,GACHC,EAAI,EAAGA,EAAI,EAAGA,IACtBD,GANY,mBAMKE,KAAKC,MAAsB,GAAhBD,KAAKE,WAElCN,EAAOC,GAAMC,EAGdJ,EAAgBS,KAAK,0BAA4BP,EAAO,GAAK,IAAMA,EAAO,GAAK,SAGhFtB,EAAW,IAAI8B,YACdrC,WAAYkB,KAGJoB,WAAaX,EAEtBvC,EAAY,oCAEZmB,EAASgC,SAAS,SAAU3B,GAC3BxB,EAAY,mBAAqBmB,EAASO,WAAa,OAGxDP,EAASiC,KAAK,SAAUhC,GACvBpB,EAAY,iCACZF,EAAE,2BAA2BsC,OAC7BtC,EAAE,4BAA4BuC,OAE9BlB,EAAW,OAGZA,EAASkC,UAzHZ,CA4HGC","sourcesContent":["($ => {\r\n\t'use strict';\r\n\r\n\tconst $console = $('#console');\r\n\tconst console_log = function(string) {\r\n\t\tif ($console.is(':empty')) {\r\n\t\t\t$console.append('<ol />');\r\n\t\t}\r\n\r\n\t\tconst $list = $console.find('ol').append('<li>' + string + '</li>');\r\n\r\n\t\t$console.scrollTop($list.height());\r\n\t};\r\n\r\n\t$('.playground').niteLoad({\r\n\t\tsrcAttr: 'data-nite-src',\r\n\t\tsrcsetAttr: 'data-nite-srcset',\r\n\r\n\t\tvisible: true,\r\n\r\n\t\tsequential: true,\r\n\r\n\t\tbackgrounds: true,\r\n\t\textraAttrs: [],\r\n\r\n\t\tplaythrough: 'full',\r\n\r\n\t\tearly: false,\r\n\t\tearlyTimeout: 6000,\r\n\r\n\t\tonComplete: function(instance, resources) {\r\n\t\t\t$(this).addClass('complete');\r\n\t\t},\r\n\r\n\t\tonProgress: function(instance, resource) {\r\n\t\t\t$(this)\r\n\t\t\t\t.find('[data-percentage]')\r\n\t\t\t\t.attr('data-percentage', instance.percentage)\r\n\t\t\t\t.closest('.playground__percentage')\r\n\t\t\t\t.addClass('visible');\r\n\t\t},\r\n\r\n\t\tonLoad: function(instance, resource) {\r\n\t\t\t$(this).addClass('has-loads');\r\n\t\t},\r\n\t\tonError: function(instance, resource) {\r\n\t\t\t$(this).addClass('has-errors');\r\n\t\t}\r\n\t});\r\n\r\n\tlet instance;\r\n\tlet instanceSequentialMode = true;\r\n\r\n\t$(document)\r\n\t\t.on('niteLoad.nite niteError.nite', function(e, element) {\r\n\t\t\tconsole_log('jQuery.fn.niteLoad(): ' + element);\r\n\t\t})\r\n\r\n\t\t.on('niteError.nite', 'figure img', function(e) {\r\n\t\t\t$(this)\r\n\t\t\t\t.closest('figure')\r\n\t\t\t\t.addClass('error');\r\n\t\t})\r\n\r\n\t\t.on('niteLoad.nite niteError.nite', 'figure img, figure video', function(e) {\r\n\t\t\t$(this)\r\n\t\t\t\t.closest('figure')\r\n\t\t\t\t.addClass('loaded' + (e.type === 'niteError' ? '-error' : ''));\r\n\t\t})\r\n\r\n\t\t.on('click', '.nite-program-mode--sequential', function() {\r\n\t\t\tif (instance !== null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t$('.nite-program-mode--parallel').show();\r\n\t\t\t$(this).hide();\r\n\t\t\tinstanceSequentialMode = true;\r\n\t\t\tconsole_log('$.NiteLoader(): Sequential Mode');\r\n\t\t})\r\n\t\t.on('click', '.nite-program-mode--parallel', function() {\r\n\t\t\tif (instance !== null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t$('.nite-program-mode--sequential').show();\r\n\t\t\t$(this).hide();\r\n\t\t\tinstanceSequentialMode = false;\r\n\t\t\tconsole_log('$.NiteLoader(): Parallel Mode');\r\n\t\t})\r\n\r\n\t\t.on('click', '[class*=\"nite-program-load\"]', function() {\r\n\t\t\tif (instance) {\r\n\t\t\t\tconsole_log('$.NiteLoader(): Aborted...');\r\n\r\n\t\t\t\tinstance.abort();\r\n\t\t\t\tinstance = null;\r\n\r\n\t\t\t\t$('.nite-program-load--kill').hide();\r\n\t\t\t\t$('.nite-program-load--run').show();\r\n\t\t\t} else {\r\n\t\t\t\t$('.nite-program-load--run').hide();\r\n\t\t\t\t$('.nite-program-load--kill').show();\r\n\r\n\t\t\t\tlet randomResources = [];\r\n\r\n\t\t\t\tfor (let i = 0; i < 10; i++) {\r\n\t\t\t\t\tlet letters = '0123456789ABCDEF',\r\n\t\t\t\t\t\tcolors = [];\r\n\r\n\t\t\t\t\tfor (let ii = 0; ii < 2; ii++) {\r\n\t\t\t\t\t\tlet color = '';\r\n\t\t\t\t\t\tfor (let c = 0; c < 6; c++) {\r\n\t\t\t\t\t\t\tcolor += letters[Math.floor(Math.random() * 16)];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcolors[ii] = color;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\trandomResources.push('//placehold.it/720x720/' + colors[0] + '/' + colors[1] + '.jpg');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinstance = new NiteLoader({\r\n\t\t\t\t\tsequential: instanceSequentialMode\r\n\t\t\t\t});\r\n\r\n\t\t\t\tinstance.collection = randomResources;\r\n\r\n\t\t\t\tconsole_log('$.NiteLoader(): 0% - Starting...');\r\n\r\n\t\t\t\tinstance.progress(resource => {\r\n\t\t\t\t\tconsole_log('$.NiteLoader(): ' + instance.percentage + '%');\r\n\t\t\t\t});\r\n\r\n\t\t\t\tinstance.done(resources => {\r\n\t\t\t\t\tconsole_log('$.NiteLoader(): 100% - Done!!');\r\n\t\t\t\t\t$('.nite-program-load--run').show();\r\n\t\t\t\t\t$('.nite-program-load--kill').hide();\r\n\r\n\t\t\t\t\tinstance = null;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tinstance.load();\r\n\t\t\t}\r\n\t\t});\r\n})(jQuery);\r\n"],"file":"test.min.js"}