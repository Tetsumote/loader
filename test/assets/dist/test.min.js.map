{"version":3,"sources":["test.js"],"names":["$","jQuery","$console","console_log","string","is","append","$list","find","scrollTop","height","niteLoad","srcAttr","srcsetAttr","visible","sequential","backgrounds","extraAttrs","playthrough","early","earlyTimeout","onComplete","instance","resources","this","addClass","onProgress","resource","attr","percentage","closest","onLoad","onError","instanceSequentialMode","document","on","e","element","type","show","hide","abort","randomResources","i","letters","colors","ii","color","c","Math","floor","random","push","NiteLoader","collection","progress","done","load"],"mappings":"AAAA,aAEA,MAAMA,EAAIC,OACTC,SAAWF,EAAE,YACbG,YAAc,SAASC,GAClBF,SAASG,GAAG,WAAWH,SAASI,OAAO,UAE3C,MAAMC,EAAQL,SAASM,KAAK,MAAMF,OAAO,OAASF,EAAS,SAE3DF,SAASO,UAAUF,EAAMG,WAG3BV,EAAE,eAAeW,UAChBC,QAAS,gBACTC,WAAY,mBAEZC,SAAS,EAETC,YAAY,EAEZC,aAAa,EACbC,cAEAC,YAAa,OAEbC,OAAO,EACPC,aAAc,IAEdC,WAAY,SAASC,EAAUC,GAC9BvB,EAAEwB,MAAMC,SAAS,aAGlBC,WAAY,SAASJ,EAAUK,GAC9B3B,EAAEwB,MACAhB,KAAK,qBACLoB,KAAK,kBAAmBN,EAASO,YACjCC,QAAQ,2BACRL,SAAS,YAGZM,OAAQ,SAAST,EAAUK,GAC1B3B,EAAEwB,MAAMC,SAAS,cAElBO,QAAS,SAASV,EAAUK,GAC3B3B,EAAEwB,MAAMC,SAAS,iBAInB,IAAIH,SACHW,wBAAyB,EAE1BjC,EAAEkC,UACAC,GAAG,+BAAgC,SAASC,EAAGC,GAC/ClC,YAAY,yBAA2BkC,KAGvCF,GAAG,iBAAkB,aAAc,SAASC,GAC5CpC,EAAEwB,MACAM,QAAQ,UACRL,SAAS,WAGXU,GAAG,+BAAgC,2BAA4B,SAASC,GACxEpC,EAAEwB,MACAM,QAAQ,UACRL,SAAS,UAAuB,cAAXW,EAAEE,KAAuB,SAAW,OAG3DH,GAAG,QAAS,iCAAkC,WAC7B,OAAbb,WAGJtB,EAAE,gCAAgCuC,OAClCvC,EAAEwB,MAAMgB,OACRP,wBAAyB,EACzB9B,YAAY,sCAEZgC,GAAG,QAAS,+BAAgC,WAC3B,OAAbb,WAGJtB,EAAE,kCAAkCuC,OACpCvC,EAAEwB,MAAMgB,OACRP,wBAAyB,EACzB9B,YAAY,oCAGZgC,GAAG,QAAS,+BAAgC,WAC5C,GAAIb,SACHnB,YAAY,8BAEZmB,SAASmB,QACTnB,SAAW,KAEXtB,EAAE,4BAA4BwC,OAC9BxC,EAAE,2BAA2BuC,WACvB,CACNvC,EAAE,2BAA2BwC,OAC7BxC,EAAE,4BAA4BuC,OAE9B,IAAIG,KAEJ,IAAK,IAAIC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC5B,IAAIC,EAAU,mBACbC,KAED,IAAK,IAAIC,EAAK,EAAGA,EAAK,EAAGA,IAAM,CAC9B,IAAIC,EAAQ,GACZ,IAAK,IAAIC,EAAI,EAAGA,EAAI,EAAGA,IACtBD,GAASH,EAAQK,KAAKC,MAAsB,GAAhBD,KAAKE,WAElCN,EAAOC,GAAMC,EAGdL,EAAgBU,KAAK,0BAA4BP,EAAO,GAAK,IAAMA,EAAO,GAAK,SAGhFvB,SAAW,IAAI+B,YACdtC,WAAYkB,0BAGJqB,WAAaZ,EAEtBvC,YAAY,oCAEZmB,SAASiC,SAAS5B,IACjBxB,YAAY,mBAAqBmB,SAASO,WAAa,OAGxDP,SAASkC,KAAKjC,IACbpB,YAAY,iCACZH,EAAE,2BAA2BuC,OAC7BvC,EAAE,4BAA4BwC,OAE9BlB,SAAW,OAGZA,SAASmC","sourcesContent":["'use strict';\n\nconst $ = jQuery,\n\t$console = $('#console'),\n\tconsole_log = function(string) {\n\t\tif ($console.is(':empty')) $console.append('<ol />');\n\n\t\tconst $list = $console.find('ol').append('<li>' + string + '</li>');\n\n\t\t$console.scrollTop($list.height());\n\t};\n\n$('.playground').niteLoad({\n\tsrcAttr: 'data-nite-src',\n\tsrcsetAttr: 'data-nite-srcset',\n\n\tvisible: true,\n\n\tsequential: true,\n\n\tbackgrounds: true,\n\textraAttrs: [],\n\n\tplaythrough: 'full',\n\n\tearly: false,\n\tearlyTimeout: 6000,\n\n\tonComplete: function(instance, resources) {\n\t\t$(this).addClass('complete');\n\t},\n\n\tonProgress: function(instance, resource) {\n\t\t$(this)\n\t\t\t.find('[data-percentage]')\n\t\t\t.attr('data-percentage', instance.percentage)\n\t\t\t.closest('.playground__percentage')\n\t\t\t.addClass('visible');\n\t},\n\n\tonLoad: function(instance, resource) {\n\t\t$(this).addClass('has-loads');\n\t},\n\tonError: function(instance, resource) {\n\t\t$(this).addClass('has-errors');\n\t}\n});\n\nlet instance,\n\tinstanceSequentialMode = true;\n\n$(document)\n\t.on('niteLoad.nite niteError.nite', function(e, element) {\n\t\tconsole_log('jQuery.fn.niteLoad(): ' + element);\n\t})\n\n\t.on('niteError.nite', 'figure img', function(e) {\n\t\t$(this)\n\t\t\t.closest('figure')\n\t\t\t.addClass('error');\n\t})\n\n\t.on('niteLoad.nite niteError.nite', 'figure img, figure video', function(e) {\n\t\t$(this)\n\t\t\t.closest('figure')\n\t\t\t.addClass('loaded' + (e.type === 'niteError' ? '-error' : ''));\n\t})\n\n\t.on('click', '.nite-program-mode--sequential', function() {\n\t\tif (instance !== null) {\n\t\t\treturn;\n\t\t}\n\t\t$('.nite-program-mode--parallel').show();\n\t\t$(this).hide();\n\t\tinstanceSequentialMode = true;\n\t\tconsole_log('$.NiteLoader(): Sequential Mode');\n\t})\n\t.on('click', '.nite-program-mode--parallel', function() {\n\t\tif (instance !== null) {\n\t\t\treturn;\n\t\t}\n\t\t$('.nite-program-mode--sequential').show();\n\t\t$(this).hide();\n\t\tinstanceSequentialMode = false;\n\t\tconsole_log('$.NiteLoader(): Parallel Mode');\n\t})\n\n\t.on('click', '[class*=\"nite-program-load\"]', function() {\n\t\tif (instance) {\n\t\t\tconsole_log('$.NiteLoader(): Aborted...');\n\n\t\t\tinstance.abort();\n\t\t\tinstance = null;\n\n\t\t\t$('.nite-program-load--kill').hide();\n\t\t\t$('.nite-program-load--run').show();\n\t\t} else {\n\t\t\t$('.nite-program-load--run').hide();\n\t\t\t$('.nite-program-load--kill').show();\n\n\t\t\tlet randomResources = [];\n\n\t\t\tfor (let i = 0; i < 10; i++) {\n\t\t\t\tlet letters = '0123456789ABCDEF',\n\t\t\t\t\tcolors = [];\n\n\t\t\t\tfor (let ii = 0; ii < 2; ii++) {\n\t\t\t\t\tlet color = '';\n\t\t\t\t\tfor (let c = 0; c < 6; c++) {\n\t\t\t\t\t\tcolor += letters[Math.floor(Math.random() * 16)];\n\t\t\t\t\t}\n\t\t\t\t\tcolors[ii] = color;\n\t\t\t\t}\n\n\t\t\t\trandomResources.push('//placehold.it/720x720/' + colors[0] + '/' + colors[1] + '.jpg');\n\t\t\t}\n\n\t\t\tinstance = new NiteLoader({\n\t\t\t\tsequential: instanceSequentialMode\n\t\t\t});\n\n\t\t\tinstance.collection = randomResources;\n\n\t\t\tconsole_log('$.NiteLoader(): 0% - Starting...');\n\n\t\t\tinstance.progress(resource => {\n\t\t\t\tconsole_log('$.NiteLoader(): ' + instance.percentage + '%');\n\t\t\t});\n\n\t\t\tinstance.done(resources => {\n\t\t\t\tconsole_log('$.NiteLoader(): 100% - Done!!');\n\t\t\t\t$('.nite-program-load--run').show();\n\t\t\t\t$('.nite-program-load--kill').hide();\n\n\t\t\t\tinstance = null;\n\t\t\t});\n\n\t\t\tinstance.load();\n\t\t}\n\t});\n"],"file":"test.min.js"}