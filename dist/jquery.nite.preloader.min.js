"use strict";var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(function(a,b,c){"use strict";var d=Math.floor,e="nite",f=e+"Preload",g=f+"er";if(function(a){a.console||(a.console={});for(var b,c,d=a.console,e=function(){},f=["memory"],g=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profiles","profileEnd","show","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"];b=f.pop();)d[b]||(d[b]={});for(;c=g.pop();)d[c]||(d[c]=e)}(a),!c)return console.error("jQuery is needed for "+g+" to work!"),void 0;(function(){function c(a,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var d=b.createEvent("CustomEvent");return d.initCustomEvent(a,c.bubbles,c.cancelable,c.detail),d}return"function"!=typeof a.CustomEvent&&void(c.prototype=a.Event.prototype,a.CustomEvent=c)})(),Array.prototype.findIndex=Array.prototype.findIndex||function(a){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");else if("function"!=typeof a)throw new TypeError("callback must be a function");for(var b=Object(this),c=b.length>>>0,d=arguments[1],e=0;e<c;e++)if(a.call(d,b[e],e,b))return e;return-1},[].filter||(Array.prototype.filter=function(f,a,b,c,d){for(d in b=this,c=[],b)~~d+""==d&&0<=d&&f.call(a,b[d],+d,b)&&c.push(b[d]);return c});var h=[],i=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},j=c(b),k=c(a),l=function(){return c.nite&&"uniqueId"in c.nite?c.nite.uniqueId():d(8999*Math.random())+1e3},m=function(a){var b=c(a),d=!1;if(c.nite&&"inViewport"in c.nite)d=c.nite.inViewport(a).ratio;else{var e=a.getBoundingClientRect();d=!(0>e.right||0>e.bottom||e.left>k.width()||e.top>k.height())}return d&&b.is(":visible")&&"hidden"!==b.css("visibility")},n=function(a){if("object"!==("undefined"==typeof a?"undefined":_typeof(a)))return!1;try{return a instanceof HTMLElement}catch(b){return 1===a.nodeType&&"object"===_typeof(a.style)&&"object"===_typeof(a.ownerDocument)}},o=function(a){return"string"==typeof a&&-1<c.inArray(a,h)||n(a)&&"currentSrc"in a&&a.currentSrc.length&&("complete"in a&&a.complete||"readyState"in a&&2<=a.readyState)},p=function(a){return o(a)&&("object"===("undefined"==typeof a?"undefined":_typeof(a))&&("naturalWidth"in a&&0===d(a.naturalWidth)||"videoWidth"in a&&0===a.videoWidth)||"string"==typeof a)},q=function(a,b){var d={image:"jp[e]?g||jpe|jif|jfif|jfi|gif|png|tif[f]?|bmp|dib|webp|ico|cur|svg",audio:"mp3|ogg|oga|spx|ogg|wav",video:"mp4|ogv|webm"},e=Object.keys(d),f={format:null,extension:null};if("string"==typeof a){if(a=a.split("?")[0],a=a.split("#")[0],""===a)return!1;var g=void 0===b?e:[b];for(var h in g)if(g.hasOwnProperty(h)&&new RegExp("(.("+d[g[h]]+")$)|"+";base64,","g").test(a))if(/;base64,/g.test(a)){var i=a.match(new RegExp("^data:"+g[h]+"/("+d[g[h]]+")","g"));if(!i||null===i)continue;i=i[0],f.format=g[h],f.extension=i.replace("data:"+g[h]+"/","");break}else{var j=a.match(new RegExp(d[g[h]],"g"));if(j){f.format=g[h],f.extension=j[0];break}}}if(n(a)){var k=a.tagName.toLowerCase();-1<c.inArray(k,e)&&(f.format=a.tagName.toLowerCase()),"img"===k&&(f.format="image")}return f},r=function(){function d(a){var b=this;_classCallCheck(this,d),this._settings=c.extend(!0,{srcAttr:"data-src",srcsetAttr:"data-srcset",playthrough:!1,visible:!1},a),this._id=null,this._id_event=null,this._element=null,this._$element=c(),this._resource=null,this._busy=!1,this._format=null,this._done=c.noop,this._success=c.noop,this._error=c.noop,this._callback=function(a){b._$element.removeData(g),b._busy=!1;var d=b._element.currentSrc||b._element.src;-1===c.inArray(d,h)&&h.push(d);var e=[b._element,a.type,d,b._id];b["error"===a.type?"_error":"_success"].apply(b,e),b._done.apply(b,e)}}return _createClass(d,[{key:"process",value:function(){var b=this,d=this._settings.srcAttr,e=this._settings.srcAttr.replace("data-","");if(o(this._exists?this._element:this._resource))return this._busy||this._$element.off("."+this._id_event),this._callback(new CustomEvent(p(this._exists?this._element:this._resource)?"error":"load")),!1;if(this._exists&&this._settings.visible&&!m(this._element))return!1;if("image"===this._format){this._$element[this._busy?"on":"one"]("load."+this._id_event+" error."+this._id_event,this._callback);var f=this._$element.closest("picture"),h=this._settings.srcsetAttr,i=this._settings.srcsetAttr.replace("data-","");f.length&&"HTMLPictureElement"in a?(this._$element.removeData(i).removeAttr(h).removeData(e).removeAttr(d),f.find("source["+h+"]").attr("srcset",f.data(i)).removeData(i).removeAttr(h)):(this._$element.is("["+h+"]")&&this._$element.attr("srcset",this._$element.data(i)).removeData(i).removeAttr(h),this._$element.is("["+d+"]")&&this._$element.attr("src",this._$element.data(e)).removeData(e).removeAttr(d))}else if("video"===this._format||"audio"===this._format){var j=!0===this._settings.playthrough,k="full"===this._settings.playthrough,l=this._$element.find("source"),n=function(a){var b=Math.round;return a.buffered.length&&1==b(a.buffered.end(0))/b(a.seekable.end(0))},q=!1;if(l.length){var r=this;l.each(function(){var a=c(this);a.is("["+d+"]")&&(a.attr("src",a.data(e)).removeData(e).removeAttr(d),q=!0)})[this._busy?"on":"one"]("error."+this._id_event,function(a){var b=g+"_error";c(this).data(b,!0),l.length===l.filter(function(){return!0===c(this).data(b)}).length&&r._callback(a)})}else this._$element.is("["+d+"]")&&(this._$element.attr("src",this._$element.data(e)).removeData(e).removeAttr(d)[this._busy?"on":"one"]("error."+this._id_event,this._callback),q=!0);q&&this._element.load(),this._$element[this._busy?"on":"one"]("loadedmetadata."+this._id_event,function(){if(j||k||b._callback(new CustomEvent("load")),k){var a=setInterval(function(){var c=0<b._element.readyState&&!b._element.duration;c||n(b._element)?(b._element.currentTime=0,!c&&!b._busy&&b._element.paused&&b._$element.is("[autoplay]")&&b._element.play(),clearInterval(a),b._callback(new CustomEvent(c?"error":"load"))):(!b._element.paused&&b._element.pause(),!b._busy&&(b._element.currentTime+=2))},500);b._$element.data(b._id_event,a)}})[this._busy?"on":"one"]("canplay."+this._id_event,function(){k&&0===b._element.currentTime&&!n(b._element)&&b._element.currentTime++})[this._busy?"on":"one"]("canplaythrough."+this._id_event,function(){j&&b._callback(new CustomEvent("load"))})}else return!1;return this._busy||this._$element.data(g,this._id_event),this._resource=this._element.currentSrc||this._element.src,!this._busy}},{key:"done",value:function(a){c.isFunction(a)&&(this._done=function(b,c,d,e){a.apply(this,[b,c,d,e])})}},{key:"abort",value:function(){if(this._$element.off("."+this._id_event),!o(this._exists?this._element:this._resource)){var a=this._$element.attr("srcset"),b=this._$element.attr("src");void 0!==a&&this._$element.data(this._settings.srcAttr,a).attr(this._settings.srcAttr,a).removeAttr("src").removeAttr("srcset"),void 0!==b&&this._$element.data(this._settings.srcsetAttr,b).attr(this._settings.srcsetAttr,b).removeAttr("src").removeAttr("srcset")}}},{key:"resource",set:function(a){var d=n(a.resource),e="string"==typeof a.resource;if(d||e){if(this._id=a.id,this._format=q(a.resource).format,this._exists=d,e){var f="image"===this._format;this._element=b.createElement(f?"img":this._format),f&&(this._settings.srcsetAttr="data-srcset"),this._settings.srcAttr="data-src",this._resource=a.resource}d&&(this._element=a.resource),this._$element=c(this._element),e&&this._$element.data(this._settings.srcAttr.replace("data-",""),this._resource).data(this._settings.srcsetAttr.replace("data-",""),this._resource).attr(this._settings.srcAttr,this._resource).attr(this._settings.srcsetAttr,this._resource),this._id_event=this._$element.data(g),this._busy=void 0!==this._id_event,this._id_event=this._busy?this._id_event:g+"_unique_"+this._element.tagName+"_"+l()}}}]),d}(),s=function(){function a(b,d){var e=this;if(_classCallCheck(this,a),this._collection=[],this._collection_loaded=[],this._collection_instances=[],this._collection_pending=[],this._resources_loaded=[],c.isArray(b)&&("string"==typeof b[0]||n(b[0])))for(var f in b)b.hasOwnProperty(f)&&this._collection.push({id:l(),resource:b[f]});("string"==typeof b||n(b))&&this._collection.push({id:l(),resource:b}),this._settings=c.extend(!0,{srcAttr:"data-src",srcsetAttr:"data-srcset",playthrough:!1,visible:!1},d),this.percentage=0,this._done=c.noop,this._progress=c.noop,this._success=c.noop,this._error=c.noop,this._abort=!1,this._loaded=0,this._complete=!1,this._busy=!1,(this._loop=function(){setTimeout(function(){e.loop()},25)})()}return _createClass(a,[{key:"loop",value:function(){var a=this;this._collection_pending=[];for(var b,d=!0===this._settings.sequential,f=function(b){if(a._abort)return"break";var f=a._collection[b].id,g=a._collection_instances.findIndex(function(a){return a.id===f}),h=new r(a._settings);-1===g?(a._collection_instances.push({id:f,instance:h}),g=a._collection_instances.findIndex(function(a){return a.id===f})):a._collection_instances[g].instance=h,h.resource=a._collection[b],h.done(function(b,f,g,h){if(!(a._complete||a._abort)){var j=-1===c.inArray(h,a._collection_loaded);if(j){a._collection_loaded.push(h),a._busy=!1,a._loaded++,a.percentage=100*(a._loaded/a._collection.length),a.percentage=parseFloat(a.percentage.toFixed(4));var k={resource:g,status:f};a._resources_loaded.push(k),a._progress.call(a,k),a["error"===f?"_error":"_success"].call(a,k),c(b).trigger(e+i(f)+"."+e,[b,g])}a._loaded===a._collection.length?(a._done.call(a,a._resources_loaded),a._complete=!0):j&&d&&a._collection_pending.length&&(a._collection_pending=a._collection_pending.filter(function(a){return a.id!==h}),a._collection_pending=a._collection_pending.filter(function(a){return a.id!==h}),a._collection_pending.length&&(a._busy=a._collection_pending[0].instance.process()))}}),d&&(!d||a._busy)?d&&a._busy&&(!a._settings.visible||a._settings.visible&&m(h._element))&&a._collection_pending.push({id:f,instance:h}):a._busy=h.process()},g=0;g<this._collection.length&&(b=f(g),"break"!==b);g++);}},{key:"done",value:function(a){if(c.isFunction(a)){var b=function(b){a.call(this,b)};this._collection.length?(this._done=b,this._loop()):b()}}},{key:"progress",value:function(a){if(c.isFunction(a)){var b=function(b){a.call(this,b)};this._collection.length&&(this._progress=b,this._loop())}}},{key:"success",value:function(a){if(c.isFunction(a)){var b=function(b){a.call(this,b)};this._collection.length&&(this._success=b,this._loop())}}},{key:"error",value:function(a){if(c.isFunction(a)){var b=function(b){a.call(this,b)};this._collection.length&&(this._error=b,this._loop())}}},{key:"abort",value:function(){for(var a in this._collection_instances)this._collection_instances[a].instance.abort();this._collection.length&&(this._abort=!0)}}]),a}(),t=function(){function a(b,d){_classCallCheck(this,a),this._$element=b,this._element=b[0],this._settings=c.extend(!0,{srcAttr:"data-src",srcsetAttr:"data-srcset",backgrounds:!1,attributes:[]},d)}return _createClass(a,[{key:"collect",value:function(a){var b=[],d="plain"===a,e=this._settings.srcAttr,f=this._settings.srcsetAttr,g="img, video, audio",h=g+", picture, source",i=this._$element.find(g);if(this._$element.is(g)&&(i=i.add(this._$element)),i=i.filter(function(){var a=c(this),b="["+e+"], ["+f+"]";return a.is(b)||a.children(h).filter(b).length}),i.each(function(){var a={element:this,resource:c(this).attr(e)||c(this).attr(f)};d&&(a=a.element),b.push(a)}),!0===this._settings.backgrounds&&this._$element.find("*").addBack().not(h).filter(function(){return"none"!==c(this).css("background-image")}).each(function(){var a=c(this).css("background-image").match(/\((.*?)\)/);if(null===a||2>a.length)return!0;var e={element:this,resource:a[1].replace(/('|")/g,"")};d&&(e=e.resource),b.push(e)}),this._settings.attributes.length){var j=function(a){if(this._settings.attributes.hasOwnProperty(a)&&(this._$element.find("["+a+"]:not("+h+")").each(function(){let e={element:this,resource:c(this).attr(a)};d&&(e=e.resource),b.push(e)}),this._$element.is("["+a+"]")&&!this._$element.is(h))){let c={element:this._element,resource:this._$element.attr(a)};d&&(c=c.resource),b.push(c)}};for(const a in this._settings.attributes)j(a)}return b}}]),a}();c[f]=s;var u=[];c.fn[f]=function(a){var b=a;"object"!==("undefined"==typeof a?"undefined":_typeof(a))&&(a={});var d=c.extend(!0,{srcAttr:"data-src",srcsetAttr:"data-srcset",visible:!1,sequential:!1,backgrounds:!1,extraAttrs:[],playthrough:!1,early:!1,earlyTimeout:0,onProgress:c.noop,onLoad:c.noop,onError:c.noop,onComplete:c.noop},a),f=d.onComplete;return c.isFunction(b)&&(f=b),c.isArray(d.attributes)||(d.attributes=[]),"string"==typeof d.attributes&&(d.attributes=d.attributes.split(" ")),this.each(function(){var a=this,b=c(a),h=new t(b,d).collect("plain"),m=g+"_"+l(),n=new s(h,d);if(u.push({id:m,instance:n,element:a,timeout:null}),n.progress(function(f){b.trigger(e+"Progress."+e,[a,f]);var g=[n,f];c.isFunction(d.onProgress)&&d.onProgress.apply(a,g);var h=i(f.status);c.isFunction(d["on"+h])&&d["on"+h].apply(a,g)}),n.done(function(g){b.trigger(e+"Complete."+e,[a,g]),f.apply(a,[n,g]),d.visible&&c(c.nite&&"scroll"in c.nite?j:k).off("scroll."+m),u=u.filter(function(a){return a.id!==m}),u.forEach(function(a){b.is(a.element)&&a.instance.loop()})}),d.visible)if(c.nite&&"scroll"in c.nite)c.nite.scroll(m,function(){n.loop()},{fps:25});else{var o=function(a,b){var c=Date.now();return function(){0>c+b-Date.now()&&(a(),c=Date.now())}};k.on("scroll."+m,o(function(){n.loop()},1e3))}if(!0===d.early){var p=function(a){var b=u[a];if(u[a].id===m)return clearTimeout(b.timeout),b.timeout=setTimeout(function(){b.instance._settings.visible=!1,b.instance._settings.sequential=!0,b.instance.loop()},c.isNumeric(d.earlyTimeout)?parseInt(d.earlyTimeout):0),"break"};for(let a in u){var q=p(a);if("break"===q)break}}})}})(window,document,jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5uaXRlLnByZWxvYWRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiMGtCQUFBLENBQ0EsQ0FBQyxBQUFTLEFBQVEsQUFBVSxBQUFHLGVBQVUsQUFDckMsQ0FFQSxtQkFzR29FLEtBQUEsQUFBSyxNQXJHckUsRUFESixBQUN1QixPQUNuQixFQUFtQixFQUZ2QixBQUV3QyxVQUNwQyxFQUFZLEVBSGhCLEFBR2lDLEFBR2pDLEFBQ0EsQUFDQSxRQUFDLEFBQVMsV0FBUSxBQUNkLEFBQUksQ0FBQyxFQUFMLEFBQVksVUFDUixFQUFBLEFBQU8sQUFBVSxBQUNyQixtQkFBQSxBQUNJLEdBREosQUFDVSxFQUROLEVBQU0sRUFBVixBQUFpQixRQUViLEVBQUEsQUFBUSxVQUFXLEFBQUUsQ0FGekIsRUFBQSxBQUdJLEFBQWEsQUFBQyxhQUhsQixBQUlJLEFBQVUsQUFBQyxBQUNQLEFBQ0EsQUFBcUUsQUFBTSxBQUNuRiw4UEFBTyxFQUFPLEVBQWQsQUFBYyxBQUFXLEFBQ3JCLEFBQUksT0FBSixBQUFLLEFBQUksT0FEYixBQUVRLEFBQUksQUFBUSxBQUNwQixjQUFPLEVBQVMsRUFBaEIsQUFBZ0IsQUFBUSxBQUNwQixBQUFJLE9BQUosQUFBSyxBQUFJLE9BRGIsQUFFUSxBQUFJLEFBQVUsQUFDekIsT0FoQkQsQUFnQkcsQUFDSCxBQUdBLEFBQ0EsS0FBQSxBQUFJLEFBQUMsQUFBSSxBQUNMLEdBQ0EsQUFBTyxBQUNWLEFBQ0QsQUFHQSxBQUNBLEFBQ0EsZUFSSSxBQUFRLE1BQU0sQUFBd0IsMEJBQXRDLEFBQWdELEFBQ2hELHFCQU9ILFVBQVksQUFFVCxDQUdBLEFBQVMsQUFBYyxBQUFPLGVBQVMsQUFDbkMsR0FBUyxHQUFVLENBQUEsQUFBRSxBQUFTLFdBQVgsQUFBa0IsQUFBWSxjQUFqRCxBQUFtQixBQUFxQyxBQUFRLEFBQ2hFLGtCQUFJLEdBQU0sRUFBQSxBQUFTLFlBQW5CLEFBQVUsQUFBc0IsQUFDaEMsZUFDQSxBQUFPLEFBQ1YsU0FGRyxB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a0IsS0FBdEIsQUFBSSxBQUF1QixBQUFPLEFBQXlCLEFBRXZELDJCQUFhLEVBQWIsQUFBb0MsQUFFcEMsV0FBQSxBQUF1QixRQUFVLFdBQVcsVUFBWSxBQUVwRCxBQUNBLEdBQUEsQUFBdUIsU0FBdkIsQUFBZ0MsVUFBaEMsQUFBMEMsQUFBVSxBQUNwRCxhQUFBLEFBQXVCLFNBQXZCLEFBQWdDLFVBQWhDLEFBQTBDLEFBQWEsQUFFdkQsZ0JBQUEsQUFBdUIsU0FBdkIsQUFBZ0MsQUFFbkMsTUFSZ0MsRUFROUIsRUFBQSxBQUFFLFVBQVUsRUFBWixBQUFxQixjQUFnQixTQUFTLEVBQTlDLEFBQXFDLEFBQWtCLGNBUjFELEFBQWlDLEFBUXlDLEFBRTFFLEdBbEJSLEFBb0JLLE9BcEJ5QixNQUFLLEdBQUwsQUFBUyxBQUFPLFFBQW9CLE9BQTNCLEFBQTJCLG9CQWtCMUQsQUFJUCxLQXRCRCxDQXdCSCxDQWhHRCxBQUFPLEFBa0dWLEVBM0lELEFBNklILENBN2lDRCxHQUFBLEFBNmlDRyxPQTdpQ0gsQUE2aUNXLFNBN2lDWCxBQTZpQ3FCIiwiZmlsZSI6ImpxdWVyeS5uaXRlLnByZWxvYWRlci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgSlF1ZXJ5IE5pdGUgUHJlbG9hZGVyIHwgRGFuaWVsZSBGaW9yb25pIHwgZGZpb3Jvbmk5MUBnbWFpbC5jb20gKi9cbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCAkLCB1bmRlZmluZWQpe1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGNvbnN0XG4gICAgICAgIG5hbWVzcGFjZV9wcmVmaXggPSAnbml0ZScsXG4gICAgICAgIG5hbWVzcGFjZV9tZXRob2QgPSBuYW1lc3BhY2VfcHJlZml4KydQcmVsb2FkJyxcbiAgICAgICAgbmFtZXNwYWNlID0gbmFtZXNwYWNlX21ldGhvZCsnZXInO1xuXG5cbiAgICAvLyB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL3BhdWxtaWxsci9jb25zb2xlLXBvbHlmaWxsXG4gICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXG4gICAgKGZ1bmN0aW9uKGdsb2JhbCkge1xuICAgICAgICBpZiAoIWdsb2JhbC5jb25zb2xlKVxuICAgICAgICAgICAgZ2xvYmFsLmNvbnNvbGUgPSB7fTtcbiAgICAgICAgbGV0IGNvbiA9IGdsb2JhbC5jb25zb2xlLFxuICAgICAgICAgICAgcHJvcCwgbWV0aG9kLFxuICAgICAgICAgICAgZHVtbXkgPSBmdW5jdGlvbigpIHt9LFxuICAgICAgICAgICAgcHJvcGVydGllcyA9IFsnbWVtb3J5J10sXG4gICAgICAgICAgICBtZXRob2RzID0gKCdhc3NlcnQsY2xlYXIsY291bnQsZGVidWcsZGlyLGRpcnhtbCxlcnJvcixleGNlcHRpb24sZ3JvdXAsJyArXG4gICAgICAgICAgICAgICAgJ2dyb3VwQ29sbGFwc2VkLGdyb3VwRW5kLGluZm8sbG9nLG1hcmtUaW1lbGluZSxwcm9maWxlLHByb2ZpbGVzLHByb2ZpbGVFbmQsJyArXG4gICAgICAgICAgICAgICAgJ3Nob3csdGFibGUsdGltZSx0aW1lRW5kLHRpbWVsaW5lLHRpbWVsaW5lRW5kLHRpbWVTdGFtcCx0cmFjZSx3YXJuJykuc3BsaXQoJywnKTtcbiAgICAgICAgd2hpbGUgKHByb3AgPSBwcm9wZXJ0aWVzLnBvcCgpKVxuICAgICAgICAgICAgaWYgKCFjb25bcHJvcF0pXG4gICAgICAgICAgICAgICAgY29uW3Byb3BdID0ge307XG4gICAgICAgIHdoaWxlIChtZXRob2QgPSBtZXRob2RzLnBvcCgpKVxuICAgICAgICAgICAgaWYgKCFjb25bbWV0aG9kXSlcbiAgICAgICAgICAgICAgICBjb25bbWV0aG9kXSA9IGR1bW15O1xuICAgIH0pKHdpbmRvdyk7XG4gICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXG5cblxuICAgIC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuICAgIGlmKCAhJCApIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignalF1ZXJ5IGlzIG5lZWRlZCBmb3IgJytuYW1lc3BhY2UrJyB0byB3b3JrIScpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC1cblxuXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50L0N1c3RvbUV2ZW50I1BvbHlmaWxsXG4gICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXG4gICAgKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoIHR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQgPT09IFwiZnVuY3Rpb25cIiApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vSWYgbm90IElFXG5cbiAgICAgICAgZnVuY3Rpb24gQ3VzdG9tRXZlbnQgKCBldmVudCwgcGFyYW1zICkge1xuICAgICAgICAgICAgcGFyYW1zID0gcGFyYW1zIHx8IHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGFibGU6IGZhbHNlLCBkZXRhaWw6IHVuZGVmaW5lZCB9O1xuICAgICAgICAgICAgbGV0IGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCAnQ3VzdG9tRXZlbnQnICk7XG4gICAgICAgICAgICBldnQuaW5pdEN1c3RvbUV2ZW50KCBldmVudCwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsICk7XG4gICAgICAgICAgICByZXR1cm4gZXZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgQ3VzdG9tRXZlbnQucHJvdG90eXBlID0gd2luZG93LkV2ZW50LnByb3RvdHlwZTtcblxuICAgICAgICB3aW5kb3cuQ3VzdG9tRXZlbnQgPSBDdXN0b21FdmVudDtcblxuICAgIH0pKCk7XG4gICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXG5cblxuICAgIC8vIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vanNQb2x5ZmlsbC9BcnJheS5wcm90b3R5cGUuZmluZEluZGV4XG4gICAgLy8gdG9kbyBjaGVjayBlZmZpY2llbmN5IGFuZCByZWxpYWJpbGl0eSBpbiBNUyBJbnRlcm5ldCBFeHBsb3JlclxuICAgIC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuICAgIEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXggPSBBcnJheS5wcm90b3R5cGUuZmluZEluZGV4IHx8IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheS5wcm90b3R5cGUuZmluZEluZGV4IGNhbGxlZCBvbiBudWxsIG9yIHVuZGVmaW5lZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3RcbiAgICAgICAgICAgIGxpc3QgPSBPYmplY3QodGhpcyksXG4gICAgICAgICAgICAvLyBNYWtlcyBzdXJlcyBpcyBhbHdheXMgaGFzIGFuIHBvc2l0aXZlIGludGVnZXIgYXMgbGVuZ3RoLlxuICAgICAgICAgICAgIGxlbmd0aCA9IGxpc3QubGVuZ3RoID4+PiAwLFxuICAgICAgICAgICAgIHRoaXNBcmcgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICggY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBsaXN0W2ldLCBpLCBsaXN0KSApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgICAvLyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC1cblxuXG4gICAgLy8gdGhhbmtzIHRvIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2VsaXBlcmVsbWFuLzEwMzE2NTZcbiAgICAvLyB0b2RvIGNoZWNrIGVmZmljaWVuY3kgYW5kIHJlbGlhYmlsaXR5IGluIE1TIEludGVybmV0IEV4cGxvcmVyXG4gICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXG4gICAgW10uZmlsdGVyfHwoQXJyYXkucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbihhLGIsYyxkLGUpe2M9dGhpcztkPVtdO2ZvcihlIGluIGMpfn5lKycnPT1lJiZlPj0wJiZhLmNhbGwoYixjW2VdLCtlLGMpJiZkLnB1c2goY1tlXSk7cmV0dXJuIGR9KVxuICAgIC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuXG5cbiAgICBsZXQgY2FjaGUgPSBbXTtcblxuICAgIGNvbnN0XG5cbiAgICAgICAgY2FwaXRhbGl6ZSA9IGZ1bmN0aW9uKHN0cmluZyl7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xuICAgICAgICB9LFxuXG4gICAgICAgICRkb2N1bWVudCA9ICQoZG9jdW1lbnQpLFxuICAgICAgICAkd2luZG93ID0gJCh3aW5kb3cpLFxuXG4gICAgICAgIHVuaXF1ZV9pZCA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgIHJldHVybiAkLm5pdGUgJiYgJ3VuaXF1ZUlkJyBpbiAkLm5pdGUgPyAkLm5pdGUudW5pcXVlSWQoKSA6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICg5OTk5IC0gMTAwMCkpICsgMTAwMDtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGlzX3Zpc2libGUgPSBmdW5jdGlvbihlbGVtZW50KXtcblxuICAgICAgICAgICAgY29uc3QgJGVsID0gJChlbGVtZW50KTtcblxuICAgICAgICAgICAgbGV0IGluX3ZpZXdwb3J0ID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmKCAkLm5pdGUgJiYgJ2luVmlld3BvcnQnIGluICQubml0ZSApXG4gICAgICAgICAgICAgICAgaW5fdmlld3BvcnQgPSAkLm5pdGUuaW5WaWV3cG9ydChlbGVtZW50KS5yYXRpbztcblxuICAgICAgICAgICAgZWxzZXtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICAgICAgaW5fdmlld3BvcnQgPSAhKCByZWN0LnJpZ2h0IDwgMCB8fCByZWN0LmJvdHRvbSA8IDAgfHwgcmVjdC5sZWZ0ID4gJHdpbmRvdy53aWR0aCgpIHx8IHJlY3QudG9wID4gJHdpbmRvdy5oZWlnaHQoKSApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBpbl92aWV3cG9ydCAmJiAkZWwuaXMoJzp2aXNpYmxlJykgJiYgJGVsLmNzcygndmlzaWJpbGl0eScpICE9PSAnaGlkZGVuJztcblxuICAgICAgICB9LFxuXG4gICAgICAgIGlzX2h0bWxfb2JqZWN0ID0gZnVuY3Rpb24oIG9iamVjdCApe1xuXG4gICAgICAgICAgICBpZiggdHlwZW9mIG9iamVjdCAhPT0gJ29iamVjdCcgKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaChlKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0Lm5vZGVUeXBlID09PSAxICYmIHR5cGVvZiBvYmplY3Quc3R5bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmplY3Qub3duZXJEb2N1bWVudCA9PT0gJ29iamVjdCc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBpc19sb2FkZWQgPSBmdW5jdGlvbihlbGVtZW50KXtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICB0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAmJiAkLmluQXJyYXkoZWxlbWVudCwgY2FjaGUpID4gLTFcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHx8IChcbiAgICAgICAgICAgICAgICBpc19odG1sX29iamVjdChlbGVtZW50KVxuICAgICAgICAgICAgICAgICYmICggJ2N1cnJlbnRTcmMnIGluIGVsZW1lbnQgJiYgZWxlbWVudC5jdXJyZW50U3JjLmxlbmd0aCApXG4gICAgICAgICAgICAgICAgJiYgKCAoICdjb21wbGV0ZScgaW4gZWxlbWVudCAmJiBlbGVtZW50LmNvbXBsZXRlICkgfHwgKCAncmVhZHlTdGF0ZScgaW4gZWxlbWVudCAmJiBlbGVtZW50LnJlYWR5U3RhdGUgPj0gMiApIClcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBpc19icm9rZW4gPSBmdW5jdGlvbihlbGVtZW50KXtcblxuICAgICAgICAgICAgcmV0dXJuIGlzX2xvYWRlZChlbGVtZW50KSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBlbGVtZW50ID09PSAnb2JqZWN0JyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCAnbmF0dXJhbFdpZHRoJyBpbiBlbGVtZW50ICYmIE1hdGguZmxvb3IoZWxlbWVudC5uYXR1cmFsV2lkdGgpID09PSAwIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICggJ3ZpZGVvV2lkdGgnIGluIGVsZW1lbnQgJiYgZWxlbWVudC52aWRlb1dpZHRoID09PSAwIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICB8fCB0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycgLy8gdG9kbyBjaGVjayBpZiBpcyB1cmwgbWF5YmU/XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgaXNfZm9ybWF0ID0gZnVuY3Rpb24oIGl0ZW0sIGV4cGVjdGVkX2Zvcm1hdCApe1xuXG4gICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgIGZvcm1hdF9leHRlbnNpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBpbWFnZSA6ICdqcFtlXT9nfHxqcGV8amlmfGpmaWZ8amZpfGdpZnxwbmd8dGlmW2ZdP3xibXB8ZGlifHdlYnB8aWNvfGN1cnxzdmcnLFxuICAgICAgICAgICAgICAgICAgICBhdWRpbyA6ICdtcDN8b2dnfG9nYXxzcHh8b2dnfHdhdicsXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvIDogJ21wNHxvZ3Z8d2VibSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZvcm1hdF9uYW1lcyA9IE9iamVjdC5rZXlzKGZvcm1hdF9leHRlbnNpb25zKSxcbiAgICAgICAgICAgICAgICBiYXNlNjRfaGVhZGluZyA9ICdcXDtiYXNlNjRcXCwnO1xuXG4gICAgICAgICAgICBsZXQgb3V0cHV0ID0geyBmb3JtYXQ6IG51bGwsIGV4dGVuc2lvbjogbnVsbCB9O1xuXG4gICAgICAgICAgICBpZiggdHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnICkge1xuXG4gICAgICAgICAgICAgICAgaXRlbSA9IGl0ZW0uc3BsaXQoJz8nKVswXTsgLy8gZ2V0IHJpZCBvZiBxdWVyeSBzdHJpbmdzXG4gICAgICAgICAgICAgICAgaXRlbSA9IGl0ZW0uc3BsaXQoJyMnKVswXTsgLy8gZ2V0IHJpZCBvZiBoYXNoZXNcblxuICAgICAgICAgICAgICAgIGlmIChpdGVtID09PSAnJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgbGV0IGZvcm1hdF9xdWV1ZSA9IHVuZGVmaW5lZCAhPT0gZXhwZWN0ZWRfZm9ybWF0ID8gWyBleHBlY3RlZF9mb3JtYXQgXSA6IGZvcm1hdF9uYW1lcztcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgeCBpbiBmb3JtYXRfcXVldWUpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybWF0X3F1ZXVlLmhhc093blByb3BlcnR5KHgpKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAoJyhcXC4oJyArIGZvcm1hdF9leHRlbnNpb25zW2Zvcm1hdF9xdWV1ZVt4XV0gKyAnKSQpfCcgKyBiYXNlNjRfaGVhZGluZywgJ2cnKS50ZXN0KGl0ZW0pKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3IFJlZ0V4cChiYXNlNjRfaGVhZGluZywgJ2cnKS50ZXN0KGl0ZW0pKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoZXM2NCA9IGl0ZW0ubWF0Y2gobmV3IFJlZ0V4cCgnXmRhdGE6JyArIGZvcm1hdF9xdWV1ZVt4XSArICdcXC8oJyArIGZvcm1hdF9leHRlbnNpb25zW2Zvcm1hdF9xdWV1ZVt4XV0gKyAnKScsICdnJykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggIW1hdGNoZXM2NCB8fCBudWxsID09PSBtYXRjaGVzNjQgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlczY0ID0gbWF0Y2hlczY0WzBdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5mb3JtYXQgPSBmb3JtYXRfcXVldWVbeF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5leHRlbnNpb24gPSBtYXRjaGVzNjQucmVwbGFjZSgnZGF0YTonICsgZm9ybWF0X3F1ZXVlW3hdICsgJy8nLCAnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaGVzID0gaXRlbS5tYXRjaChuZXcgUmVnRXhwKGZvcm1hdF9leHRlbnNpb25zW2Zvcm1hdF9xdWV1ZVt4XV0sICdnJykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5mb3JtYXQgPSBmb3JtYXRfcXVldWVbeF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQuZXh0ZW5zaW9uID0gbWF0Y2hlc1swXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCBpc19odG1sX29iamVjdChpdGVtKSApe1xuXG4gICAgICAgICAgICAgICAgbGV0IHRhZ19uYW1lID0gaXRlbS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYoICQuaW5BcnJheSh0YWdfbmFtZSwgZm9ybWF0X25hbWVzKSA+IC0xIClcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmZvcm1hdCA9IGl0ZW0udGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYoIHRhZ19uYW1lID09PSAnaW1nJyApXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC5mb3JtYXQgPSAnaW1hZ2UnO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgXG4gICAgICAgIH07XG5cbiAgICBjbGFzcyBSZXNvdXJjZUxvYWRlciB7XG5cbiAgICAgICAgY29uc3RydWN0b3Iob3B0aW9ucyl7XG5cbiAgICAgICAgICAgIC8vIHRvZG8gbWFrZSBfdmFycyByZWFsbHkgcHJpdmF0ZVxuICAgICAgICAgICAgLy8gdG9kbyBtYWtlIHVzZWZ1bCB2YXJzIHNpbmNlIHRoaXMgY2xhc3MgaXMgbm90IHB1YmxpYyBidXQgaXMgcmV0dXJuZWQgaW4gLnByb2dyZXNzKCkgY2FsbGJhY2tcbiAgICAgICAgICAgIHRoaXMuX3NldHRpbmdzICA9ICQuZXh0ZW5kKHRydWUsIHtcbiAgICAgICAgICAgICAgICBzcmNBdHRyICAgICA6ICdkYXRhLXNyYycsXG4gICAgICAgICAgICAgICAgc3Jjc2V0QXR0ciAgOiAnZGF0YS1zcmNzZXQnLFxuICAgICAgICAgICAgICAgIHBsYXl0aHJvdWdoIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmlzaWJsZSAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICB0aGlzLl9pZCAgICAgICAgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5faWRfZXZlbnQgID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudCAgID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50ICA9ICQoKTtcblxuICAgICAgICAgICAgdGhpcy5fcmVzb3VyY2UgID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2J1c3kgICAgICA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLl9mb3JtYXQgICAgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLl9kb25lICAgICAgPSAkLm5vb3A7XG4gICAgICAgICAgICB0aGlzLl9zdWNjZXNzICAgPSAkLm5vb3A7XG4gICAgICAgICAgICB0aGlzLl9lcnJvciAgICAgPSAkLm5vb3A7XG5cbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrICA9IChlKSA9PiB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudC5yZW1vdmVEYXRhKG5hbWVzcGFjZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9idXN5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzcmMgPSB0aGlzLl9lbGVtZW50LmN1cnJlbnRTcmMgfHwgdGhpcy5fZWxlbWVudC5zcmM7XG5cbiAgICAgICAgICAgICAgICBpZiggJC5pbkFycmF5KHNyYywgY2FjaGUpID09PSAtMSApXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlLnB1c2goc3JjKTtcblxuICAgICAgICAgICAgICAgIGxldCB0aGlzX2FyZ3VtZW50cyA9IFsgdGhpcy5fZWxlbWVudCwgZS50eXBlLCBzcmMsIHRoaXMuX2lkIF07XG5cbiAgICAgICAgICAgICAgICB0aGlzWyBlLnR5cGUgIT09ICdlcnJvcicgPyAnX3N1Y2Nlc3MnIDogJ19lcnJvcicgXS5hcHBseSh0aGlzLCB0aGlzX2FyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZG9uZS5hcHBseSh0aGlzLCB0aGlzX2FyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHNldCByZXNvdXJjZSggZGF0YSApe1xuXG4gICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgIGVsZW1lbnRfcmVzb3VyY2UgPSBpc19odG1sX29iamVjdChkYXRhLnJlc291cmNlKSxcbiAgICAgICAgICAgICAgICBzdHJpbmdfcmVzb3VyY2UgPSB0eXBlb2YgZGF0YS5yZXNvdXJjZSA9PT0gJ3N0cmluZyc7XG5cbiAgICAgICAgICAgIGlmKCAhZWxlbWVudF9yZXNvdXJjZSAmJiAhc3RyaW5nX3Jlc291cmNlIClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX2lkID0gZGF0YS5pZDtcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1hdCA9IGlzX2Zvcm1hdChkYXRhLnJlc291cmNlKS5mb3JtYXQ7XG5cbiAgICAgICAgICAgIHRoaXMuX2V4aXN0cyA9IGVsZW1lbnRfcmVzb3VyY2U7IC8vIHRvZG8gbWF5YmUgc2VhcmNoIGZvciBhbiBlbGVtZW50IHdpdGggdGhpcyBzcmNcblxuICAgICAgICAgICAgaWYoIHN0cmluZ19yZXNvdXJjZSApe1xuXG4gICAgICAgICAgICAgICAgbGV0IGlzX2ltZyA9IHRoaXMuX2Zvcm1hdCA9PT0gJ2ltYWdlJztcblxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGlzX2ltZyA/ICdpbWcnIDogdGhpcy5fZm9ybWF0KTtcblxuICAgICAgICAgICAgICAgIGlmKCBpc19pbWcgKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXR0aW5ncy5zcmNzZXRBdHRyID0gJ2RhdGEtc3Jjc2V0JztcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXR0aW5ncy5zcmNBdHRyID0gJ2RhdGEtc3JjJztcblxuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc291cmNlID0gZGF0YS5yZXNvdXJjZTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiggZWxlbWVudF9yZXNvdXJjZSApXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IGRhdGEucmVzb3VyY2U7XG5cbiAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50ID0gJCh0aGlzLl9lbGVtZW50KTtcblxuICAgICAgICAgICAgaWYoIHN0cmluZ19yZXNvdXJjZSApe1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEodGhpcy5fc2V0dGluZ3Muc3JjQXR0ci5yZXBsYWNlKCdkYXRhLScsICcnKSwgdGhpcy5fcmVzb3VyY2UpXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKHRoaXMuX3NldHRpbmdzLnNyY3NldEF0dHIucmVwbGFjZSgnZGF0YS0nLCAnJyksIHRoaXMuX3Jlc291cmNlKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cih0aGlzLl9zZXR0aW5ncy5zcmNBdHRyLCB0aGlzLl9yZXNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIodGhpcy5fc2V0dGluZ3Muc3Jjc2V0QXR0ciwgdGhpcy5fcmVzb3VyY2UpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2lkX2V2ZW50ID0gdGhpcy5fJGVsZW1lbnQuZGF0YShuYW1lc3BhY2UpO1xuICAgICAgICAgICAgdGhpcy5fYnVzeSA9IHRoaXMuX2lkX2V2ZW50ICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLl9pZF9ldmVudCA9IHRoaXMuX2J1c3kgPyB0aGlzLl9pZF9ldmVudCA6IG5hbWVzcGFjZSArICdfdW5pcXVlXycgKyB0aGlzLl9lbGVtZW50LnRhZ05hbWUgKyAnXycrIHVuaXF1ZV9pZCgpO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IHNlIGhhIHByZXNvIGluIGNhcmljbyBpbCBjYXJpY2FtZW50byBvcHB1cmUgbm8gcGVyIHZhcmkgbW90aXZpICjDqCBnacOgIGNhcmljYXRvLCBub24gw6ggbmVsbGEgdmlld3BvcnQgZXRjKVxuICAgICAgICAgKi9cbiAgICAgICAgcHJvY2Vzcygpe1xuXG4gICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgIHNyYyA9IHRoaXMuX3NldHRpbmdzLnNyY0F0dHIsXG4gICAgICAgICAgICAgICAgc3JjX2NsZWFuID0gdGhpcy5fc2V0dGluZ3Muc3JjQXR0ci5yZXBsYWNlKCdkYXRhLScsICcnKTtcblxuICAgICAgICAgICAgaWYgKCBpc19sb2FkZWQoIHRoaXMuX2V4aXN0cyA/IHRoaXMuX2VsZW1lbnQgOiB0aGlzLl9yZXNvdXJjZSApICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9idXN5KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudC5vZmYoJy4nICsgdGhpcy5faWRfZXZlbnQpOyAvLyB0b2RvIHRoaXMgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGluIGNhbGxiYWNrXG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxsYmFjayhuZXcgQ3VzdG9tRXZlbnQoIWlzX2Jyb2tlbiggdGhpcy5fZXhpc3RzID8gdGhpcy5fZWxlbWVudCA6IHRoaXMuX3Jlc291cmNlICkgPyAnbG9hZCcgOiAnZXJyb3InKSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIH1lbHNlIGlmKCB0aGlzLl9leGlzdHMgJiYgdGhpcy5fc2V0dGluZ3MudmlzaWJsZSAmJiAhaXNfdmlzaWJsZSh0aGlzLl9lbGVtZW50KSApe1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICB9ZWxzZXtcblxuICAgICAgICAgICAgICAgIGlmKCB0aGlzLl9mb3JtYXQgPT09ICdpbWFnZScgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRbdGhpcy5fYnVzeSA/ICdvbicgOiAnb25lJ10oJ2xvYWQuJyArIHRoaXMuX2lkX2V2ZW50ICsgJyBlcnJvci4nICsgdGhpcy5faWRfZXZlbnQsIHRoaXMuX2NhbGxiYWNrKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgICAgICAgICAgJHBpY3R1cmUgPSB0aGlzLl8kZWxlbWVudC5jbG9zZXN0KCdwaWN0dXJlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzcmNzZXQgPSB0aGlzLl9zZXR0aW5ncy5zcmNzZXRBdHRyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3Jjc2V0X2NsZWFuID0gdGhpcy5fc2V0dGluZ3Muc3Jjc2V0QXR0ci5yZXBsYWNlKCdkYXRhLScsICcnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJHBpY3R1cmUubGVuZ3RoICYmICdIVE1MUGljdHVyZUVsZW1lbnQnIGluIHdpbmRvdyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlRGF0YShzcmNzZXRfY2xlYW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoc3Jjc2V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVEYXRhKHNyY19jbGVhbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cihzcmMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkcGljdHVyZS5maW5kKCdzb3VyY2VbJyArIHNyY3NldCArICddJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Jjc2V0JywgJHBpY3R1cmUuZGF0YShzcmNzZXRfY2xlYW4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVEYXRhKHNyY3NldF9jbGVhbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cihzcmNzZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl8kZWxlbWVudC5pcygnWycgKyBzcmNzZXQgKyAnXScpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzcmNzZXQnLCB0aGlzLl8kZWxlbWVudC5kYXRhKHNyY3NldF9jbGVhbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVEYXRhKHNyY3NldF9jbGVhbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoc3Jjc2V0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuXyRlbGVtZW50LmlzKCdbJyArIHNyYyArICddJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3NyYycsIHRoaXMuXyRlbGVtZW50LmRhdGEoc3JjX2NsZWFuKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZURhdGEoc3JjX2NsZWFuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cihzcmMpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKCB0aGlzLl9mb3JtYXQgPT09ICd2aWRlbycgfHwgdGhpcy5fZm9ybWF0ID09PSAnYXVkaW8nICl7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3RcblxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfcGxheXRocm91Z2hfbW9kZV9fbm9ybWFsID0gdHJ1ZSA9PT0gdGhpcy5fc2V0dGluZ3MucGxheXRocm91Z2gsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19wbGF5dGhyb3VnaF9tb2RlX19mdWxsID0gJ2Z1bGwnID09PSB0aGlzLl9zZXR0aW5ncy5wbGF5dGhyb3VnaCxcblxuICAgICAgICAgICAgICAgICAgICAgICAgJHNvdXJjZXMgPSB0aGlzLl8kZWxlbWVudC5maW5kKCdzb3VyY2UnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2Z1bGx5X2J1ZmZlcmVkID0gZnVuY3Rpb24obWVkaWEpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lZGlhLmJ1ZmZlcmVkLmxlbmd0aCAmJiBNYXRoLnJvdW5kKG1lZGlhLmJ1ZmZlcmVkLmVuZCgwKSkgLyBNYXRoLnJvdW5kKG1lZGlhLnNlZWthYmxlLmVuZCgwKSkgPT09IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNhbGxfbWVkaWFfbG9hZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCAkc291cmNlcy5sZW5ndGggKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzOyAvLyB0b2RvIGFycm93IGZ1bmMgP1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkc291cmNlcy5lYWNoKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0ICR0ID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggJHQuaXMoJ1snICsgc3JjICsgJ10nKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3NyYycsICR0LmRhdGEoc3JjX2NsZWFuKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVEYXRhKHNyY19jbGVhbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKHNyYyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbF9tZWRpYV9sb2FkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLl9idXN5ID8gJ29uJyA6ICdvbmUnXSgnZXJyb3IuJyArIHRoaXMuX2lkX2V2ZW50LCBmdW5jdGlvbihlKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZXNfZXJyb3JfaWQgPSBuYW1lc3BhY2UrJ19lcnJvcic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmRhdGEoc291cmNlc19lcnJvcl9pZCwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggJHNvdXJjZXMubGVuZ3RoID09PSAkc291cmNlcy5maWx0ZXIoZnVuY3Rpb24oKXsgcmV0dXJuIHRydWUgPT09ICQodGhpcykuZGF0YShzb3VyY2VzX2Vycm9yX2lkKTsgfSkubGVuZ3RoIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fY2FsbGJhY2soZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fJGVsZW1lbnQuaXMoJ1snICsgc3JjICsgJ10nKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3NyYycsIHRoaXMuXyRlbGVtZW50LmRhdGEoc3JjX2NsZWFuKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZURhdGEoc3JjX2NsZWFuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cihzcmMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLl9idXN5ID8gJ29uJyA6ICdvbmUnXSgnZXJyb3IuJyArIHRoaXMuX2lkX2V2ZW50LCB0aGlzLl9jYWxsYmFjayk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsX21lZGlhX2xvYWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjYWxsX21lZGlhX2xvYWQgKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5sb2FkKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLl9idXN5ID8gJ29uJyA6ICdvbmUnXSgnbG9hZGVkbWV0YWRhdGEuJyArIHRoaXMuX2lkX2V2ZW50LCAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFpc19wbGF5dGhyb3VnaF9tb2RlX19ub3JtYWwgJiYgIWlzX3BsYXl0aHJvdWdoX21vZGVfX2Z1bGwgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWxsYmFjayhuZXcgQ3VzdG9tRXZlbnQoJ2xvYWQnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaXNfcGxheXRocm91Z2hfbW9kZV9fZnVsbCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb25fcHJvZ3Jlc3NfcmVwbGFjZW1lbnRfaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc19lcnJvciA9IHRoaXMuX2VsZW1lbnQucmVhZHlTdGF0ZSA+IDAgJiYgIXRoaXMuX2VsZW1lbnQuZHVyYXRpb247XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpc19lcnJvciB8fCBpc19mdWxseV9idWZmZXJlZCh0aGlzLl9lbGVtZW50KSApe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5jdXJyZW50VGltZSA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggIWlzX2Vycm9yICYmICF0aGlzLl9idXN5ICYmIHRoaXMuX2VsZW1lbnQucGF1c2VkICYmIHRoaXMuXyRlbGVtZW50LmlzKCdbYXV0b3BsYXldJykgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnBsYXkoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwob25fcHJvZ3Jlc3NfcmVwbGFjZW1lbnRfaW50ZXJ2YWwpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2sobmV3IEN1c3RvbUV2ZW50KCAhaXNfZXJyb3IgPyAnbG9hZCcgOiAnZXJyb3InICkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICF0aGlzLl9lbGVtZW50LnBhdXNlZCApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucGF1c2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhdGhpcy5fYnVzeSApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuY3VycmVudFRpbWUgKz0gMjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnQuZGF0YSh0aGlzLl9pZF9ldmVudCwgb25fcHJvZ3Jlc3NfcmVwbGFjZW1lbnRfaW50ZXJ2YWwpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMuX2J1c3kgPyAnb24nIDogJ29uZSddKCdjYW5wbGF5LicgKyB0aGlzLl9pZF9ldmVudCwgKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBpc19wbGF5dGhyb3VnaF9tb2RlX19mdWxsICYmIHRoaXMuX2VsZW1lbnQuY3VycmVudFRpbWUgPT09IDAgJiYgIWlzX2Z1bGx5X2J1ZmZlcmVkKHRoaXMuX2VsZW1lbnQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmN1cnJlbnRUaW1lKys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICBbdGhpcy5fYnVzeSA/ICdvbicgOiAnb25lJ10oJ2NhbnBsYXl0aHJvdWdoLicgKyB0aGlzLl9pZF9ldmVudCwgKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGlzX3BsYXl0aHJvdWdoX21vZGVfX25vcm1hbCApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrKG5ldyBDdXN0b21FdmVudCgnbG9hZCcpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9ZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCAhdGhpcy5fYnVzeSApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50LmRhdGEobmFtZXNwYWNlLCB0aGlzLl9pZF9ldmVudCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fcmVzb3VyY2UgPSB0aGlzLl9lbGVtZW50LmN1cnJlbnRTcmMgfHwgdGhpcy5fZWxlbWVudC5zcmM7XG5cbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5fYnVzeTtcblxuICAgICAgICB9XG5cbiAgICAgICAgZG9uZShjYWxsYmFjayl7XG5cbiAgICAgICAgICAgIGlmKCAhJC5pc0Z1bmN0aW9uKGNhbGxiYWNrKSApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9kb25lID0gZnVuY3Rpb24oZWxlbWVudCwgc3RhdHVzLCByZXNvdXJjZSwgaWQpe1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHRoaXMsIFtlbGVtZW50LCBzdGF0dXMsIHJlc291cmNlLCBpZF0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICB9O1xuXG4gICAgICAgIGFib3J0KCl7XG5cbiAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50XG4gICAgICAgICAgICAgICAgLm9mZignLicgKyB0aGlzLl9pZF9ldmVudCk7XG5cbiAgICAgICAgICAgIGlmKCBpc19sb2FkZWQodGhpcy5fZXhpc3RzID8gdGhpcy5fZWxlbWVudCA6IHRoaXMuX3Jlc291cmNlICkgKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICBzcmMgPSB0aGlzLl8kZWxlbWVudC5hdHRyKCdzcmNzZXQnKSxcbiAgICAgICAgICAgICAgICBzcmNzZXQgPSB0aGlzLl8kZWxlbWVudC5hdHRyKCdzcmMnKTtcblxuICAgICAgICAgICAgaWYoIHVuZGVmaW5lZCAhPT0gc3JjIClcbiAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAuZGF0YSh0aGlzLl9zZXR0aW5ncy5zcmNBdHRyLCBzcmMpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKHRoaXMuX3NldHRpbmdzLnNyY0F0dHIsIHNyYylcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ3NyYycpLnJlbW92ZUF0dHIoJ3NyY3NldCcpO1xuXG4gICAgICAgICAgICBpZiggdW5kZWZpbmVkICE9PSBzcmNzZXQgKVxuICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKHRoaXMuX3NldHRpbmdzLnNyY3NldEF0dHIsIHNyY3NldClcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIodGhpcy5fc2V0dGluZ3Muc3Jjc2V0QXR0ciwgc3Jjc2V0KVxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cignc3JjJykucmVtb3ZlQXR0cignc3Jjc2V0Jyk7XG5cbiAgICAgICAgfVxuXG4gICAgfVxuICAgIFxuICAgIGNsYXNzIFJlc291cmNlc0xvYWRlciB7XG5cbiAgICAgICAgY29uc3RydWN0b3IoY29sbGVjdGlvbiwgb3B0aW9ucykge1xuXG4gICAgICAgICAgICAvLyB0b2RvIG1ha2UgX3ZhcnMgcmVhbGx5IHByaXZhdGVcbiAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb24gICAgICAgICAgID0gW107XG4gICAgICAgICAgICB0aGlzLl9jb2xsZWN0aW9uX2xvYWRlZCAgICA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbl9pbnN0YW5jZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb25fcGVuZGluZyAgID0gW107XG4gICAgICAgICAgICB0aGlzLl9yZXNvdXJjZXNfbG9hZGVkICAgICA9IFtdO1xuXG4gICAgICAgICAgICBpZiAoJC5pc0FycmF5KGNvbGxlY3Rpb24pICYmICggdHlwZW9mIGNvbGxlY3Rpb25bMF0gPT09ICdzdHJpbmcnIHx8IGlzX2h0bWxfb2JqZWN0KGNvbGxlY3Rpb25bMF0pICkpXG4gICAgICAgICAgICAgICAgZm9yICggY29uc3QgcmVzb3VyY2UgaW4gY29sbGVjdGlvbiApXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjb2xsZWN0aW9uLmhhc093blByb3BlcnR5KHJlc291cmNlKSApXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb2xsZWN0aW9uLnB1c2goeyBpZCA6IHVuaXF1ZV9pZCgpLCByZXNvdXJjZSA6IGNvbGxlY3Rpb25bcmVzb3VyY2VdIH0pO1xuICAgICAgICAgICAgaWYgKCB0eXBlb2YgY29sbGVjdGlvbiA9PT0gJ3N0cmluZycgfHwgaXNfaHRtbF9vYmplY3QoY29sbGVjdGlvbikgKVxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb24ucHVzaCh7IGlkIDogdW5pcXVlX2lkKCksIHJlc291cmNlIDogY29sbGVjdGlvbiB9KTtcblxuICAgICAgICAgICAgdGhpcy5fc2V0dGluZ3MgPSAkLmV4dGVuZCh0cnVlLCB7XG4gICAgICAgICAgICAgICAgc3JjQXR0ciAgICAgOiAnZGF0YS1zcmMnLFxuICAgICAgICAgICAgICAgIHNyY3NldEF0dHIgIDogJ2RhdGEtc3Jjc2V0JyxcbiAgICAgICAgICAgICAgICBwbGF5dGhyb3VnaCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZpc2libGUgICAgIDogZmFsc2UsXG4gICAgICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICAgICAgdGhpcy5wZXJjZW50YWdlID0gMDtcblxuICAgICAgICAgICAgdGhpcy5fZG9uZSAgICAgID0gJC5ub29wO1xuICAgICAgICAgICAgdGhpcy5fcHJvZ3Jlc3MgID0gJC5ub29wO1xuICAgICAgICAgICAgdGhpcy5fc3VjY2VzcyAgID0gJC5ub29wO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IgICAgID0gJC5ub29wO1xuXG4gICAgICAgICAgICB0aGlzLl9hYm9ydCAgICAgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlZCAgICA9IDA7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSAgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2J1c3kgICAgICA9IGZhbHNlO1xuXG4gICAgICAgICAgICAodGhpcy5fbG9vcCA9ICgpID0+IHsgLy8gc2VsZiBpbnZva2luZyB0aGlzLl9sb29wXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggKCkgPT4geyAvLyBmb3JjZSBhc3luY2hyb255IChnaXZlcyB0aW1lIHRvIGNoYWluIG1ldGhvZHMgc3luY2hyb25vdXNseSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb29wKCk7XG4gICAgICAgICAgICAgICAgfSwgMjUpO1xuICAgICAgICAgICAgfSkoKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgbG9vcCgpe1xuXG4gICAgICAgICAgICB0aGlzLl9jb2xsZWN0aW9uX3BlbmRpbmcgPSBbXTsgLy8gcmVzZXRzIHBlbmRpbmcgZWxlbWVudHMgKHNlcXVlbnRpYWwgb3B0IGhlbHBlciBhcnJheSkgZXZlcnkgdGltZSB3ZSBsb29wXG5cbiAgICAgICAgICAgIGNvbnN0IHNlcXVlbnRpYWxfbW9kZSA9IHRydWUgPT09IHRoaXMuX3NldHRpbmdzLnNlcXVlbnRpYWw7XG5cbiAgICAgICAgICAgIGZvciggbGV0IGkgPSAwOyBpIDwgdGhpcy5fY29sbGVjdGlvbi5sZW5ndGg7IGkrKyApe1xuXG4gICAgICAgICAgICAgICAgaWYoIHRoaXMuX2Fib3J0IClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBsZXQgdGhpc19sb2FkX2lkID0gdGhpcy5fY29sbGVjdGlvbltpXS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdGhpc19sb2FkX2luZGV4ID0gdGhpcy5fY29sbGVjdGlvbl9pbnN0YW5jZXMuZmluZEluZGV4KCB4ID0+IHguaWQgPT09IHRoaXNfbG9hZF9pZCApLFxuICAgICAgICAgICAgICAgICAgICB0aGlzX2xvYWRfaW5zdGFuY2UgPSBuZXcgUmVzb3VyY2VMb2FkZXIodGhpcy5fc2V0dGluZ3MpO1xuXG4gICAgICAgICAgICAgICAgaWYoIHRoaXNfbG9hZF9pbmRleCA9PT0gLTEgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb25faW5zdGFuY2VzLnB1c2goeyBpZCA6IHRoaXNfbG9hZF9pZCwgaW5zdGFuY2UgOiB0aGlzX2xvYWRfaW5zdGFuY2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNfbG9hZF9pbmRleCA9IHRoaXMuX2NvbGxlY3Rpb25faW5zdGFuY2VzLmZpbmRJbmRleCggeCA9PiB4LmlkID09PSB0aGlzX2xvYWRfaWQgKTtcbiAgICAgICAgICAgICAgICB9ZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb2xsZWN0aW9uX2luc3RhbmNlc1t0aGlzX2xvYWRfaW5kZXhdLmluc3RhbmNlID0gdGhpc19sb2FkX2luc3RhbmNlO1xuXG4gICAgICAgICAgICAgICAgdGhpc19sb2FkX2luc3RhbmNlLnJlc291cmNlID0gdGhpcy5fY29sbGVjdGlvbltpXTtcblxuICAgICAgICAgICAgICAgIHRoaXNfbG9hZF9pbnN0YW5jZS5kb25lKChlbGVtZW50LCBzdGF0dXMsIHJlc291cmNlLCBpZCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCB0aGlzLl9jb21wbGV0ZSB8fCB0aGlzLl9hYm9ydCApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGFfcHJvZ3Jlc3MgPSAkLmluQXJyYXkoaWQsIHRoaXMuX2NvbGxlY3Rpb25fbG9hZGVkKSA9PT0gLTE7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGFfcHJvZ3Jlc3MgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb25fbG9hZGVkLnB1c2goaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYnVzeSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2FkZWQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVyY2VudGFnZSA9IHRoaXMuX2xvYWRlZCAvIHRoaXMuX2NvbGxlY3Rpb24ubGVuZ3RoICogMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZXJjZW50YWdlID0gcGFyc2VGbG9hdCh0aGlzLnBlcmNlbnRhZ2UudG9GaXhlZCg0KSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aGlzX3Jlc291cmNlID0geyByZXNvdXJjZSA6IHJlc291cmNlLCBzdGF0dXMgOiBzdGF0dXMgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jlc291cmNlc19sb2FkZWQucHVzaCh0aGlzX3Jlc291cmNlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJvZ3Jlc3MuY2FsbCh0aGlzLCB0aGlzX3Jlc291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbIHN0YXR1cyAhPT0gJ2Vycm9yJyA/ICdfc3VjY2VzcycgOiAnX2Vycm9yJyBdLmNhbGwodGhpcywgdGhpc19yZXNvdXJjZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQoZWxlbWVudCkudHJpZ2dlcihuYW1lc3BhY2VfcHJlZml4ICsgY2FwaXRhbGl6ZShzdGF0dXMpICsgJy4nICsgbmFtZXNwYWNlX3ByZWZpeCwgWyBlbGVtZW50LCByZXNvdXJjZSBdKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIHRoaXMuX2xvYWRlZCA9PT0gdGhpcy5fY29sbGVjdGlvbi5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvbmUuY2FsbCh0aGlzLCB0aGlzLl9yZXNvdXJjZXNfbG9hZGVkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29tcGxldGUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKCBhX3Byb2dyZXNzICYmIHNlcXVlbnRpYWxfbW9kZSApe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggdGhpcy5fY29sbGVjdGlvbl9wZW5kaW5nLmxlbmd0aCApe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbl9wZW5kaW5nID0gdGhpcy5fY29sbGVjdGlvbl9wZW5kaW5nLmZpbHRlcih4ID0+IHguaWQgIT09IGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb2xsZWN0aW9uX3BlbmRpbmcgPSB0aGlzLl9jb2xsZWN0aW9uX3BlbmRpbmcuZmlsdGVyKHggPT4geC5pZCAhPT0gaWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHRoaXMuX2NvbGxlY3Rpb25fcGVuZGluZy5sZW5ndGggKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9idXN5ID0gdGhpcy5fY29sbGVjdGlvbl9wZW5kaW5nWzBdLmluc3RhbmNlLnByb2Nlc3MoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYoICFzZXF1ZW50aWFsX21vZGUgfHwgKCBzZXF1ZW50aWFsX21vZGUgJiYgIXRoaXMuX2J1c3kgKSApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1c3kgPSB0aGlzX2xvYWRfaW5zdGFuY2UucHJvY2VzcygpO1xuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiggc2VxdWVudGlhbF9tb2RlICYmIHRoaXMuX2J1c3kgKXtcblxuICAgICAgICAgICAgICAgICAgICBpZiggIXRoaXMuX3NldHRpbmdzLnZpc2libGUgfHwgKCB0aGlzLl9zZXR0aW5ncy52aXNpYmxlICYmIGlzX3Zpc2libGUodGhpc19sb2FkX2luc3RhbmNlLl9lbGVtZW50KSApIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb25fcGVuZGluZy5wdXNoKHsgaWQgOiB0aGlzX2xvYWRfaWQsIGluc3RhbmNlIDogdGhpc19sb2FkX2luc3RhbmNlIH0pO1xuXG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgZG9uZShjYWxsYmFjayl7IC8vIHRvZG8gcmVmYWN0b3J5XG5cbiAgICAgICAgICAgIGlmKCAhJC5pc0Z1bmN0aW9uKGNhbGxiYWNrKSApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdCBfZnVuYyA9IGZ1bmN0aW9uKHJlc291cmNlcyl7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCByZXNvdXJjZXMpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYoIHRoaXMuX2NvbGxlY3Rpb24ubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9uZSA9IF9mdW5jO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9vcCgpO1xuXG4gICAgICAgICAgICB9ZWxzZVxuICAgICAgICAgICAgICAgIF9mdW5jKCk7XG5cbiAgICAgICAgfTtcblxuICAgICAgICBwcm9ncmVzcyhjYWxsYmFjayl7IC8vIHRvZG8gcmVmYWN0b3J5XG5cbiAgICAgICAgICAgIGlmKCAhJC5pc0Z1bmN0aW9uKGNhbGxiYWNrKSApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdCBfZnVuYyA9IGZ1bmN0aW9uKHJlc291cmNlKXtcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIHJlc291cmNlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmKCB0aGlzLl9jb2xsZWN0aW9uLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzID0gX2Z1bmM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9sb29wKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9O1xuXG4gICAgICAgIHN1Y2Nlc3MoY2FsbGJhY2speyAvLyB0b2RvIHJlZmFjdG9yeVxuXG4gICAgICAgICAgICBpZiggISQuaXNGdW5jdGlvbihjYWxsYmFjaykgKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgY29uc3QgX2Z1bmMgPSBmdW5jdGlvbihyZXNvdXJjZSl7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiggdGhpcy5fY29sbGVjdGlvbi5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zdWNjZXNzID0gX2Z1bmM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9sb29wKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9O1xuXG4gICAgICAgIGVycm9yKGNhbGxiYWNrKXsgLy8gdG9kbyByZWZhY3RvcnlcblxuICAgICAgICAgICAgaWYoICEkLmlzRnVuY3Rpb24oY2FsbGJhY2spIClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IF9mdW5jID0gZnVuY3Rpb24ocmVzb3VyY2Upe1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgcmVzb3VyY2UpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYoIHRoaXMuX2NvbGxlY3Rpb24ubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSBfZnVuYztcblxuICAgICAgICAgICAgICAgIHRoaXMuX2xvb3AoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH07XG5cbiAgICAgICAgYWJvcnQoKXtcblxuICAgICAgICAgICAgZm9yKCBjb25zdCBrZXkgaW4gdGhpcy5fY29sbGVjdGlvbl9pbnN0YW5jZXMgKVxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb25faW5zdGFuY2VzWyBrZXkgXS5pbnN0YW5jZS5hYm9ydCgpO1xuXG4gICAgICAgICAgICBpZiggdGhpcy5fY29sbGVjdGlvbi5sZW5ndGggKVxuICAgICAgICAgICAgICAgIHRoaXMuX2Fib3J0ID0gdHJ1ZTtcblxuICAgICAgICB9O1xuXG4gICAgfVxuXG4gICAgY2xhc3MgQ29sbGVjdGlvblBvcHVsYXRvciB7XG5cbiAgICAgICAgY29uc3RydWN0b3IoJGVsZW1lbnQsIG9wdGlvbnMpIHtcblxuICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnQgID0gJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50ICAgPSAkZWxlbWVudFswXTtcblxuICAgICAgICAgICAgdGhpcy5fc2V0dGluZ3MgID0gJC5leHRlbmQodHJ1ZSwge1xuICAgICAgICAgICAgICAgIHNyY0F0dHIgICAgIDogJ2RhdGEtc3JjJyxcbiAgICAgICAgICAgICAgICBzcmNzZXRBdHRyICA6ICdkYXRhLXNyY3NldCcsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZHMgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzICA6IFtdXG4gICAgICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgY29sbGVjdCggb3V0cHV0ICkge1xuXG4gICAgICAgICAgICBsZXQgY29sbGVjdGlvbiA9IFtdO1xuXG4gICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgIGlzX3BsYWluX2RhdGFfY29sbGVjdGlvbiA9IG91dHB1dCA9PT0gJ3BsYWluJyxcblxuICAgICAgICAgICAgICAgIHNyYyA9IHRoaXMuX3NldHRpbmdzLnNyY0F0dHIsXG4gICAgICAgICAgICAgICAgc3Jjc2V0ID0gdGhpcy5fc2V0dGluZ3Muc3Jjc2V0QXR0cixcblxuICAgICAgICAgICAgICAgIHRhcmdldHMgPSAnaW1nLCB2aWRlbywgYXVkaW8nLFxuICAgICAgICAgICAgICAgIHRhcmdldHNfZXh0ZW5kZWQgPSB0YXJnZXRzICsgJywgcGljdHVyZSwgc291cmNlJztcblxuICAgICAgICAgICAgbGV0ICR0YXJnZXRzID0gdGhpcy5fJGVsZW1lbnQuZmluZCh0YXJnZXRzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl8kZWxlbWVudC5pcyh0YXJnZXRzKSlcbiAgICAgICAgICAgICAgICAkdGFyZ2V0cyA9ICR0YXJnZXRzLmFkZCh0aGlzLl8kZWxlbWVudCk7XG4gICAgICAgICAgICAkdGFyZ2V0cyA9ICR0YXJnZXRzLmZpbHRlcihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGxldCAkdCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlciA9ICdbJytzcmMrJ10sIFsnK3NyY3NldCsnXSc7XG4gICAgICAgICAgICAgICAgcmV0dXJuICR0LmlzKGZpbHRlcikgfHwgJHQuY2hpbGRyZW4odGFyZ2V0c19leHRlbmRlZCkuZmlsdGVyKGZpbHRlcikubGVuZ3RoO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkdGFyZ2V0cy5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIGxldCBjb2xsZWN0aW9uX2l0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA6ICQodGhpcykuYXR0cihzcmMpIHx8ICQodGhpcykuYXR0cihzcmNzZXQpXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmKCBpc19wbGFpbl9kYXRhX2NvbGxlY3Rpb24gKVxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uX2l0ZW0gPSBjb2xsZWN0aW9uX2l0ZW0uZWxlbWVudDtcblxuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24ucHVzaChjb2xsZWN0aW9uX2l0ZW0pO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHRydWUgPT09IHRoaXMuX3NldHRpbmdzLmJhY2tncm91bmRzKVxuICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50LmZpbmQoJyonKS5hZGRCYWNrKCkubm90KHRhcmdldHNfZXh0ZW5kZWQpLmZpbHRlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLmNzcygnYmFja2dyb3VuZC1pbWFnZScpICE9PSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfSkuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJsID0gJCh0aGlzKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnKS5tYXRjaCgvXFwoKC4qPylcXCkvKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggbnVsbCA9PT0gdXJsIHx8IHVybC5sZW5ndGggPCAyIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb2xsZWN0aW9uX2l0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50IDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlIDogdXJsWzFdLnJlcGxhY2UoLygnfFwiKS9nLCcnKVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBpc19wbGFpbl9kYXRhX2NvbGxlY3Rpb24gKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbl9pdGVtID0gY29sbGVjdGlvbl9pdGVtLnJlc291cmNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24ucHVzaChjb2xsZWN0aW9uX2l0ZW0pO1xuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy5hdHRyaWJ1dGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHIgaW4gdGhpcy5fc2V0dGluZ3MuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiggdGhpcy5fc2V0dGluZ3MuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShhdHRyKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnQuZmluZCgnWycgKyBhdHRyICsgJ106bm90KCcgKyB0YXJnZXRzX2V4dGVuZGVkICsgJyknKS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb2xsZWN0aW9uX2l0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA6ICQodGhpcykuYXR0cihhdHRyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaXNfcGxhaW5fZGF0YV9jb2xsZWN0aW9uIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbl9pdGVtID0gY29sbGVjdGlvbl9pdGVtLnJlc291cmNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbi5wdXNoKGNvbGxlY3Rpb25faXRlbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fJGVsZW1lbnQuaXMoJ1snICsgYXR0ciArICddJykgJiYgIXRoaXMuXyRlbGVtZW50LmlzKHRhcmdldHNfZXh0ZW5kZWQpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29sbGVjdGlvbl9pdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiB0aGlzLl9lbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZTogdGhpcy5fJGVsZW1lbnQuYXR0cihhdHRyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaXNfcGxhaW5fZGF0YV9jb2xsZWN0aW9uIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbl9pdGVtID0gY29sbGVjdGlvbl9pdGVtLnJlc291cmNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbi5wdXNoKGNvbGxlY3Rpb25faXRlbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAkW25hbWVzcGFjZV9tZXRob2RdID0gUmVzb3VyY2VzTG9hZGVyO1xuXG4gICAgbGV0IG1ldGhvZF9jb2xsZWN0aW9uID0gW107XG5cbiAgICAkLmZuW25hbWVzcGFjZV9tZXRob2RdID0gZnVuY3Rpb24ob3B0aW9ucyl7XG5cbiAgICAgICAgbGV0IG9yaWdpbmFsX3VzZXJfb3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYoIHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JyApXG4gICAgICAgICAgICBvcHRpb25zID0ge307XG5cbiAgICAgICAgbGV0IHNldHRpbmdzID0gJC5leHRlbmQodHJ1ZSwge1xuXG4gICAgICAgICAgICBzcmNBdHRyICAgICAgIDogJ2RhdGEtc3JjJyxcbiAgICAgICAgICAgIHNyY3NldEF0dHIgICAgOiAnZGF0YS1zcmNzZXQnLFxuXG4gICAgICAgICAgICB2aXNpYmxlICAgICAgIDogZmFsc2UsXG5cbiAgICAgICAgICAgIHNlcXVlbnRpYWwgICAgOiBmYWxzZSxcblxuICAgICAgICAgICAgYmFja2dyb3VuZHMgICA6IGZhbHNlLFxuICAgICAgICAgICAgZXh0cmFBdHRycyAgICA6IFtdLFxuXG4gICAgICAgICAgICBwbGF5dGhyb3VnaCAgIDogZmFsc2UsXG5cbiAgICAgICAgICAgIGVhcmx5ICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIGVhcmx5VGltZW91dCAgOiAwLFxuXG4gICAgICAgICAgICBvblByb2dyZXNzICAgIDogJC5ub29wLFxuICAgICAgICAgICAgb25Mb2FkICAgICAgICA6ICQubm9vcCxcbiAgICAgICAgICAgIG9uRXJyb3IgICAgICAgOiAkLm5vb3AsXG5cbiAgICAgICAgICAgIG9uQ29tcGxldGUgICAgOiAkLm5vb3AsXG5cbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgbGV0IGNhbGxiYWNrID0gc2V0dGluZ3Mub25Db21wbGV0ZTtcbiAgICAgICAgaWYoICQuaXNGdW5jdGlvbihvcmlnaW5hbF91c2VyX29wdGlvbnMpIClcbiAgICAgICAgICAgIGNhbGxiYWNrID0gb3JpZ2luYWxfdXNlcl9vcHRpb25zO1xuXG4gICAgICAgIGlmKCAhJC5pc0FycmF5KHNldHRpbmdzLmF0dHJpYnV0ZXMpIClcbiAgICAgICAgICAgIHNldHRpbmdzLmF0dHJpYnV0ZXMgPSBbXTtcbiAgICAgICAgaWYoIHR5cGVvZiBzZXR0aW5ncy5hdHRyaWJ1dGVzID09PSAnc3RyaW5nJyApXG4gICAgICAgICAgICBzZXR0aW5ncy5hdHRyaWJ1dGVzID0gc2V0dGluZ3MuYXR0cmlidXRlcy5zcGxpdCgnICcpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gdGhpcyxcbiAgICAgICAgICAgICAgICAkZWxlbWVudCA9ICQoZWxlbWVudCksXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbiA9IG5ldyBDb2xsZWN0aW9uUG9wdWxhdG9yKCRlbGVtZW50LCBzZXR0aW5ncykuY29sbGVjdCgncGxhaW4nKSxcbiAgICAgICAgICAgICAgICB1bmlxdWVfbWV0aG9kX25hbWVzcGFjZSA9IG5hbWVzcGFjZSArICdfJyArIHVuaXF1ZV9pZCgpLFxuXG4gICAgICAgICAgICAgICAgdGhpc19sb2FkX2luc3RhbmNlID0gbmV3IFJlc291cmNlc0xvYWRlcihjb2xsZWN0aW9uLCBzZXR0aW5ncyk7XG5cbiAgICAgICAgICAgIG1ldGhvZF9jb2xsZWN0aW9uLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkIDogdW5pcXVlX21ldGhvZF9uYW1lc3BhY2UsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgOiB0aGlzX2xvYWRfaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgZWxlbWVudCA6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgdGltZW91dCA6IG51bGxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzX2xvYWRfaW5zdGFuY2UucHJvZ3Jlc3MoZnVuY3Rpb24gKHJlc291cmNlKSB7XG5cbiAgICAgICAgICAgICAgICAkZWxlbWVudC50cmlnZ2VyKG5hbWVzcGFjZV9wcmVmaXgrJ1Byb2dyZXNzLicrbmFtZXNwYWNlX3ByZWZpeCwgW2VsZW1lbnQsIHJlc291cmNlXSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0aGlzX2FyZ3VtZW50cyA9IFsgdGhpc19sb2FkX2luc3RhbmNlLCByZXNvdXJjZSBdO1xuXG4gICAgICAgICAgICAgICAgaWYoICQuaXNGdW5jdGlvbihzZXR0aW5ncy5vblByb2dyZXNzKSApXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uUHJvZ3Jlc3MuYXBwbHkoZWxlbWVudCwgdGhpc19hcmd1bWVudHMpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50X25hbWUgPSBjYXBpdGFsaXplKHJlc291cmNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgaWYoICQuaXNGdW5jdGlvbihzZXR0aW5nc1snb24nK2V2ZW50X25hbWVdKSApXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzWydvbicrZXZlbnRfbmFtZV0uYXBwbHkoZWxlbWVudCwgdGhpc19hcmd1bWVudHMpO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpc19sb2FkX2luc3RhbmNlLmRvbmUoZnVuY3Rpb24ocmVzb3VyY2VzKXtcblxuICAgICAgICAgICAgICAgICRlbGVtZW50LnRyaWdnZXIobmFtZXNwYWNlX3ByZWZpeCArICdDb21wbGV0ZS4nICsgbmFtZXNwYWNlX3ByZWZpeCwgWyBlbGVtZW50LCByZXNvdXJjZXMgXSk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkoZWxlbWVudCwgWyB0aGlzX2xvYWRfaW5zdGFuY2UsIHJlc291cmNlcyBdKTtcblxuICAgICAgICAgICAgICAgIGlmKCBzZXR0aW5ncy52aXNpYmxlIClcbiAgICAgICAgICAgICAgICAgICAgJCggJC5uaXRlICYmICdzY3JvbGwnIGluICQubml0ZSA/ICRkb2N1bWVudCA6ICR3aW5kb3cgKS5vZmYoJ3Njcm9sbC4nICsgdW5pcXVlX21ldGhvZF9uYW1lc3BhY2UpO1xuXG4gICAgICAgICAgICAgICAgLy8gcmVmcmVzaCBvdGhlciBtZXRob2QgY2FsbHMgZm9yIHNhbWUgZWwgKG9taXR0aW5nIHRoaXMgb25lKVxuICAgICAgICAgICAgICAgIG1ldGhvZF9jb2xsZWN0aW9uID0gbWV0aG9kX2NvbGxlY3Rpb24uZmlsdGVyKCB4ID0+IHguaWQgIT09IHVuaXF1ZV9tZXRob2RfbmFtZXNwYWNlICk7XG4gICAgICAgICAgICAgICAgbWV0aG9kX2NvbGxlY3Rpb24uZm9yRWFjaCgodGhpc19tZXRob2RfY29sbGVjdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJGVsZW1lbnQuaXModGhpc19tZXRob2RfY29sbGVjdGlvbi5lbGVtZW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfbWV0aG9kX2NvbGxlY3Rpb24uaW5zdGFuY2UubG9vcCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYoIHNldHRpbmdzLnZpc2libGUgKXtcblxuICAgICAgICAgICAgICAgIGlmKCAkLm5pdGUgJiYgJ3Njcm9sbCcgaW4gJC5uaXRlIClcbiAgICAgICAgICAgICAgICAgICAgJC5uaXRlLnNjcm9sbCh1bmlxdWVfbWV0aG9kX25hbWVzcGFjZSwgZnVuY3Rpb24oKXsgdGhpc19sb2FkX2luc3RhbmNlLmxvb3AoKTsgfSwgeyBmcHMgOiAyNSB9KTtcblxuICAgICAgICAgICAgICAgIGVsc2V7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGhyb3R0bGVfc2Nyb2xsX2V2ZW50ID0gZnVuY3Rpb24oZm4sIHdhaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggKCB0aW1lICsgd2FpdCAtIERhdGUubm93KCkgKSA8IDAgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICR3aW5kb3cub24oJ3Njcm9sbC4nK3VuaXF1ZV9tZXRob2RfbmFtZXNwYWNlLCB0aHJvdHRsZV9zY3JvbGxfZXZlbnQoZnVuY3Rpb24oKXsgdGhpc19sb2FkX2luc3RhbmNlLmxvb3AoKTsgfSwgMTAwMCkpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCB0cnVlID09PSBzZXR0aW5ncy5lYXJseSApIGZvciggbGV0IGtleSBpbiBtZXRob2RfY29sbGVjdGlvbiApIHtcblxuICAgICAgICAgICAgICAgIGxldCB0aGlzX21ldGhvZF9jb2xsZWN0aW9uID0gbWV0aG9kX2NvbGxlY3Rpb25ba2V5XTtcblxuICAgICAgICAgICAgICAgIGlmIChtZXRob2RfY29sbGVjdGlvbltrZXldLmlkID09PSB1bmlxdWVfbWV0aG9kX25hbWVzcGFjZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzX21ldGhvZF9jb2xsZWN0aW9uLnRpbWVvdXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXNfbWV0aG9kX2NvbGxlY3Rpb24udGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0b2RvIGFwcHJvcHJpYXRlIG1ldGhvZCBmb3Igc2V0dGluZyBzZXR0aW5ncz9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfbWV0aG9kX2NvbGxlY3Rpb24uaW5zdGFuY2UuX3NldHRpbmdzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfbWV0aG9kX2NvbGxlY3Rpb24uaW5zdGFuY2UuX3NldHRpbmdzLnNlcXVlbnRpYWwgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzX21ldGhvZF9jb2xsZWN0aW9uLmluc3RhbmNlLmxvb3AoKTtcblxuICAgICAgICAgICAgICAgICAgICB9LCAkLmlzTnVtZXJpYyhzZXR0aW5ncy5lYXJseVRpbWVvdXQpID8gcGFyc2VJbnQoc2V0dGluZ3MuZWFybHlUaW1lb3V0KSA6IDApO1xuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG59KSh3aW5kb3csIGRvY3VtZW50LCBqUXVlcnkpOyJdfQ==
