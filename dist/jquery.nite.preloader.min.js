"use strict";var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(function(a,b,c){"use strict";var d=Math.floor,e="nite",f=e+"Preload",g=f+"er";if(function(a){a.console||(a.console={});for(var b,c,d=a.console,e=function(){},f=["memory"],g=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profiles","profileEnd","show","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"];b=f.pop();)d[b]||(d[b]={});for(;c=g.pop();)d[c]||(d[c]=e)}(a),!c)return console.error("jQuery is needed for "+g+" to work!"),void 0;Array.prototype.findIndex=Array.prototype.findIndex||function(a){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");else if("function"!=typeof a)throw new TypeError("callback must be a function");for(var b=Object(this),c=b.length>>>0,d=arguments[1],e=0;e<c;e++)if(a.call(d,b[e],e,b))return e;return-1},[].filter||(Array.prototype.filter=function(f,a,b,c,d){for(d in b=this,c=[],b)~~d+""==d&&0<=d&&f.call(a,b[d],+d,b)&&c.push(b[d]);return c});var h=[],i=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},j=c(b),k=c(a),l=function(){return c.nite&&"uniqueId"in c.nite?c.nite.uniqueId():d(8999*Math.random())+1e3},m=function(a){var b=c(a),d=!1;if(c.nite&&"inViewport"in c.nite)d=c.nite.inViewport(a).ratio;else{var e=a.getBoundingClientRect();d=!(0>e.right||0>e.bottom||e.left>k.width()||e.top>k.height())}return d&&b.is(":visible")&&"hidden"!==b.css("visibility")},n=function(a){if("object"!==("undefined"==typeof a?"undefined":_typeof(a)))return!1;try{return a instanceof HTMLElement}catch(b){return 1===a.nodeType&&"object"===_typeof(a.style)&&"object"===_typeof(a.ownerDocument)}},o=function(a){return"string"==typeof a&&-1<c.inArray(a,h)||n(a)&&"currentSrc"in a&&a.currentSrc.length&&("complete"in a&&a.complete||"readyState"in a&&2<=a.readyState)},p=function(a){return o(a)&&("object"===("undefined"==typeof a?"undefined":_typeof(a))&&("naturalWidth"in a&&0===d(a.naturalWidth)||"videoWidth"in a&&0===a.videoWidth)||"string"==typeof a)},q=function(a,b){var d={image:"jp[e]?g|gif|png|tif[f]?|bmp",audio:"mp3|ogg",video:"mp4|ogv|ogg|webm"},e=Object.keys(d),f={format:null,extension:null};if("string"==typeof a){if(a=a.split("?")[0],a=a.split("#")[0],""===a)return!1;var g=void 0===b?e:[b];for(var h in g)if(g.hasOwnProperty(h)&&new RegExp("(.("+d[g[h]]+")$)|"+";base64,","g").test(a))if(/;base64,/g.test(a)){var i=a.match(new RegExp("^data:"+g[h]+"/("+d[g[h]]+")","g"));if(!i||null===i)continue;i=i[0],f.format=g[h],f.extension=i.replace("data:"+g[h]+"/","");break}else{var j=a.match(new RegExp(d[g[h]],"g"));if(j){f.format=g[h],f.extension=j[0];break}}}if(n(a)){var k=a.tagName.toLowerCase();-1<c.inArray(k,e)&&(f.format=a.tagName.toLowerCase()),"img"===k&&(f.format="image")}return f},r=function(){function d(a){var b=this;_classCallCheck(this,d),this._settings=c.extend(!0,{srcAttr:"data-src",srcsetAttr:"data-srcset",playthrough:!1,visible:!1},a),this._id=null,this._id_event=null,this._element=null,this._$element=c(),this._resource=null,this._busy=!1,this._format=null,this._done=c.noop,this._success=c.noop,this._error=c.noop,this._callback=function(a){b._$element.removeData(g),b._busy=!1;var d=b._element.currentSrc||b._element.src;-1===c.inArray(d,h)&&h.push(d);var e=[b._element,a.type,d,b._id];b["error"===a.type?"_error":"_success"].apply(b,e),b._done.apply(b,e)}}return _createClass(d,[{key:"process",value:function(){var b=this,d=this._settings.srcAttr,e=this._settings.srcAttr.replace("data-","");if(o(this._exists?this._element:this._resource))return this._busy||this._$element.off("."+this._id_event),this._callback(new Event(p(this._exists?this._element:this._resource)?"error":"load")),!1;if(this._exists&&this._settings.visible&&!m(this._element))return!1;if("image"===this._format){this._$element[this._busy?"on":"one"]("load."+this._id_event+" error."+this._id_event,this._callback);var f=this._$element.closest("picture"),h=this._settings.srcsetAttr,i=this._settings.srcsetAttr.replace("data-","");f.length&&"HTMLPictureElement"in a?(this._$element.removeData(i).removeAttr(h).removeData(e).removeAttr(d),f.find("source["+h+"]").attr("srcset",f.data(i)).removeData(i).removeAttr(h)):(this._$element.is("["+h+"]")&&this._$element.attr("srcset",this._$element.data(i)).removeData(i).removeAttr(h),this._$element.is("["+d+"]")&&this._$element.attr("src",this._$element.data(e)).removeData(e).removeAttr(d))}else if("video"===this._format||"audio"===this._format){var j=!0===this._settings.playthrough,k="full"===this._settings.playthrough,l=this._$element.find("source"),n=function(a){var b=Math.round;return a.buffered.length&&1==b(a.buffered.end(0))/b(a.seekable.end(0))},q=!1;if(l.length){var r=this;l.each(function(){var a=c(this);a.is("["+d+"]")&&(a.attr("src",a.data(e)).removeData(e).removeAttr(d),q=!0)})[this._busy?"on":"one"]("error."+this._id_event,function(a){var b=g+"_error";c(this).data(b,!0),l.length===l.filter(function(){return!0===c(this).data(b)}).length&&r._callback(a)})}else this._$element.is("["+d+"]")&&(this._$element.attr("src",this._$element.data(e)).removeData(e).removeAttr(d)[this._busy?"on":"one"]("error."+this._id_event,this._callback),q=!0);q&&this._element.load(),this._$element[this._busy?"on":"one"]("loadedmetadata."+this._id_event,function(){if(j||k||b._callback(new Event("load")),k){var a=setInterval(function(){var c=0<b._element.readyState&&!b._element.duration;c||n(b._element)?(b._element.currentTime=0,!c&&!b._busy&&b._element.paused&&b._$element.is("[autoplay]")&&b._element.play(),clearInterval(a),b._callback(new Event(c?"error":"load"))):(!b._element.paused&&b._element.pause(),!b._busy&&(b._element.currentTime+=2))},500);b._$element.data(b._id_event,a)}})[this._busy?"on":"one"]("canplay."+this._id_event,function(){k&&0===b._element.currentTime&&!n(b._element)&&b._element.currentTime++})[this._busy?"on":"one"]("canplaythrough."+this._id_event,function(){j&&b._callback(new Event("load"))})}else return!1;return this._busy||this._$element.data(g,this._id_event),this._resource=this._element.currentSrc||this._element.src,!this._busy}},{key:"done",value:function(a){c.isFunction(a)&&(this._done=function(b,c,d,e){a.apply(this,[b,c,d,e])})}},{key:"abort",value:function(){if(this._$element.off("."+this._id_event),!o(this._exists?this._element:this._resource)){var a=this._$element.attr("srcset"),b=this._$element.attr("src");void 0!==a&&this._$element.data(this._settings.srcAttr,a).attr(this._settings.srcAttr,a).removeAttr("src").removeAttr("srcset"),void 0!==b&&this._$element.data(this._settings.srcsetAttr,b).attr(this._settings.srcsetAttr,b).removeAttr("src").removeAttr("srcset")}}},{key:"resource",set:function(a){var d=n(a.resource),e="string"==typeof a.resource;if(d||e){if(this._id=a.id,this._format=q(a.resource).format,this._exists=d,e){var f="image"===this._format;this._element=b.createElement(f?"img":this._format),f&&(this._settings.srcsetAttr="data-srcset"),this._settings.srcAttr="data-src",this._resource=a.resource}d&&(this._element=a.resource),this._$element=c(this._element),e&&this._$element.data(this._settings.srcAttr.replace("data-",""),this._resource).data(this._settings.srcsetAttr.replace("data-",""),this._resource).attr(this._settings.srcAttr,this._resource).attr(this._settings.srcsetAttr,this._resource),this._id_event=this._$element.data(g),this._busy=void 0!==this._id_event,this._id_event=this._busy?this._id_event:g+"_unique_"+this._element.tagName+"_"+l()}}}]),d}(),s=function(){function a(b,d){var e=this;if(_classCallCheck(this,a),this._collection=[],this._collection_loaded=[],this._collection_instances=[],this._collection_pending=[],this._resources_loaded=[],c.isArray(b)&&("string"==typeof b[0]||n(b[0])))for(var f in b)b.hasOwnProperty(f)&&this._collection.push({id:l(),resource:b[f]});("string"==typeof b||n(b))&&this._collection.push({id:l(),resource:b}),this._settings=c.extend(!0,{srcAttr:"data-src",srcsetAttr:"data-srcset",playthrough:!1,visible:!1},d),this.percentage=0,this._done=c.noop,this._progress=c.noop,this._success=c.noop,this._error=c.noop,this._abort=!1,this._loaded=0,this._complete=!1,this._busy=!1,(this._loop=function(){setTimeout(function(){e.loop()},25)})()}return _createClass(a,[{key:"loop",value:function(){var a=this;this._collection_pending=[];for(var b,d=!0===this._settings.sequential,f=function(b){if(a._abort)return"break";var f=a._collection[b].id,g=a._collection_instances.findIndex(function(a){return a.id===f}),h=new r(a._settings);-1===g?(a._collection_instances.push({id:f,instance:h}),g=a._collection_instances.findIndex(function(a){return a.id===f})):a._collection_instances[g].instance=h,h.resource=a._collection[b],h.done(function(b,f,g,h){if(!(a._complete||a._abort)){var j=-1===c.inArray(h,a._collection_loaded);if(j){a._collection_loaded.push(h),a._busy=!1,a._loaded++,a.percentage=100*(a._loaded/a._collection.length),a.percentage=parseFloat(a.percentage.toFixed(4));var k={resource:g,status:f};a._resources_loaded.push(k),a._progress.call(a,k),a["error"===f?"_error":"_success"].call(a,k),c(b).trigger(e+i(f)+"."+e,[b,g])}a._loaded===a._collection.length?(a._done.call(a,a._resources_loaded),a._complete=!0):j&&d&&a._collection_pending.length&&(a._collection_pending=a._collection_pending.filter(function(a){return a.id!==h}),a._collection_pending=a._collection_pending.filter(function(a){return a.id!==h}),a._collection_pending.length&&(a._busy=a._collection_pending[0].instance.process()))}}),d&&(!d||a._busy)?d&&a._busy&&(!a._settings.visible||a._settings.visible&&m(h._element))&&a._collection_pending.push({id:f,instance:h}):a._busy=h.process()},g=0;g<this._collection.length&&(b=f(g),"break"!==b);g++);}},{key:"done",value:function(a){if(c.isFunction(a)){var b=function(b){a.call(this,b)};this._collection.length?(this._done=b,this._loop()):b()}}},{key:"progress",value:function(a){if(c.isFunction(a)){var b=function(b){a.call(this,b)};this._collection.length&&(this._progress=b,this._loop())}}},{key:"success",value:function(a){if(c.isFunction(a)){var b=function(b){a.call(this,b)};this._collection.length&&(this._success=b,this._loop())}}},{key:"error",value:function(a){if(c.isFunction(a)){var b=function(b){a.call(this,b)};this._collection.length&&(this._error=b,this._loop())}}},{key:"abort",value:function(){for(var a in this._collection_instances)this._collection_instances[a].instance.abort();this._collection.length&&(this._abort=!0)}}]),a}(),t=function(){function a(b,d){_classCallCheck(this,a),this._$element=b,this._element=b[0],this._settings=c.extend(!0,{srcAttr:"data-src",srcsetAttr:"data-srcset",backgrounds:!1,attributes:[]},d)}return _createClass(a,[{key:"collect",value:function(a){var b=[],d="plain"===a,e=this._settings.srcAttr,f=this._settings.srcsetAttr,g="img, video, audio",h=g+", picture, source",i=this._$element.find(g);if(this._$element.is(g)&&(i=i.add(this._$element)),i=i.filter(function(){var a=c(this),b="["+e+"], ["+f+"]";return a.is(b)||a.children(h).filter(b).length}),i.each(function(){var a={element:this,resource:c(this).attr(e)||c(this).attr(f)};d&&(a=a.element),b.push(a)}),!0===this._settings.backgrounds&&this._$element.find("*").addBack().not(h).filter(function(){return"none"!==c(this).css("background-image")}).each(function(){var a=c(this).css("background-image").match(/\((.*?)\)/);if(null===a||2>a.length)return!0;var e={element:this,resource:a[1].replace(/('|")/g,"")};d&&(e=e.resource),b.push(e)}),this._settings.attributes.length){var j=function(a){if(this._settings.attributes.hasOwnProperty(a)&&(this._$element.find("["+a+"]:not("+h+")").each(function(){let e={element:this,resource:c(this).attr(a)};d&&(e=e.resource),b.push(e)}),this._$element.is("["+a+"]")&&!this._$element.is(h))){let c={element:this._element,resource:this._$element.attr(a)};d&&(c=c.resource),b.push(c)}};for(const a in this._settings.attributes)j(a)}return b}}]),a}();c[f]=s;var u=[];c.fn[f]=function(a){var b=a;"object"!==("undefined"==typeof a?"undefined":_typeof(a))&&(a={});var d=c.extend(!0,{srcAttr:"data-src",srcsetAttr:"data-srcset",visible:!1,sequential:!1,backgrounds:!1,extraAttrs:[],playthrough:!1,early:!1,earlyTimeout:0,onProgress:c.noop,onLoad:c.noop,onError:c.noop,onComplete:c.noop},a),f=d.onComplete;return c.isFunction(b)&&(f=b),c.isArray(d.attributes)||(d.attributes=[]),"string"==typeof d.attributes&&(d.attributes=d.attributes.split(" ")),this.each(function(){var a=this,b=c(a),h=new t(b,d).collect("plain"),m=g+"_"+l(),n=new s(h,d);if(u.push({id:m,instance:n,element:a,timeout:null}),n.progress(function(f){b.trigger(e+"Progress."+e,[a,f]);var g=[n,f];c.isFunction(d.onProgress)&&d.onProgress.apply(a,g);var h=i(f.status);c.isFunction(d["on"+h])&&d["on"+h].apply(a,g)}),n.done(function(g){for(var h in b.trigger(e+"Complete."+e,[a,g]),f.apply(a,[n,g]),d.visible&&c(c.nite&&"scroll"in c.nite?j:k).off("scroll."+m),u=u.filter(function(a){return a.id!==m}),u){var i=u[h];b.is(i.element)&&i.instance.loop()}}),d.visible)if(c.nite&&"scroll"in c.nite)c.nite.scroll(m,function(){n.loop()},{fps:25});else{var o=function(a,b){var c=Date.now();return function(){0>c+b-Date.now()&&(a(),c=Date.now())}};k.on("scroll."+m,o(function(){n.loop()},1e3))}if(!0===d.early)for(var p in u)if(u[p].id===m){var q=function(){var a=u[p];return clearTimeout(a.timeout),a.timeout=setTimeout(function(){a.instance._settings.visible=!1,a.instance._settings.sequential=!0,a.instance.loop()},c.isNumeric(d.earlyTimeout)?parseInt(d.earlyTimeout):0),"break"}();if("break"===q)break}})}})(window,document,jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5uaXRlLnByZWxvYWRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiMGtCQUFBLENBQ0EsQ0FBQyxBQUFTLEFBQVEsQUFBVSxBQUFHLGVBQVUsQUFDckMsQ0FFQSxtQkFnRm9FLEtBQUEsQUFBSyxNQS9FckUsRUFESixBQUN1QixPQUNuQixFQUFtQixFQUZ2QixBQUV3QyxVQUNwQyxFQUFZLEVBSGhCLEFBR2lDLEFBR2pDLEFBQ0EsQUFDQSxRQUFDLEFBQVMsV0FBUSxBQUNkLEFBQUksQ0FBQyxFQUFMLEFBQVksVUFDUixFQUFBLEFBQU8sQUFBVSxBQUNyQixtQkFBQSxBQUNJLEdBREosQUFDVSxFQUROLEVBQU0sRUFBVixBQUFpQixRQUViLEVBQUEsQUFBUSxVQUFXLEFBQUUsQ0FGekIsRUFBQSxBQUdJLEFBQWEsQUFBQyxhQUhsQixBQUlJLEFBQVUsQUFBQyxBQUNQLEFBQ0EsQUFBcUUsQUFBTSxBQUNuRiw4UEFBTyxFQUFPLEVBQWQsQUFBYyxBQUFXLEFBQ3JCLEFBQUksT0FBSixBQUFLLEFBQUksT0FEYixBQUVRLEFBQUksQUFBUSxBQUNwQixjQUFPLEVBQVMsRUFBaEIsQUFBZ0IsQUFBUSxBQUNwQixBQUFJLE9BQUosQUFBSyxBQUFJLE9BRGIsQUFFUSxBQUFJLEFBQVUsQUFDekIsT0FoQkQsQUFnQkcsQUFDSCxBQUdBLEFBQ0EsS0FBQSxBQUFJLEFBQUMsQUFBSSxBQUNMLEdBQ0EsQUFBTyxBQUNWLEFBQ0QsQUFHQSxBQUNBLEFBQ0EsQUFDQSxlQVRJLEFBQVEsTUFBTSxBQUF3QiwwQkFBdEMsQUFBZ0QsQUFDaEQsMEJBUUosQUFBTSxVQUFOLEFBQWdCLFVBQVksTUFBQSxBQUFNLFVBQU4sQUFBZ0IsV0FBYSxBQUFTLFdBQVUsQUFDeEUsSUFBQSxBQUFhLEFBQU0sQUFDZixJQURBLGFBQ00sSUFBQSxBQUFJLFdBRGQsQUFDSSxBQUFNLEFBQWMsQUFDdkIsNkRBQU0sSUFBQSxBQUF3QixBQUFZLEFBQ3ZDLFVBRE8sQUFBTyxnQkFD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MklILENBcmhDRCxHQUFBLEFBcWhDRyxPQXJoQ0gsQUFxaENXLFNBcmhDWCxBQXFoQ3FCIiwiZmlsZSI6ImpxdWVyeS5uaXRlLnByZWxvYWRlci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgSlF1ZXJ5IE5pdGUgUHJlbG9hZGVyIHwgRGFuaWVsZSBGaW9yb25pIHwgZGZpb3Jvbmk5MUBnbWFpbC5jb20gKi9cbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCAkLCB1bmRlZmluZWQpe1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGNvbnN0XG4gICAgICAgIG5hbWVzcGFjZV9wcmVmaXggPSAnbml0ZScsXG4gICAgICAgIG5hbWVzcGFjZV9tZXRob2QgPSBuYW1lc3BhY2VfcHJlZml4KydQcmVsb2FkJyxcbiAgICAgICAgbmFtZXNwYWNlID0gbmFtZXNwYWNlX21ldGhvZCsnZXInO1xuXG5cbiAgICAvLyB0aGFua3MgdG8gaHR0cHM6Ly9naXRodWIuY29tL3BhdWxtaWxsci9jb25zb2xlLXBvbHlmaWxsXG4gICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXG4gICAgKGZ1bmN0aW9uKGdsb2JhbCkge1xuICAgICAgICBpZiAoIWdsb2JhbC5jb25zb2xlKVxuICAgICAgICAgICAgZ2xvYmFsLmNvbnNvbGUgPSB7fTtcbiAgICAgICAgbGV0IGNvbiA9IGdsb2JhbC5jb25zb2xlLFxuICAgICAgICAgICAgcHJvcCwgbWV0aG9kLFxuICAgICAgICAgICAgZHVtbXkgPSBmdW5jdGlvbigpIHt9LFxuICAgICAgICAgICAgcHJvcGVydGllcyA9IFsnbWVtb3J5J10sXG4gICAgICAgICAgICBtZXRob2RzID0gKCdhc3NlcnQsY2xlYXIsY291bnQsZGVidWcsZGlyLGRpcnhtbCxlcnJvcixleGNlcHRpb24sZ3JvdXAsJyArXG4gICAgICAgICAgICAgICAgJ2dyb3VwQ29sbGFwc2VkLGdyb3VwRW5kLGluZm8sbG9nLG1hcmtUaW1lbGluZSxwcm9maWxlLHByb2ZpbGVzLHByb2ZpbGVFbmQsJyArXG4gICAgICAgICAgICAgICAgJ3Nob3csdGFibGUsdGltZSx0aW1lRW5kLHRpbWVsaW5lLHRpbWVsaW5lRW5kLHRpbWVTdGFtcCx0cmFjZSx3YXJuJykuc3BsaXQoJywnKTtcbiAgICAgICAgd2hpbGUgKHByb3AgPSBwcm9wZXJ0aWVzLnBvcCgpKVxuICAgICAgICAgICAgaWYgKCFjb25bcHJvcF0pXG4gICAgICAgICAgICAgICAgY29uW3Byb3BdID0ge307XG4gICAgICAgIHdoaWxlIChtZXRob2QgPSBtZXRob2RzLnBvcCgpKVxuICAgICAgICAgICAgaWYgKCFjb25bbWV0aG9kXSlcbiAgICAgICAgICAgICAgICBjb25bbWV0aG9kXSA9IGR1bW15O1xuICAgIH0pKHdpbmRvdyk7XG4gICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXG5cblxuICAgIC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuICAgIGlmKCAhJCApIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignalF1ZXJ5IGlzIG5lZWRlZCBmb3IgJytuYW1lc3BhY2UrJyB0byB3b3JrIScpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC1cblxuXG4gICAgLy8gdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9qc1BvbHlmaWxsL0FycmF5LnByb3RvdHlwZS5maW5kSW5kZXhcbiAgICAvLyB0b2RvIGNoZWNrIGVmZmljaWVuY3kgYW5kIHJlbGlhYmlsaXR5IGluIE1TIEludGVybmV0IEV4cGxvcmVyXG4gICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXG4gICAgQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleCA9IEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXggfHwgZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5LnByb3RvdHlwZS5maW5kSW5kZXggY2FsbGVkIG9uIG51bGwgb3IgdW5kZWZpbmVkJyk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdFxuICAgICAgICAgICAgbGlzdCA9IE9iamVjdCh0aGlzKSxcbiAgICAgICAgICAgIC8vIE1ha2VzIHN1cmVzIGlzIGFsd2F5cyBoYXMgYW4gcG9zaXRpdmUgaW50ZWdlciBhcyBsZW5ndGguXG4gICAgICAgICAgICAgbGVuZ3RoID0gbGlzdC5sZW5ndGggPj4+IDAsXG4gICAgICAgICAgICAgdGhpc0FyZyA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIGxpc3RbaV0sIGksIGxpc3QpICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICAgIC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuXG5cbiAgICAvLyB0aGFua3MgdG8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vZWxpcGVyZWxtYW4vMTAzMTY1NlxuICAgIC8vIHRvZG8gY2hlY2sgZWZmaWNpZW5jeSBhbmQgcmVsaWFiaWxpdHkgaW4gTVMgSW50ZXJuZXQgRXhwbG9yZXJcbiAgICAvLyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC1cbiAgICBbXS5maWx0ZXJ8fChBcnJheS5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKGEsYixjLGQsZSl7Yz10aGlzO2Q9W107Zm9yKGUgaW4gYyl+fmUrJyc9PWUmJmU+PTAmJmEuY2FsbChiLGNbZV0sK2UsYykmJmQucHVzaChjW2VdKTtyZXR1cm4gZH0pXG4gICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXG5cblxuICAgIGxldCBjYWNoZSA9IFtdO1xuXG4gICAgY29uc3RcblxuICAgICAgICBjYXBpdGFsaXplID0gZnVuY3Rpb24oc3RyaW5nKXtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgJGRvY3VtZW50ID0gJChkb2N1bWVudCksXG4gICAgICAgICR3aW5kb3cgPSAkKHdpbmRvdyksXG5cbiAgICAgICAgdW5pcXVlX2lkID0gZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgcmV0dXJuICQubml0ZSAmJiAndW5pcXVlSWQnIGluICQubml0ZSA/ICQubml0ZS51bmlxdWVJZCgpIDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDk5OTkgLSAxMDAwKSkgKyAxMDAwO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgaXNfdmlzaWJsZSA9IGZ1bmN0aW9uKGVsZW1lbnQpe1xuXG4gICAgICAgICAgICBjb25zdCAkZWwgPSAkKGVsZW1lbnQpO1xuXG4gICAgICAgICAgICBsZXQgaW5fdmlld3BvcnQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYoICQubml0ZSAmJiAnaW5WaWV3cG9ydCcgaW4gJC5uaXRlIClcbiAgICAgICAgICAgICAgICBpbl92aWV3cG9ydCA9ICQubml0ZS5pblZpZXdwb3J0KGVsZW1lbnQpLnJhdGlvO1xuXG4gICAgICAgICAgICBlbHNle1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgICAgICBpbl92aWV3cG9ydCA9ICEoIHJlY3QucmlnaHQgPCAwIHx8IHJlY3QuYm90dG9tIDwgMCB8fCByZWN0LmxlZnQgPiAkd2luZG93LndpZHRoKCkgfHwgcmVjdC50b3AgPiAkd2luZG93LmhlaWdodCgpICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGluX3ZpZXdwb3J0ICYmICRlbC5pcygnOnZpc2libGUnKSAmJiAkZWwuY3NzKCd2aXNpYmlsaXR5JykgIT09ICdoaWRkZW4nO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgaXNfaHRtbF9vYmplY3QgPSBmdW5jdGlvbiggb2JqZWN0ICl7XG5cbiAgICAgICAgICAgIGlmKCB0eXBlb2Ygb2JqZWN0ICE9PSAnb2JqZWN0JyApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoKGUpe1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Qubm9kZVR5cGUgPT09IDEgJiYgdHlwZW9mIG9iamVjdC5zdHlsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iamVjdC5vd25lckRvY3VtZW50ID09PSAnb2JqZWN0JztcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIGlzX2xvYWRlZCA9IGZ1bmN0aW9uKGVsZW1lbnQpe1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICYmICQuaW5BcnJheShlbGVtZW50LCBjYWNoZSkgPiAtMVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgfHwgKFxuICAgICAgICAgICAgICAgIGlzX2h0bWxfb2JqZWN0KGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgJiYgKCAnY3VycmVudFNyYycgaW4gZWxlbWVudCAmJiBlbGVtZW50LmN1cnJlbnRTcmMubGVuZ3RoIClcbiAgICAgICAgICAgICAgICAmJiAoICggJ2NvbXBsZXRlJyBpbiBlbGVtZW50ICYmIGVsZW1lbnQuY29tcGxldGUgKSB8fCAoICdyZWFkeVN0YXRlJyBpbiBlbGVtZW50ICYmIGVsZW1lbnQucmVhZHlTdGF0ZSA+PSAyICkgKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGlzX2Jyb2tlbiA9IGZ1bmN0aW9uKGVsZW1lbnQpe1xuXG4gICAgICAgICAgICByZXR1cm4gaXNfbG9hZGVkKGVsZW1lbnQpICYmIChcbiAgICAgICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGVsZW1lbnQgPT09ICdvYmplY3QnICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoICduYXR1cmFsV2lkdGgnIGluIGVsZW1lbnQgJiYgTWF0aC5mbG9vcihlbGVtZW50Lm5hdHVyYWxXaWR0aCkgPT09IDAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCAndmlkZW9XaWR0aCcgaW4gZWxlbWVudCAmJiBlbGVtZW50LnZpZGVvV2lkdGggPT09IDAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIHx8IHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJyAvLyB0b2RvIGNoZWNrIGlmIGlzIHVybCBtYXliZT9cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBpc19mb3JtYXQgPSBmdW5jdGlvbiggaXRlbSwgZXhwZWN0ZWRfZm9ybWF0ICl7XG5cbiAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgZm9ybWF0X2V4dGVuc2lvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlIDogJ2pwW2VdP2d8Z2lmfHBuZ3x0aWZbZl0/fGJtcCcsXG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvIDogJ21wM3xvZ2cnLFxuICAgICAgICAgICAgICAgICAgICB2aWRlbyA6ICdtcDR8b2d2fG9nZ3x3ZWJtJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZm9ybWF0X25hbWVzID0gT2JqZWN0LmtleXMoZm9ybWF0X2V4dGVuc2lvbnMpLFxuICAgICAgICAgICAgICAgIGJhc2U2NF9oZWFkaW5nID0gJ1xcO2Jhc2U2NFxcLCc7XG5cbiAgICAgICAgICAgIGxldCBvdXRwdXQgPSB7IGZvcm1hdDogbnVsbCwgZXh0ZW5zaW9uOiBudWxsIH07XG5cbiAgICAgICAgICAgIGlmKCB0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycgKSB7XG5cbiAgICAgICAgICAgICAgICBpdGVtID0gaXRlbS5zcGxpdCgnPycpWzBdOyAvLyBnZXQgcmlkIG9mIHF1ZXJ5IHN0cmluZ3NcbiAgICAgICAgICAgICAgICBpdGVtID0gaXRlbS5zcGxpdCgnIycpWzBdOyAvLyBnZXQgcmlkIG9mIGhhc2hlc1xuXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gPT09ICcnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBsZXQgZm9ybWF0X3F1ZXVlID0gdW5kZWZpbmVkICE9PSBleHBlY3RlZF9mb3JtYXQgPyBbIGV4cGVjdGVkX2Zvcm1hdCBdIDogZm9ybWF0X25hbWVzO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB4IGluIGZvcm1hdF9xdWV1ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JtYXRfcXVldWUuaGFzT3duUHJvcGVydHkoeCkpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3IFJlZ0V4cCgnKFxcLignICsgZm9ybWF0X2V4dGVuc2lvbnNbZm9ybWF0X3F1ZXVlW3hdXSArICcpJCl8JyArIGJhc2U2NF9oZWFkaW5nLCAnZycpLnRlc3QoaXRlbSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKGJhc2U2NF9oZWFkaW5nLCAnZycpLnRlc3QoaXRlbSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hlczY0ID0gaXRlbS5tYXRjaChuZXcgUmVnRXhwKCdeZGF0YTonICsgZm9ybWF0X3F1ZXVlW3hdICsgJ1xcLygnICsgZm9ybWF0X2V4dGVuc2lvbnNbZm9ybWF0X3F1ZXVlW3hdXSArICcpJywgJ2cnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhbWF0Y2hlczY0IHx8IG51bGwgPT09IG1hdGNoZXM2NCApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzNjQgPSBtYXRjaGVzNjRbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmZvcm1hdCA9IGZvcm1hdF9xdWV1ZVt4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmV4dGVuc2lvbiA9IG1hdGNoZXM2NC5yZXBsYWNlKCdkYXRhOicgKyBmb3JtYXRfcXVldWVbeF0gKyAnLycsICcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoZXMgPSBpdGVtLm1hdGNoKG5ldyBSZWdFeHAoZm9ybWF0X2V4dGVuc2lvbnNbZm9ybWF0X3F1ZXVlW3hdXSwgJ2cnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmZvcm1hdCA9IGZvcm1hdF9xdWV1ZVt4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5leHRlbnNpb24gPSBtYXRjaGVzWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIGlzX2h0bWxfb2JqZWN0KGl0ZW0pICl7XG5cbiAgICAgICAgICAgICAgICBsZXQgdGFnX25hbWUgPSBpdGVtLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiggJC5pbkFycmF5KHRhZ19uYW1lLCBmb3JtYXRfbmFtZXMpID4gLTEgKVxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQuZm9ybWF0ID0gaXRlbS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiggdGFnX25hbWUgPT09ICdpbWcnIClcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmZvcm1hdCA9ICdpbWFnZSc7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICBcbiAgICAgICAgfTtcblxuICAgIGNsYXNzIFJlc291cmNlTG9hZGVyIHtcblxuICAgICAgICBjb25zdHJ1Y3RvcihvcHRpb25zKXtcblxuICAgICAgICAgICAgLy8gdG9kbyBtYWtlIF92YXJzIHJlYWxseSBwcml2YXRlXG4gICAgICAgICAgICAvLyB0b2RvIG1ha2UgdXNlZnVsIHZhcnMgc2luY2UgdGhpcyBjbGFzcyBpcyBub3QgcHVibGljIGJ1dCBpcyByZXR1cm5lZCBpbiAucHJvZ3Jlc3MoKSBjYWxsYmFja1xuICAgICAgICAgICAgdGhpcy5fc2V0dGluZ3MgID0gJC5leHRlbmQodHJ1ZSwge1xuICAgICAgICAgICAgICAgIHNyY0F0dHIgICAgIDogJ2RhdGEtc3JjJyxcbiAgICAgICAgICAgICAgICBzcmNzZXRBdHRyICA6ICdkYXRhLXNyY3NldCcsXG4gICAgICAgICAgICAgICAgcGxheXRocm91Z2ggOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2aXNpYmxlICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2lkICAgICAgICA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9pZF9ldmVudCAgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50ICAgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnQgID0gJCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9yZXNvdXJjZSAgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fYnVzeSAgICAgID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMuX2Zvcm1hdCAgICA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuX2RvbmUgICAgICA9ICQubm9vcDtcbiAgICAgICAgICAgIHRoaXMuX3N1Y2Nlc3MgICA9ICQubm9vcDtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yICAgICA9ICQubm9vcDtcblxuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2sgID0gKGUpID0+IHtcblxuICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50LnJlbW92ZURhdGEobmFtZXNwYWNlKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2J1c3kgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNyYyA9IHRoaXMuX2VsZW1lbnQuY3VycmVudFNyYyB8fCB0aGlzLl9lbGVtZW50LnNyYztcblxuICAgICAgICAgICAgICAgIGlmKCAkLmluQXJyYXkoc3JjLCBjYWNoZSkgPT09IC0xIClcbiAgICAgICAgICAgICAgICAgICAgY2FjaGUucHVzaChzcmMpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHRoaXNfYXJndW1lbnRzID0gWyB0aGlzLl9lbGVtZW50LCBlLnR5cGUsIHNyYywgdGhpcy5faWQgXTtcblxuICAgICAgICAgICAgICAgIHRoaXNbIGUudHlwZSAhPT0gJ2Vycm9yJyA/ICdfc3VjY2VzcycgOiAnX2Vycm9yJyBdLmFwcGx5KHRoaXMsIHRoaXNfYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kb25lLmFwcGx5KHRoaXMsIHRoaXNfYXJndW1lbnRzKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICB9XG5cbiAgICAgICAgc2V0IHJlc291cmNlKCBkYXRhICl7XG5cbiAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgZWxlbWVudF9yZXNvdXJjZSA9IGlzX2h0bWxfb2JqZWN0KGRhdGEucmVzb3VyY2UpLFxuICAgICAgICAgICAgICAgIHN0cmluZ19yZXNvdXJjZSA9IHR5cGVvZiBkYXRhLnJlc291cmNlID09PSAnc3RyaW5nJztcblxuICAgICAgICAgICAgaWYoICFlbGVtZW50X3Jlc291cmNlICYmICFzdHJpbmdfcmVzb3VyY2UgKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5faWQgPSBkYXRhLmlkO1xuICAgICAgICAgICAgdGhpcy5fZm9ybWF0ID0gaXNfZm9ybWF0KGRhdGEucmVzb3VyY2UpLmZvcm1hdDtcblxuICAgICAgICAgICAgdGhpcy5fZXhpc3RzID0gZWxlbWVudF9yZXNvdXJjZTsgLy8gdG9kbyBtYXliZSBzZWFyY2ggZm9yIGFuIGVsZW1lbnQgd2l0aCB0aGlzIHNyY1xuXG4gICAgICAgICAgICBpZiggc3RyaW5nX3Jlc291cmNlICl7XG5cbiAgICAgICAgICAgICAgICBsZXQgaXNfaW1nID0gdGhpcy5fZm9ybWF0ID09PSAnaW1hZ2UnO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXNfaW1nID8gJ2ltZycgOiB0aGlzLl9mb3JtYXQpO1xuXG4gICAgICAgICAgICAgICAgaWYoIGlzX2ltZyApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldHRpbmdzLnNyY3NldEF0dHIgPSAnZGF0YS1zcmNzZXQnO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldHRpbmdzLnNyY0F0dHIgPSAnZGF0YS1zcmMnO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzb3VyY2UgPSBkYXRhLnJlc291cmNlO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCBlbGVtZW50X3Jlc291cmNlIClcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gZGF0YS5yZXNvdXJjZTtcblxuICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnQgPSAkKHRoaXMuX2VsZW1lbnQpO1xuXG4gICAgICAgICAgICBpZiggc3RyaW5nX3Jlc291cmNlICl7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAuZGF0YSh0aGlzLl9zZXR0aW5ncy5zcmNBdHRyLnJlcGxhY2UoJ2RhdGEtJywgJycpLCB0aGlzLl9yZXNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEodGhpcy5fc2V0dGluZ3Muc3Jjc2V0QXR0ci5yZXBsYWNlKCdkYXRhLScsICcnKSwgdGhpcy5fcmVzb3VyY2UpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKHRoaXMuX3NldHRpbmdzLnNyY0F0dHIsIHRoaXMuX3Jlc291cmNlKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cih0aGlzLl9zZXR0aW5ncy5zcmNzZXRBdHRyLCB0aGlzLl9yZXNvdXJjZSk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5faWRfZXZlbnQgPSB0aGlzLl8kZWxlbWVudC5kYXRhKG5hbWVzcGFjZSk7XG4gICAgICAgICAgICB0aGlzLl9idXN5ID0gdGhpcy5faWRfZXZlbnQgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuX2lkX2V2ZW50ID0gdGhpcy5fYnVzeSA/IHRoaXMuX2lkX2V2ZW50IDogbmFtZXNwYWNlICsgJ191bmlxdWVfJyArIHRoaXMuX2VsZW1lbnQudGFnTmFtZSArICdfJysgdW5pcXVlX2lkKCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gc2UgaGEgcHJlc28gaW4gY2FyaWNvIGlsIGNhcmljYW1lbnRvIG9wcHVyZSBubyBwZXIgdmFyaSBtb3RpdmkgKMOoIGdpw6AgY2FyaWNhdG8sIG5vbiDDqCBuZWxsYSB2aWV3cG9ydCBldGMpXG4gICAgICAgICAqL1xuICAgICAgICBwcm9jZXNzKCl7XG5cbiAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgc3JjID0gdGhpcy5fc2V0dGluZ3Muc3JjQXR0cixcbiAgICAgICAgICAgICAgICBzcmNfY2xlYW4gPSB0aGlzLl9zZXR0aW5ncy5zcmNBdHRyLnJlcGxhY2UoJ2RhdGEtJywgJycpO1xuXG4gICAgICAgICAgICBpZiAoIGlzX2xvYWRlZCggdGhpcy5fZXhpc3RzID8gdGhpcy5fZWxlbWVudCA6IHRoaXMuX3Jlc291cmNlICkgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2J1c3kpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50Lm9mZignLicgKyB0aGlzLl9pZF9ldmVudCk7IC8vIHRvZG8gdGhpcyBzaG91bGQgYmUgY2FsbGVkIHdoZW4gaW4gY2FsbGJhY2tcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrKG5ldyBFdmVudCghaXNfYnJva2VuKCB0aGlzLl9leGlzdHMgPyB0aGlzLl9lbGVtZW50IDogdGhpcy5fcmVzb3VyY2UgKSA/ICdsb2FkJyA6ICdlcnJvcicpKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgfWVsc2UgaWYoIHRoaXMuX2V4aXN0cyAmJiB0aGlzLl9zZXR0aW5ncy52aXNpYmxlICYmICFpc192aXNpYmxlKHRoaXMuX2VsZW1lbnQpICl7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIH1lbHNle1xuXG4gICAgICAgICAgICAgICAgaWYoIHRoaXMuX2Zvcm1hdCA9PT0gJ2ltYWdlJyApIHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudFt0aGlzLl9idXN5ID8gJ29uJyA6ICdvbmUnXSgnbG9hZC4nICsgdGhpcy5faWRfZXZlbnQgKyAnIGVycm9yLicgKyB0aGlzLl9pZF9ldmVudCwgdGhpcy5fY2FsbGJhY2spO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgICAgICAgICAkcGljdHVyZSA9IHRoaXMuXyRlbGVtZW50LmNsb3Nlc3QoJ3BpY3R1cmUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyY3NldCA9IHRoaXMuX3NldHRpbmdzLnNyY3NldEF0dHIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzcmNzZXRfY2xlYW4gPSB0aGlzLl9zZXR0aW5ncy5zcmNzZXRBdHRyLnJlcGxhY2UoJ2RhdGEtJywgJycpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgkcGljdHVyZS5sZW5ndGggJiYgJ0hUTUxQaWN0dXJlRWxlbWVudCcgaW4gd2luZG93ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVEYXRhKHNyY3NldF9jbGVhbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cihzcmNzZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZURhdGEoc3JjX2NsZWFuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKHNyYyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICRwaWN0dXJlLmZpbmQoJ3NvdXJjZVsnICsgc3Jjc2V0ICsgJ10nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzcmNzZXQnLCAkcGljdHVyZS5kYXRhKHNyY3NldF9jbGVhbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZURhdGEoc3Jjc2V0X2NsZWFuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKHNyY3NldCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuXyRlbGVtZW50LmlzKCdbJyArIHNyY3NldCArICddJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3NyY3NldCcsIHRoaXMuXyRlbGVtZW50LmRhdGEoc3Jjc2V0X2NsZWFuKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZURhdGEoc3Jjc2V0X2NsZWFuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cihzcmNzZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fJGVsZW1lbnQuaXMoJ1snICsgc3JjICsgJ10nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3JjJywgdGhpcy5fJGVsZW1lbnQuZGF0YShzcmNfY2xlYW4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlRGF0YShzcmNfY2xlYW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKHNyYyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoIHRoaXMuX2Zvcm1hdCA9PT0gJ3ZpZGVvJyB8fCB0aGlzLl9mb3JtYXQgPT09ICdhdWRpbycgKXtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19wbGF5dGhyb3VnaF9tb2RlX19ub3JtYWwgPSB0cnVlID09PSB0aGlzLl9zZXR0aW5ncy5wbGF5dGhyb3VnaCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX3BsYXl0aHJvdWdoX21vZGVfX2Z1bGwgPSAnZnVsbCcgPT09IHRoaXMuX3NldHRpbmdzLnBsYXl0aHJvdWdoLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAkc291cmNlcyA9IHRoaXMuXyRlbGVtZW50LmZpbmQoJ3NvdXJjZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfZnVsbHlfYnVmZmVyZWQgPSBmdW5jdGlvbihtZWRpYSl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVkaWEuYnVmZmVyZWQubGVuZ3RoICYmIE1hdGgucm91bmQobWVkaWEuYnVmZmVyZWQuZW5kKDApKSAvIE1hdGgucm91bmQobWVkaWEuc2Vla2FibGUuZW5kKDApKSA9PT0gMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgY2FsbF9tZWRpYV9sb2FkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoICRzb3VyY2VzLmxlbmd0aCApe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7IC8vIHRvZG8gYXJyb3cgZnVuYyA/XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICRzb3VyY2VzLmVhY2goZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgJHQgPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAkdC5pcygnWycgKyBzcmMgKyAnXScpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3JjJywgJHQuZGF0YShzcmNfY2xlYW4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZURhdGEoc3JjX2NsZWFuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoc3JjKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsX21lZGlhX2xvYWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMuX2J1c3kgPyAnb24nIDogJ29uZSddKCdlcnJvci4nICsgdGhpcy5faWRfZXZlbnQsIGZ1bmN0aW9uKGUpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc291cmNlc19lcnJvcl9pZCA9IG5hbWVzcGFjZSsnX2Vycm9yJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZGF0YShzb3VyY2VzX2Vycm9yX2lkLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkc291cmNlcy5sZW5ndGggPT09ICRzb3VyY2VzLmZpbHRlcihmdW5jdGlvbigpeyByZXR1cm4gdHJ1ZSA9PT0gJCh0aGlzKS5kYXRhKHNvdXJjZXNfZXJyb3JfaWQpOyB9KS5sZW5ndGggKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9jYWxsYmFjayhlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl8kZWxlbWVudC5pcygnWycgKyBzcmMgKyAnXScpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3JjJywgdGhpcy5fJGVsZW1lbnQuZGF0YShzcmNfY2xlYW4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlRGF0YShzcmNfY2xlYW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKHNyYylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMuX2J1c3kgPyAnb24nIDogJ29uZSddKCdlcnJvci4nICsgdGhpcy5faWRfZXZlbnQsIHRoaXMuX2NhbGxiYWNrKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxfbWVkaWFfbG9hZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGNhbGxfbWVkaWFfbG9hZCApXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmxvYWQoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMuX2J1c3kgPyAnb24nIDogJ29uZSddKCdsb2FkZWRtZXRhZGF0YS4nICsgdGhpcy5faWRfZXZlbnQsICgpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggIWlzX3BsYXl0aHJvdWdoX21vZGVfX25vcm1hbCAmJiAhaXNfcGxheXRocm91Z2hfbW9kZV9fZnVsbCApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrKG5ldyBFdmVudCgnbG9hZCcpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpc19wbGF5dGhyb3VnaF9tb2RlX19mdWxsICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvbl9wcm9ncmVzc19yZXBsYWNlbWVudF9pbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzX2Vycm9yID0gdGhpcy5fZWxlbWVudC5yZWFkeVN0YXRlID4gMCAmJiAhdGhpcy5fZWxlbWVudC5kdXJhdGlvbjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGlzX2Vycm9yIHx8IGlzX2Z1bGx5X2J1ZmZlcmVkKHRoaXMuX2VsZW1lbnQpICl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmN1cnJlbnRUaW1lID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhaXNfZXJyb3IgJiYgIXRoaXMuX2J1c3kgJiYgdGhpcy5fZWxlbWVudC5wYXVzZWQgJiYgdGhpcy5fJGVsZW1lbnQuaXMoJ1thdXRvcGxheV0nKSApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucGxheSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChvbl9wcm9ncmVzc19yZXBsYWNlbWVudF9pbnRlcnZhbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWxsYmFjayhuZXcgRXZlbnQoICFpc19lcnJvciA/ICdsb2FkJyA6ICdlcnJvcicgKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggIXRoaXMuX2VsZW1lbnQucGF1c2VkIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5wYXVzZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICF0aGlzLl9idXN5IClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5jdXJyZW50VGltZSArPSAyO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudC5kYXRhKHRoaXMuX2lkX2V2ZW50LCBvbl9wcm9ncmVzc19yZXBsYWNlbWVudF9pbnRlcnZhbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICBbdGhpcy5fYnVzeSA/ICdvbicgOiAnb25lJ10oJ2NhbnBsYXkuJyArIHRoaXMuX2lkX2V2ZW50LCAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGlzX3BsYXl0aHJvdWdoX21vZGVfX2Z1bGwgJiYgdGhpcy5fZWxlbWVudC5jdXJyZW50VGltZSA9PT0gMCAmJiAhaXNfZnVsbHlfYnVmZmVyZWQodGhpcy5fZWxlbWVudCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuY3VycmVudFRpbWUrKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLl9idXN5ID8gJ29uJyA6ICdvbmUnXSgnY2FucGxheXRocm91Z2guJyArIHRoaXMuX2lkX2V2ZW50LCAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaXNfcGxheXRocm91Z2hfbW9kZV9fbm9ybWFsIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2sobmV3IEV2ZW50KCdsb2FkJykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH1lbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoICF0aGlzLl9idXN5IClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnQuZGF0YShuYW1lc3BhY2UsIHRoaXMuX2lkX2V2ZW50KTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9yZXNvdXJjZSA9IHRoaXMuX2VsZW1lbnQuY3VycmVudFNyYyB8fCB0aGlzLl9lbGVtZW50LnNyYztcblxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLl9idXN5O1xuXG4gICAgICAgIH1cblxuICAgICAgICBkb25lKGNhbGxiYWNrKXtcblxuICAgICAgICAgICAgaWYoICEkLmlzRnVuY3Rpb24oY2FsbGJhY2spIClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX2RvbmUgPSBmdW5jdGlvbihlbGVtZW50LCBzdGF0dXMsIHJlc291cmNlLCBpZCl7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodGhpcywgW2VsZW1lbnQsIHN0YXR1cywgcmVzb3VyY2UsIGlkXSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgYWJvcnQoKXtcblxuICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAub2ZmKCcuJyArIHRoaXMuX2lkX2V2ZW50KTtcblxuICAgICAgICAgICAgaWYoIGlzX2xvYWRlZCh0aGlzLl9leGlzdHMgPyB0aGlzLl9lbGVtZW50IDogdGhpcy5fcmVzb3VyY2UgKSApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgIHNyYyA9IHRoaXMuXyRlbGVtZW50LmF0dHIoJ3NyY3NldCcpLFxuICAgICAgICAgICAgICAgIHNyY3NldCA9IHRoaXMuXyRlbGVtZW50LmF0dHIoJ3NyYycpO1xuXG4gICAgICAgICAgICBpZiggdW5kZWZpbmVkICE9PSBzcmMgKVxuICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKHRoaXMuX3NldHRpbmdzLnNyY0F0dHIsIHNyYylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIodGhpcy5fc2V0dGluZ3Muc3JjQXR0ciwgc3JjKVxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cignc3JjJykucmVtb3ZlQXR0cignc3Jjc2V0Jyk7XG5cbiAgICAgICAgICAgIGlmKCB1bmRlZmluZWQgIT09IHNyY3NldCApXG4gICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEodGhpcy5fc2V0dGluZ3Muc3Jjc2V0QXR0ciwgc3Jjc2V0KVxuICAgICAgICAgICAgICAgICAgICAuYXR0cih0aGlzLl9zZXR0aW5ncy5zcmNzZXRBdHRyLCBzcmNzZXQpXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdzcmMnKS5yZW1vdmVBdHRyKCdzcmNzZXQnKTtcblxuICAgICAgICB9XG5cbiAgICB9XG4gICAgXG4gICAgY2xhc3MgUmVzb3VyY2VzTG9hZGVyIHtcblxuICAgICAgICBjb25zdHJ1Y3Rvcihjb2xsZWN0aW9uLCBvcHRpb25zKSB7XG5cbiAgICAgICAgICAgIC8vIHRvZG8gbWFrZSBfdmFycyByZWFsbHkgcHJpdmF0ZVxuICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbiAgICAgICAgICAgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb25fbG9hZGVkICAgID0gW107XG4gICAgICAgICAgICB0aGlzLl9jb2xsZWN0aW9uX2luc3RhbmNlcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbl9wZW5kaW5nICAgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc291cmNlc19sb2FkZWQgICAgID0gW107XG5cbiAgICAgICAgICAgIGlmICgkLmlzQXJyYXkoY29sbGVjdGlvbikgJiYgKCB0eXBlb2YgY29sbGVjdGlvblswXSA9PT0gJ3N0cmluZycgfHwgaXNfaHRtbF9vYmplY3QoY29sbGVjdGlvblswXSkgKSlcbiAgICAgICAgICAgICAgICBmb3IgKCBjb25zdCByZXNvdXJjZSBpbiBjb2xsZWN0aW9uIClcbiAgICAgICAgICAgICAgICAgICAgaWYoIGNvbGxlY3Rpb24uaGFzT3duUHJvcGVydHkocmVzb3VyY2UpIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb24ucHVzaCh7IGlkIDogdW5pcXVlX2lkKCksIHJlc291cmNlIDogY29sbGVjdGlvbltyZXNvdXJjZV0gfSk7XG4gICAgICAgICAgICBpZiAoIHR5cGVvZiBjb2xsZWN0aW9uID09PSAnc3RyaW5nJyB8fCBpc19odG1sX29iamVjdChjb2xsZWN0aW9uKSApXG4gICAgICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbi5wdXNoKHsgaWQgOiB1bmlxdWVfaWQoKSwgcmVzb3VyY2UgOiBjb2xsZWN0aW9uIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9zZXR0aW5ncyA9ICQuZXh0ZW5kKHRydWUsIHtcbiAgICAgICAgICAgICAgICBzcmNBdHRyICAgICA6ICdkYXRhLXNyYycsXG4gICAgICAgICAgICAgICAgc3Jjc2V0QXR0ciAgOiAnZGF0YS1zcmNzZXQnLFxuICAgICAgICAgICAgICAgIHBsYXl0aHJvdWdoIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmlzaWJsZSAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSAwO1xuXG4gICAgICAgICAgICB0aGlzLl9kb25lICAgICAgPSAkLm5vb3A7XG4gICAgICAgICAgICB0aGlzLl9wcm9ncmVzcyAgPSAkLm5vb3A7XG4gICAgICAgICAgICB0aGlzLl9zdWNjZXNzICAgPSAkLm5vb3A7XG4gICAgICAgICAgICB0aGlzLl9lcnJvciAgICAgPSAkLm5vb3A7XG5cbiAgICAgICAgICAgIHRoaXMuX2Fib3J0ICAgICA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVkICAgID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlICA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fYnVzeSAgICAgID0gZmFsc2U7XG5cbiAgICAgICAgICAgICh0aGlzLl9sb29wID0gKCkgPT4geyAvLyBzZWxmIGludm9raW5nIHRoaXMuX2xvb3BcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7IC8vIGZvcmNlIGFzeW5jaHJvbnkgKGdpdmVzIHRpbWUgdG8gY2hhaW4gbWV0aG9kcyBzeW5jaHJvbm91c2x5KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvb3AoKTtcbiAgICAgICAgICAgICAgICB9LCAyNSk7XG4gICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBsb29wKCl7XG5cbiAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb25fcGVuZGluZyA9IFtdOyAvLyByZXNldHMgcGVuZGluZyBlbGVtZW50cyAoc2VxdWVudGlhbCBvcHQgaGVscGVyIGFycmF5KSBldmVyeSB0aW1lIHdlIGxvb3BcblxuICAgICAgICAgICAgY29uc3Qgc2VxdWVudGlhbF9tb2RlID0gdHJ1ZSA9PT0gdGhpcy5fc2V0dGluZ3Muc2VxdWVudGlhbDtcblxuICAgICAgICAgICAgZm9yKCBsZXQgaSA9IDA7IGkgPCB0aGlzLl9jb2xsZWN0aW9uLmxlbmd0aDsgaSsrICl7XG5cbiAgICAgICAgICAgICAgICBpZiggdGhpcy5fYWJvcnQgKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGxldCB0aGlzX2xvYWRfaWQgPSB0aGlzLl9jb2xsZWN0aW9uW2ldLmlkLFxuICAgICAgICAgICAgICAgICAgICB0aGlzX2xvYWRfaW5kZXggPSB0aGlzLl9jb2xsZWN0aW9uX2luc3RhbmNlcy5maW5kSW5kZXgoIHggPT4geC5pZCA9PT0gdGhpc19sb2FkX2lkICksXG4gICAgICAgICAgICAgICAgICAgIHRoaXNfbG9hZF9pbnN0YW5jZSA9IG5ldyBSZXNvdXJjZUxvYWRlcih0aGlzLl9zZXR0aW5ncyk7XG5cbiAgICAgICAgICAgICAgICBpZiggdGhpc19sb2FkX2luZGV4ID09PSAtMSApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbl9pbnN0YW5jZXMucHVzaCh7IGlkIDogdGhpc19sb2FkX2lkLCBpbnN0YW5jZSA6IHRoaXNfbG9hZF9pbnN0YW5jZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc19sb2FkX2luZGV4ID0gdGhpcy5fY29sbGVjdGlvbl9pbnN0YW5jZXMuZmluZEluZGV4KCB4ID0+IHguaWQgPT09IHRoaXNfbG9hZF9pZCApO1xuICAgICAgICAgICAgICAgIH1lbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb25faW5zdGFuY2VzW3RoaXNfbG9hZF9pbmRleF0uaW5zdGFuY2UgPSB0aGlzX2xvYWRfaW5zdGFuY2U7XG5cbiAgICAgICAgICAgICAgICB0aGlzX2xvYWRfaW5zdGFuY2UucmVzb3VyY2UgPSB0aGlzLl9jb2xsZWN0aW9uW2ldO1xuXG4gICAgICAgICAgICAgICAgdGhpc19sb2FkX2luc3RhbmNlLmRvbmUoKGVsZW1lbnQsIHN0YXR1cywgcmVzb3VyY2UsIGlkKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIHRoaXMuX2NvbXBsZXRlIHx8IHRoaXMuX2Fib3J0IClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgYV9wcm9ncmVzcyA9ICQuaW5BcnJheShpZCwgdGhpcy5fY29sbGVjdGlvbl9sb2FkZWQpID09PSAtMTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggYV9wcm9ncmVzcyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbl9sb2FkZWQucHVzaChpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9idXN5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRlZCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZXJjZW50YWdlID0gdGhpcy5fbG9hZGVkIC8gdGhpcy5fY29sbGVjdGlvbi5sZW5ndGggKiAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSBwYXJzZUZsb2F0KHRoaXMucGVyY2VudGFnZS50b0ZpeGVkKDQpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRoaXNfcmVzb3VyY2UgPSB7IHJlc291cmNlIDogcmVzb3VyY2UsIHN0YXR1cyA6IHN0YXR1cyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVzb3VyY2VzX2xvYWRlZC5wdXNoKHRoaXNfcmVzb3VyY2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcm9ncmVzcy5jYWxsKHRoaXMsIHRoaXNfcmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1sgc3RhdHVzICE9PSAnZXJyb3InID8gJ19zdWNjZXNzJyA6ICdfZXJyb3InIF0uY2FsbCh0aGlzLCB0aGlzX3Jlc291cmNlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJChlbGVtZW50KS50cmlnZ2VyKG5hbWVzcGFjZV9wcmVmaXggKyBjYXBpdGFsaXplKHN0YXR1cykgKyAnLicgKyBuYW1lc3BhY2VfcHJlZml4LCBbIGVsZW1lbnQsIHJlc291cmNlIF0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiggdGhpcy5fbG9hZGVkID09PSB0aGlzLl9jb2xsZWN0aW9uLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZG9uZS5jYWxsKHRoaXMsIHRoaXMuX3Jlc291cmNlc19sb2FkZWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoIGFfcHJvZ3Jlc3MgJiYgc2VxdWVudGlhbF9tb2RlICl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCB0aGlzLl9jb2xsZWN0aW9uX3BlbmRpbmcubGVuZ3RoICl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb2xsZWN0aW9uX3BlbmRpbmcgPSB0aGlzLl9jb2xsZWN0aW9uX3BlbmRpbmcuZmlsdGVyKHggPT4geC5pZCAhPT0gaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb25fcGVuZGluZyA9IHRoaXMuX2NvbGxlY3Rpb25fcGVuZGluZy5maWx0ZXIoeCA9PiB4LmlkICE9PSBpZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggdGhpcy5fY29sbGVjdGlvbl9wZW5kaW5nLmxlbmd0aCApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1c3kgPSB0aGlzLl9jb2xsZWN0aW9uX3BlbmRpbmdbMF0uaW5zdGFuY2UucHJvY2VzcygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiggIXNlcXVlbnRpYWxfbW9kZSB8fCAoIHNlcXVlbnRpYWxfbW9kZSAmJiAhdGhpcy5fYnVzeSApIClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYnVzeSA9IHRoaXNfbG9hZF9pbnN0YW5jZS5wcm9jZXNzKCk7XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmKCBzZXF1ZW50aWFsX21vZGUgJiYgdGhpcy5fYnVzeSApe1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCAhdGhpcy5fc2V0dGluZ3MudmlzaWJsZSB8fCAoIHRoaXMuX3NldHRpbmdzLnZpc2libGUgJiYgaXNfdmlzaWJsZSh0aGlzX2xvYWRfaW5zdGFuY2UuX2VsZW1lbnQpICkgKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbl9wZW5kaW5nLnB1c2goeyBpZCA6IHRoaXNfbG9hZF9pZCwgaW5zdGFuY2UgOiB0aGlzX2xvYWRfaW5zdGFuY2UgfSk7XG5cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBkb25lKGNhbGxiYWNrKXsgLy8gdG9kbyByZWZhY3RvcnlcblxuICAgICAgICAgICAgaWYoICEkLmlzRnVuY3Rpb24oY2FsbGJhY2spIClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IF9mdW5jID0gZnVuY3Rpb24ocmVzb3VyY2VzKXtcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIHJlc291cmNlcyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiggdGhpcy5fY29sbGVjdGlvbi5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9kb25lID0gX2Z1bmM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9sb29wKCk7XG5cbiAgICAgICAgICAgIH1lbHNlXG4gICAgICAgICAgICAgICAgX2Z1bmMoKTtcblxuICAgICAgICB9O1xuXG4gICAgICAgIHByb2dyZXNzKGNhbGxiYWNrKXsgLy8gdG9kbyByZWZhY3RvcnlcblxuICAgICAgICAgICAgaWYoICEkLmlzRnVuY3Rpb24oY2FsbGJhY2spIClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IF9mdW5jID0gZnVuY3Rpb24ocmVzb3VyY2Upe1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgcmVzb3VyY2UpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYoIHRoaXMuX2NvbGxlY3Rpb24ubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvZ3Jlc3MgPSBfZnVuYztcblxuICAgICAgICAgICAgICAgIHRoaXMuX2xvb3AoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH07XG5cbiAgICAgICAgc3VjY2VzcyhjYWxsYmFjayl7IC8vIHRvZG8gcmVmYWN0b3J5XG5cbiAgICAgICAgICAgIGlmKCAhJC5pc0Z1bmN0aW9uKGNhbGxiYWNrKSApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdCBfZnVuYyA9IGZ1bmN0aW9uKHJlc291cmNlKXtcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIHJlc291cmNlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmKCB0aGlzLl9jb2xsZWN0aW9uLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3N1Y2Nlc3MgPSBfZnVuYztcblxuICAgICAgICAgICAgICAgIHRoaXMuX2xvb3AoKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH07XG5cbiAgICAgICAgZXJyb3IoY2FsbGJhY2speyAvLyB0b2RvIHJlZmFjdG9yeVxuXG4gICAgICAgICAgICBpZiggISQuaXNGdW5jdGlvbihjYWxsYmFjaykgKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgY29uc3QgX2Z1bmMgPSBmdW5jdGlvbihyZXNvdXJjZSl7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiggdGhpcy5fY29sbGVjdGlvbi5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IF9mdW5jO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9vcCgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICBhYm9ydCgpe1xuXG4gICAgICAgICAgICBmb3IoIGNvbnN0IGtleSBpbiB0aGlzLl9jb2xsZWN0aW9uX2luc3RhbmNlcyApXG4gICAgICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbl9pbnN0YW5jZXNbIGtleSBdLmluc3RhbmNlLmFib3J0KCk7XG5cbiAgICAgICAgICAgIGlmKCB0aGlzLl9jb2xsZWN0aW9uLmxlbmd0aCApXG4gICAgICAgICAgICAgICAgdGhpcy5fYWJvcnQgPSB0cnVlO1xuXG4gICAgICAgIH07XG5cbiAgICB9XG5cbiAgICBjbGFzcyBDb2xsZWN0aW9uUG9wdWxhdG9yIHtcblxuICAgICAgICBjb25zdHJ1Y3RvcigkZWxlbWVudCwgb3B0aW9ucykge1xuXG4gICAgICAgICAgICB0aGlzLl8kZWxlbWVudCAgPSAkZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgICA9ICRlbGVtZW50WzBdO1xuXG4gICAgICAgICAgICB0aGlzLl9zZXR0aW5ncyAgPSAkLmV4dGVuZCh0cnVlLCB7XG4gICAgICAgICAgICAgICAgc3JjQXR0ciAgICAgOiAnZGF0YS1zcmMnLFxuICAgICAgICAgICAgICAgIHNyY3NldEF0dHIgIDogJ2RhdGEtc3Jjc2V0JyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kcyA6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgIDogW11cbiAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBjb2xsZWN0KCBvdXRwdXQgKSB7XG5cbiAgICAgICAgICAgIGxldCBjb2xsZWN0aW9uID0gW107XG5cbiAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgaXNfcGxhaW5fZGF0YV9jb2xsZWN0aW9uID0gb3V0cHV0ID09PSAncGxhaW4nLFxuXG4gICAgICAgICAgICAgICAgc3JjID0gdGhpcy5fc2V0dGluZ3Muc3JjQXR0cixcbiAgICAgICAgICAgICAgICBzcmNzZXQgPSB0aGlzLl9zZXR0aW5ncy5zcmNzZXRBdHRyLFxuXG4gICAgICAgICAgICAgICAgdGFyZ2V0cyA9ICdpbWcsIHZpZGVvLCBhdWRpbycsXG4gICAgICAgICAgICAgICAgdGFyZ2V0c19leHRlbmRlZCA9IHRhcmdldHMgKyAnLCBwaWN0dXJlLCBzb3VyY2UnO1xuXG4gICAgICAgICAgICBsZXQgJHRhcmdldHMgPSB0aGlzLl8kZWxlbWVudC5maW5kKHRhcmdldHMpO1xuICAgICAgICAgICAgaWYgKHRoaXMuXyRlbGVtZW50LmlzKHRhcmdldHMpKVxuICAgICAgICAgICAgICAgICR0YXJnZXRzID0gJHRhcmdldHMuYWRkKHRoaXMuXyRlbGVtZW50KTtcbiAgICAgICAgICAgICR0YXJnZXRzID0gJHRhcmdldHMuZmlsdGVyKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgbGV0ICR0ID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyID0gJ1snK3NyYysnXSwgWycrc3Jjc2V0KyddJztcbiAgICAgICAgICAgICAgICByZXR1cm4gJHQuaXMoZmlsdGVyKSB8fCAkdC5jaGlsZHJlbih0YXJnZXRzX2V4dGVuZGVkKS5maWx0ZXIoZmlsdGVyKS5sZW5ndGg7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICR0YXJnZXRzLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgbGV0IGNvbGxlY3Rpb25faXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlIDogJCh0aGlzKS5hdHRyKHNyYykgfHwgJCh0aGlzKS5hdHRyKHNyY3NldClcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaWYoIGlzX3BsYWluX2RhdGFfY29sbGVjdGlvbiApXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25faXRlbSA9IGNvbGxlY3Rpb25faXRlbS5lbGVtZW50O1xuXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbi5wdXNoKGNvbGxlY3Rpb25faXRlbSk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodHJ1ZSA9PT0gdGhpcy5fc2V0dGluZ3MuYmFja2dyb3VuZHMpXG4gICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnQuZmluZCgnKicpLmFkZEJhY2soKS5ub3QodGFyZ2V0c19leHRlbmRlZCkuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQodGhpcykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJykgIT09ICdub25lJztcbiAgICAgICAgICAgICAgICB9KS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSAkKHRoaXMpLmNzcygnYmFja2dyb3VuZC1pbWFnZScpLm1hdGNoKC9cXCgoLio/KVxcKS8pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBudWxsID09PSB1cmwgfHwgdXJsLmxlbmd0aCA8IDIgKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbGxlY3Rpb25faXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UgOiB1cmxbMV0ucmVwbGFjZSgvKCd8XCIpL2csJycpXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGlzX3BsYWluX2RhdGFfY29sbGVjdGlvbiApXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uX2l0ZW0gPSBjb2xsZWN0aW9uX2l0ZW0ucmVzb3VyY2U7XG5cbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbi5wdXNoKGNvbGxlY3Rpb25faXRlbSk7XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3NldHRpbmdzLmF0dHJpYnV0ZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0ciBpbiB0aGlzLl9zZXR0aW5ncy5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCB0aGlzLl9zZXR0aW5ncy5hdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KGF0dHIpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudC5maW5kKCdbJyArIGF0dHIgKyAnXTpub3QoJyArIHRhcmdldHNfZXh0ZW5kZWQgKyAnKScpLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbGxlY3Rpb25faXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlIDogJCh0aGlzKS5hdHRyKGF0dHIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpc19wbGFpbl9kYXRhX2NvbGxlY3Rpb24gKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uX2l0ZW0gPSBjb2xsZWN0aW9uX2l0ZW0ucmVzb3VyY2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLnB1c2goY29sbGVjdGlvbl9pdGVtKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl8kZWxlbWVudC5pcygnWycgKyBhdHRyICsgJ10nKSAmJiAhdGhpcy5fJGVsZW1lbnQuaXModGFyZ2V0c19leHRlbmRlZCkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb2xsZWN0aW9uX2l0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuX2VsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlOiB0aGlzLl8kZWxlbWVudC5hdHRyKGF0dHIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpc19wbGFpbl9kYXRhX2NvbGxlY3Rpb24gKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uX2l0ZW0gPSBjb2xsZWN0aW9uX2l0ZW0ucmVzb3VyY2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLnB1c2goY29sbGVjdGlvbl9pdGVtKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgICRbbmFtZXNwYWNlX21ldGhvZF0gPSBSZXNvdXJjZXNMb2FkZXI7XG5cbiAgICBsZXQgbWV0aG9kX2NvbGxlY3Rpb24gPSBbXTtcblxuICAgICQuZm5bbmFtZXNwYWNlX21ldGhvZF0gPSBmdW5jdGlvbihvcHRpb25zKXtcblxuICAgICAgICBsZXQgb3JpZ2luYWxfdXNlcl9vcHRpb25zID0gb3B0aW9ucztcblxuICAgICAgICBpZiggdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnIClcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcblxuICAgICAgICBsZXQgc2V0dGluZ3MgPSAkLmV4dGVuZCh0cnVlLCB7XG5cbiAgICAgICAgICAgIHNyY0F0dHIgICAgICAgOiAnZGF0YS1zcmMnLFxuICAgICAgICAgICAgc3Jjc2V0QXR0ciAgICA6ICdkYXRhLXNyY3NldCcsXG5cbiAgICAgICAgICAgIHZpc2libGUgICAgICAgOiBmYWxzZSxcblxuICAgICAgICAgICAgc2VxdWVudGlhbCAgICA6IGZhbHNlLFxuXG4gICAgICAgICAgICBiYWNrZ3JvdW5kcyAgIDogZmFsc2UsXG4gICAgICAgICAgICBleHRyYUF0dHJzICAgIDogW10sXG5cbiAgICAgICAgICAgIHBsYXl0aHJvdWdoICAgOiBmYWxzZSxcblxuICAgICAgICAgICAgZWFybHkgICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgZWFybHlUaW1lb3V0ICA6IDAsXG5cbiAgICAgICAgICAgIG9uUHJvZ3Jlc3MgICAgOiAkLm5vb3AsXG4gICAgICAgICAgICBvbkxvYWQgICAgICAgIDogJC5ub29wLFxuICAgICAgICAgICAgb25FcnJvciAgICAgICA6ICQubm9vcCxcblxuICAgICAgICAgICAgb25Db21wbGV0ZSAgICA6ICQubm9vcCxcblxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICBsZXQgY2FsbGJhY2sgPSBzZXR0aW5ncy5vbkNvbXBsZXRlO1xuICAgICAgICBpZiggJC5pc0Z1bmN0aW9uKG9yaWdpbmFsX3VzZXJfb3B0aW9ucykgKVxuICAgICAgICAgICAgY2FsbGJhY2sgPSBvcmlnaW5hbF91c2VyX29wdGlvbnM7XG5cbiAgICAgICAgaWYoICEkLmlzQXJyYXkoc2V0dGluZ3MuYXR0cmlidXRlcykgKVxuICAgICAgICAgICAgc2V0dGluZ3MuYXR0cmlidXRlcyA9IFtdO1xuICAgICAgICBpZiggdHlwZW9mIHNldHRpbmdzLmF0dHJpYnV0ZXMgPT09ICdzdHJpbmcnIClcbiAgICAgICAgICAgIHNldHRpbmdzLmF0dHJpYnV0ZXMgPSBzZXR0aW5ncy5hdHRyaWJ1dGVzLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSB0aGlzLFxuICAgICAgICAgICAgICAgICRlbGVtZW50ID0gJChlbGVtZW50KSxcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uID0gbmV3IENvbGxlY3Rpb25Qb3B1bGF0b3IoJGVsZW1lbnQsIHNldHRpbmdzKS5jb2xsZWN0KCdwbGFpbicpLFxuICAgICAgICAgICAgICAgIHVuaXF1ZV9tZXRob2RfbmFtZXNwYWNlID0gbmFtZXNwYWNlICsgJ18nICsgdW5pcXVlX2lkKCksXG5cbiAgICAgICAgICAgICAgICB0aGlzX2xvYWRfaW5zdGFuY2UgPSBuZXcgUmVzb3VyY2VzTG9hZGVyKGNvbGxlY3Rpb24sIHNldHRpbmdzKTtcblxuICAgICAgICAgICAgbWV0aG9kX2NvbGxlY3Rpb24ucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQgOiB1bmlxdWVfbWV0aG9kX25hbWVzcGFjZSxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA6IHRoaXNfbG9hZF9pbnN0YW5jZSxcbiAgICAgICAgICAgICAgICBlbGVtZW50IDogZWxlbWVudCxcbiAgICAgICAgICAgICAgICB0aW1lb3V0IDogbnVsbFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXNfbG9hZF9pbnN0YW5jZS5wcm9ncmVzcyhmdW5jdGlvbiAocmVzb3VyY2UpIHtcblxuICAgICAgICAgICAgICAgICRlbGVtZW50LnRyaWdnZXIobmFtZXNwYWNlX3ByZWZpeCsnUHJvZ3Jlc3MuJytuYW1lc3BhY2VfcHJlZml4LCBbZWxlbWVudCwgcmVzb3VyY2VdKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHRoaXNfYXJndW1lbnRzID0gWyB0aGlzX2xvYWRfaW5zdGFuY2UsIHJlc291cmNlIF07XG5cbiAgICAgICAgICAgICAgICBpZiggJC5pc0Z1bmN0aW9uKHNldHRpbmdzLm9uUHJvZ3Jlc3MpIClcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25Qcm9ncmVzcy5hcHBseShlbGVtZW50LCB0aGlzX2FyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZXZlbnRfbmFtZSA9IGNhcGl0YWxpemUocmVzb3VyY2Uuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICBpZiggJC5pc0Z1bmN0aW9uKHNldHRpbmdzWydvbicrZXZlbnRfbmFtZV0pIClcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NbJ29uJytldmVudF9uYW1lXS5hcHBseShlbGVtZW50LCB0aGlzX2FyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzX2xvYWRfaW5zdGFuY2UuZG9uZShmdW5jdGlvbihyZXNvdXJjZXMpe1xuXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQudHJpZ2dlcihuYW1lc3BhY2VfcHJlZml4ICsgJ0NvbXBsZXRlLicgKyBuYW1lc3BhY2VfcHJlZml4LCBbIGVsZW1lbnQsIHJlc291cmNlcyBdKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShlbGVtZW50LCBbIHRoaXNfbG9hZF9pbnN0YW5jZSwgcmVzb3VyY2VzIF0pO1xuXG4gICAgICAgICAgICAgICAgaWYoIHNldHRpbmdzLnZpc2libGUgKVxuICAgICAgICAgICAgICAgICAgICAkKCAkLm5pdGUgJiYgJ3Njcm9sbCcgaW4gJC5uaXRlID8gJGRvY3VtZW50IDogJHdpbmRvdyApLm9mZignc2Nyb2xsLicgKyB1bmlxdWVfbWV0aG9kX25hbWVzcGFjZSk7XG5cbiAgICAgICAgICAgICAgICAvLyByZWZyZXNoIG90aGVyIG1ldGhvZCBjYWxscyBmb3Igc2FtZSBlbCAob21pdHRpbmcgdGhpcyBvbmUpXG4gICAgICAgICAgICAgICAgbWV0aG9kX2NvbGxlY3Rpb24gPSBtZXRob2RfY29sbGVjdGlvbi5maWx0ZXIoIHggPT4geC5pZCAhPT0gdW5pcXVlX21ldGhvZF9uYW1lc3BhY2UgKTtcbiAgICAgICAgICAgICAgICBmb3IoIGxldCBrZXkgaW4gbWV0aG9kX2NvbGxlY3Rpb24gKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0aGlzX21ldGhvZF9jb2xsZWN0aW9uID0gbWV0aG9kX2NvbGxlY3Rpb25ba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRlbGVtZW50LmlzKHRoaXNfbWV0aG9kX2NvbGxlY3Rpb24uZWxlbWVudCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzX21ldGhvZF9jb2xsZWN0aW9uLmluc3RhbmNlLmxvb3AoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiggc2V0dGluZ3MudmlzaWJsZSApe1xuXG4gICAgICAgICAgICAgICAgaWYoICQubml0ZSAmJiAnc2Nyb2xsJyBpbiAkLm5pdGUgKVxuICAgICAgICAgICAgICAgICAgICAkLm5pdGUuc2Nyb2xsKHVuaXF1ZV9tZXRob2RfbmFtZXNwYWNlLCBmdW5jdGlvbigpeyB0aGlzX2xvYWRfaW5zdGFuY2UubG9vcCgpOyB9LCB7IGZwcyA6IDI1IH0pO1xuXG4gICAgICAgICAgICAgICAgZWxzZXtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aHJvdHRsZV9zY3JvbGxfZXZlbnQgPSBmdW5jdGlvbihmbiwgd2FpdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAoIHRpbWUgKyB3YWl0IC0gRGF0ZS5ub3coKSApIDwgMCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5vbignc2Nyb2xsLicrdW5pcXVlX21ldGhvZF9uYW1lc3BhY2UsIHRocm90dGxlX3Njcm9sbF9ldmVudChmdW5jdGlvbigpeyB0aGlzX2xvYWRfaW5zdGFuY2UubG9vcCgpOyB9LCAxMDAwKSk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIHRydWUgPT09IHNldHRpbmdzLmVhcmx5ICkgZm9yKCBsZXQga2V5IGluIG1ldGhvZF9jb2xsZWN0aW9uIClcbiAgICAgICAgICAgICAgICBpZiggbWV0aG9kX2NvbGxlY3Rpb25ba2V5XS5pZCA9PT0gdW5pcXVlX21ldGhvZF9uYW1lc3BhY2UgKXtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgdGhpc19tZXRob2RfY29sbGVjdGlvbiA9IG1ldGhvZF9jb2xsZWN0aW9uW2tleV07XG5cbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KCB0aGlzX21ldGhvZF9jb2xsZWN0aW9uLnRpbWVvdXQgKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzX21ldGhvZF9jb2xsZWN0aW9uLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvZG8gYXBwcm9wcmlhdGUgbWV0aG9kIGZvciBzZXR0aW5nIHNldHRpbmdzP1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc19tZXRob2RfY29sbGVjdGlvbi5pbnN0YW5jZS5fc2V0dGluZ3MudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc19tZXRob2RfY29sbGVjdGlvbi5pbnN0YW5jZS5fc2V0dGluZ3Muc2VxdWVudGlhbCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfbWV0aG9kX2NvbGxlY3Rpb24uaW5zdGFuY2UubG9vcCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sICQuaXNOdW1lcmljKHNldHRpbmdzLmVhcmx5VGltZW91dCkgPyBwYXJzZUludChzZXR0aW5ncy5lYXJseVRpbWVvdXQpIDogMCApO1xuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxufSkod2luZG93LCBkb2N1bWVudCwgalF1ZXJ5KTsiXX0=
