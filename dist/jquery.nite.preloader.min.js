"use strict";var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(function(a,b,c){"use strict";var d=Math.floor,f="nite",e=f+"Preload",g=e+"er";if(function(a){a.console||(a.console={});for(var b,c,d=a.console,e=function(){},f=["memory"],g=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profiles","profileEnd","show","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"];b=f.pop();)d[b]||(d[b]={});for(;c=g.pop();)d[c]||(d[c]=e)}(a),!c)return console.error("jQuery is needed for "+g+" to work!"),void 0;Array.prototype.findIndex=Array.prototype.findIndex||function(a){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");else if("function"!=typeof a)throw new TypeError("callback must be a function");for(var b=Object(this),c=b.length>>>0,d=arguments[1],e=0;e<c;e++)if(a.call(d,b[e],e,b))return e;return-1},[].filter||(Array.prototype.filter=function(f,a,b,c,d){for(d in b=this,c=[],b)~~d+""==d&&0<=d&&f.call(a,b[d],+d,b)&&c.push(b[d]);return c});var h=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},i=c(b),j=c(a),k=function(){return c.nite&&"uniqueId"in c.nite?c.nite.uniqueId():d(8999*Math.random())+1e3},l=function(a){var b=c(a),d=!1;if(c.nite&&"inViewport"in c.nite)d=c.nite.inViewport(a).ratio;else{var e=a.getBoundingClientRect();d=!(0>e.right||0>e.bottom||e.left>j.width()||e.top>j.height())}return d&&b.is(":visible")&&"hidden"!==b.css("visibility")},m=function(a){if("object"!==("undefined"==typeof a?"undefined":_typeof(a)))return!1;try{return a instanceof HTMLElement}catch(b){return 1===a.nodeType&&"object"===_typeof(a.style)&&"object"===_typeof(a.ownerDocument)}},n=function(a){return m(a)&&"currentSrc"in a&&a.currentSrc.length&&("complete"in a&&a.complete||"readyState"in a&&2<=a.readyState)},o=function(a){return n(a)&&("naturalWidth"in a&&0===d(a.naturalWidth)||"videoWidth"in a&&0===a.videoWidth)},p=function(a,b){var d={image:"jp[e]?g|gif|png|tif[f]?|bmp",audio:"mp3|ogg",video:"mp4|ogv|ogg|webm"},e=Object.keys(d),f={format:null,extension:null};if("string"==typeof a){if(a=a.split("?")[0],a=a.split("#")[0],""===a)return!1;var g=void 0===b?e:[b];for(var h in g)if(g.hasOwnProperty(h)&&new RegExp("(.("+d[g[h]]+")$)|"+";base64,","g").test(a))if(/;base64,/g.test(a)){var i=a.match(new RegExp("^data:"+g[h]+"/("+d[g[h]]+")","g"));if(!i||null===i)continue;i=i[0],f.format=i.replace("data:"+g[h]+"/g","");break}else{var j=a.match(new RegExp(d[g[h]],"g"));if(j){f.format=g[h],f.extension=j[0];break}}}if(m(a)){var k=a.tagName.toLowerCase();-1<c.inArray(k,e)&&(f.format=a.tagName.toLowerCase()),"img"===k&&(f.format="image")}return f},q=function(){function d(a){_classCallCheck(this,d);var b=this;this._settings=c.extend(!0,{srcAttr:"data-src",srcsetAttr:"data-srcset",playthrough:!1,visible:!1},a),this._id=null,this._id_event=null,this._element=null,this._$element=c(),this._resource=null,this._busy=!1,this._format=null,this._callback=c.noop,this._done=function(a){var c=b._element.currentSrc||b._element.src;if(!b._busy){var d=h(a.type);b._$element.trigger(f+d+"."+f,[b._element,c])}b._$element.removeData(g),b._busy=!1,b._callback.call(b,a.type,c,b._id)}}return _createClass(d,[{key:"process",value:function(){var b=this,d=this._settings.srcAttr,e=this._settings.srcAttr.replace("data-","");if(n(this._element))return this._busy||this._$element.off("."+this._id_event),this._done(new Event(o(this._element)?"error":"load")),!1;if(this._settings.visible&&!l(this._element))return!1;if("image"===this._format){this._$element[this._busy?"on":"one"]("load."+this._id_event+" error."+this._id_event,this._done);var f=this._$element.closest("picture"),h=this._settings.srcsetAttr,i=this._settings.srcsetAttr.replace("data-","");f.length&&"HTMLPictureElement"in a?(this._$element.removeData(i).removeAttr(h).removeData(e).removeAttr(d),f.find("source["+h+"]").attr("srcset",f.data(i)).removeData(i).removeAttr(h)):(this._$element.is("["+h+"]")&&this._$element.attr("srcset",this._$element.data(i)).removeData(i).removeAttr(h),this._$element.is("["+d+"]")&&this._$element.attr("src",this._$element.data(e)).removeData(e).removeAttr(d))}else if("video"===this._format||"audio"===this._format){var j=this._$element.find("source"),k=function(a){var b=Math.round;return a.buffered.length&&1==b(a.buffered.end(0))/b(a.seekable.end(0))},m=!1;j.length?j.each(function(){c(this).is("["+d+"]")&&(c(this).attr("src",c(this).data(e)).removeData(e).removeAttr(d),m=!0)})[this._busy?"on":"one"]("error."+this._id_event,function(a){var d=g+"_error";c(this).data(d,!0),j.length===j.filter(function(){return!0===c(this).data(d)}).length&&b._done(a)}):this._$element.is("["+d+"]")&&(this._$element.attr("src",this._$element.data(e)).removeData(e).removeAttr(d)[this._busy?"on":"one"]("error."+this._id_event,b._done),m=!0),m&&this._element.load(),this._$element[this._busy?"on":"one"]("loadedmetadata."+this._id_event,function(){if(!0!==b._settings.playthrough&&"full"!==b._settings.playthrough&&b._done(new Event("load")),"full"===b._settings.playthrough){var a=setInterval(function(){var d=0<b._element.readyState&&!b._element.duration;d||k(b._element)?(b._element.currentTime=0,!d&&!b._busy&&b._element.paused&&c(b._element).is("[autoplay]")&&b._element.play(),clearInterval(a),b._done(new Event(d?"error":"load"))):(!b._element.paused&&b._element.pause(),!b._busy&&(b._element.currentTime+=2))},500);b._$element.data(b._id_event,a)}})[this._busy?"on":"one"]("canplay."+this._id_event,function(){"full"!==b._settings.playthrough||0!==this.currentTime||k(this)||this.currentTime++})[this._busy?"on":"one"]("canplaythrough."+this._id_event,function(){!0===b._settings.playthrough&&b._done(new Event("load"))})}else return!1;return this._busy||this._$element.data(g,this._id_event),this._resource=this._element.currentSrc||this._element.src,!this._busy}},{key:"abort",value:function(){if(this._$element.off("."+this._id_event),!n(this._element)){var a=this._$element.attr("srcset"),b=this._$element.attr("src");void 0!==a&&this._$element.data(this._settings.srcAttr,a).attr(this._settings.srcAttr,a).removeAttr("src").removeAttr("srcset"),void 0!==b&&this._$element.data(this._settings.srcsetAttr,b).attr(this._settings.srcsetAttr,b).removeAttr("src").removeAttr("srcset")}}},{key:"done",value:function(a){c.isFunction(a)&&(this._callback=function(b,c,d){a.call(this,b,c,d)})}},{key:"resource",set:function(a){var d=m(a.resource),e="string"==typeof a.resource;if(d||e){if(this._id=a.id,this._format=p(a.resource).format,e){var f="image"===this._format;this._element=b.createElement(f?"img":this._format),f&&(this._settings.srcsetAttr="data-srcset"),this._settings.srcAttr="data-src",this._resource=a.resource}d&&(this._element=a.resource),this._$element=c(this._element),e&&this._$element.data(this._settings.srcAttr.replace("data-",""),this._resource).data(this._settings.srcsetAttr.replace("data-",""),this._resource).attr(this._settings.srcAttr,this._resource).attr(this._settings.srcsetAttr,this._resource),this._id_event=this._$element.data(g),this._busy=void 0!==this._id_event,this._id_event=this._busy?this._id_event:g+"_unique_"+this._element.tagName+"_"+k()}}}]),d}(),r=function(){function a(b,d){_classCallCheck(this,a);var e=this;if(this._collection=[],this._collection_loaded=[],this._collection_instances=[],this._resources_loaded=[],c.isArray(b)&&("string"==typeof b[0]||m(b[0])))for(var f in b)b.hasOwnProperty(f)&&this._collection.push({id:k(),resource:b[f]});("string"==typeof b||m(b))&&this._collection.push({id:k(),resource:b}),this._settings=c.extend(!0,{srcAttr:"data-src",srcsetAttr:"data-srcset",playthrough:!1,visible:!1},d),this.percentage=0,this._callback=c.noop,this._progress=c.noop,this._abort=!1,this._loaded=0,this._complete=!1,this._busy=!1,this._loop=function a(){return setTimeout(function(){e.loop()},25),a}()}return _createClass(a,[{key:"loop",value:function(){for(var a,b=this,d=this,e=!0===this._settings.sequential,f=function(a){if(b._abort)return"break";var f=b._collection[a].id,g=d._collection_instances.findIndex(function(a){return a.id===f}),h=new q(b._settings);-1===g?(b._collection_instances.push({id:f,instance:h}),g=d._collection_instances.findIndex(function(a){return a.id===f})):b._collection_instances[g].instance=h,h.resource=b._collection[a],h.done(function(a,b,f){if(!d._complete&&!d._abort&&-1===c.inArray(f,d._collection_loaded)){d._collection_loaded.push(f),d._busy=!1,d._loaded++,d.percentage=100*(d._loaded/d._collection.length),d.percentage=parseFloat(d.percentage.toFixed(4));var g={resource:b,status:a};if(d._resources_loaded.push(g),d._progress.call(this,g),e){var h=d._collection_instances.findIndex(function(a){return a.id===f})+1;0<h&&h<d._collection_instances.length&&(h=d._collection_instances[h],h.instance.process())}}d._complete||d._abort||d._loaded!==d._collection.length||(d._callback.call(d,d._resources_loaded),d._complete=!0)}),e&&(!e||b._busy)||(b._busy=h.process())},g=0;g<this._collection.length&&(a=f(g),"break"!==a);g++);}},{key:"done",value:function(a){if(!c.isFunction(a))return!1;var b=function(b){a.call(this,b)};return this._collection.length?(this._callback=b,this._loop()):b(),!0}},{key:"progress",value:function(a){if(!c.isFunction(a))return!1;return!!this._collection.length&&(this._progress=function(b){a.call(this,b)},this._loop(),!0)}},{key:"abort",value:function(){for(var a in this._collection_instances)this._collection_instances[a].instance.abort();this._collection.length&&(this._abort=!0)}}]),a}(),s=function(){function a(b,d){_classCallCheck(this,a),this._$element=b,this._element=b[0],this._settings=c.extend(!0,{srcAttr:"data-src",srcsetAttr:"data-srcset",backgrounds:!1,attributes:[]},d)}return _createClass(a,[{key:"collect",value:function(a){var b=[],d="plain"===a,e=this,f="img, video, audio",g=f+", picture, source",h=this._$element.find(f);if(this._$element.is(f)&&(h=h.add(this._$element)),h=h.filter(function(){var a="["+e._settings.srcAttr+"], ["+e._settings.srcsetAttr+"]";return c(this).is(a)||c(this).children(g).filter(a).length}),h.each(function(){var a={element:this,resource:c(this).attr(e._settings.srcAttr)||c(this).attr(e._settings.srcsetAttr)};d&&(a=a.element),b.push(a)}),!0===this._settings.backgrounds&&this._$element.find("*").addBack().not(g).filter(function(){return"none"!==c(this).css("background-image")}).each(function(){var a={element:this,resource:c(this).css("background-image").replace(/url\("|url\('|url\(|(("')\)$)/igm,"")};d&&(a=a.resource),b.push(a)}),this._settings.attributes.length){var i=function(a){if(this._settings.attributes.hasOwnProperty(a)&&(this._$element.find("["+a+"]:not("+g+")").each(function(){let e={element:this,resource:c(this).attr(a)};d&&(e=e.resource),b.push(e)}),this._$element.is("["+a+"]")&&!this._$element.is(g))){let c={element:this._element,resource:this._$element.attr(a)};d&&(c=c.resource),b.push(c)}};for(const a in this._settings.attributes)i(a)}return b}}]),a}();c[e]=r;var t=[];c.fn[e]=function(a){var b=a;"object"!==("undefined"==typeof a?"undefined":_typeof(a))&&(a={});var d=c.extend(!0,{srcAttr:"data-src",srcsetAttr:"data-srcset",visible:!1,sequential:!1,backgrounds:!1,extraAttrs:[],playthrough:!1,early:!1,earlyTimeout:0,onProgress:c.noop,onLoad:c.noop,onError:c.noop,onComplete:c.noop},a),e=d.onComplete;return c.isFunction(b)&&(e=b),c.isArray(d.attributes)||(d.attributes=[]),"string"==typeof d.attributes&&(d.attributes=d.attributes.split(" ")),this.each(function(){var a=this,b=c(a),l=new s(b,d).collect("plain"),m=g+"_"+k(),n=new r(l,d);if(t.push({id:m,instance:n,element:a,timeout:null}),n.progress(function(e){b.trigger(f+"Progress."+f,[a,e]),c.isFunction(d.onProgress)&&d.onProgress.call(a,n,e);var g=h(e.status);c.isFunction(d["on"+g])&&d["on"+g].call(a,n,e)}),n.done(function(g){for(var h in b.trigger(f+"Complete."+f,[a,g]),e.call(a,n,g),d.visible&&c(c.nite&&"scroll"in c.nite?i:j).off("scroll."+m),t=t.filter(function(a){return a.id!==m}),t){var k=t[h];b.is(k.element)&&k.instance.loop()}}),d.visible)if(c.nite&&"scroll"in c.nite)c.nite.scroll(m,function(){n.loop()},{fps:25});else{var o=function(a,b){var c=Date.now();return function(){0>c+b-Date.now()&&(a(),c=Date.now())}};j.on("scroll."+m,o(function(){n.loop()},1e3))}if(!0===d.early)for(var p in t)if(t[p].id===m){var q=function(){var a=t[p];return clearTimeout(a.timeout),a.timeout=setTimeout(function(){a.instance._settings.visible=!1,a.instance._settings.sequential=!0,a.instance.loop()},c.isNumeric(d.earlyTimeout)?parseInt(d.earlyTimeout):0),"break"}();if("break"===q)break}})}})(window,document,jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5uaXRlLnByZWxvYWRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiMGtCQUFBLENBQ0EsQ0FBQyxBQUFTLEFBQVEsQUFBVSxBQUFHLGVBQVUsQUFDckMsQ0FFQSxtQkErRW9FLEtBQUEsQUFBSyxNQTlFckUsRUFESixBQUN1QixPQUNuQixFQUFtQixFQUZ2QixBQUV3QyxVQUNwQyxFQUFZLEVBSGhCLEFBR2lDLEFBR2pDLEFBQ0EsQUFDQSxRQUFDLEFBQVMsV0FBUSxBQUNkLEFBQUksQ0FBQyxFQUFMLEFBQVksVUFDUixFQUFBLEFBQU8sQUFBVSxBQUNyQixtQkFBQSxBQUNJLEdBREosQUFDVSxFQUROLEVBQU0sRUFBVixBQUFpQixRQUViLEVBQUEsQUFBUSxVQUFXLEFBQUUsQ0FGekIsRUFBQSxBQUdJLEFBQWEsQUFBQyxhQUhsQixBQUlJLEFBQVUsQUFBQyxBQUNQLEFBQ0EsQUFBcUUsQUFBTSxBQUNuRiw4UEFBTyxFQUFPLEVBQWQsQUFBYyxBQUFXLEFBQ3JCLEFBQUksT0FBSixBQUFLLEFBQUksT0FEYixBQUVRLEFBQUksQUFBUSxBQUNwQixjQUFPLEVBQVMsRUFBaEIsQUFBZ0IsQUFBUSxBQUNwQixBQUFJLE9BQUosQUFBSyxBQUFJLE9BRGIsQUFFUSxBQUFJLEFBQVUsQUFDekIsT0FoQkQsQUFnQkcsQUFDSCxBQUdBLEFBQ0EsS0FBQSxBQUFJLEFBQUMsQUFBSSxBQUNMLEdBQ0EsQUFBTyxBQUNWLEFBQ0QsQUFHQSxBQUNBLEFBQ0EsQUFDQSxlQVRJLEFBQVEsTUFBTSxBQUF3QiwwQkFBdEMsQUFBZ0QsQUFDaEQsMEJBUUosQUFBTSxVQUFOLEFBQWdCLFVBQVksTUFBQSxBQUFNLFVBQU4sQUFBZ0IsV0FBYSxBQUFTLFdBQVUsQUFDeEUsSUFBQSxBQUFhLEFBQU0sQUFDZixJQURBLGFBQ00sSUFBQSxBQUFJLFdBRGQsQUFDSSxBQUFNLEFBQWMsQUFDdkIsNkRBQU0sSUFBQSxBQUF3QixBQUFZLEFBQ3ZDLFVBRE8sQUFBTyxnQkFD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a0IsQUFFL0MseUJBQWMsRUFBZCxBQUFxQyxBQUVyQyxXQUFBLEFBQXVCLFFBQVUsV0FBVyxVQUFVLEFBRWxELEFBQ0EsR0FBQSxBQUF1QixTQUF2QixBQUFnQyxVQUFoQyxBQUEwQyxBQUFVLEFBQ3BELGFBQUEsQUFBdUIsU0FBdkIsQUFBZ0MsVUFBaEMsQUFBMEMsQUFBYSxBQUV2RCxnQkFBQSxBQUF1QixTQUF2QixBQUFnQyxBQUVuQyxNQVJnQyxFQVE5QixFQUFBLEFBQUUsVUFBVSxFQUFaLEFBQXFCLGNBQWdCLFNBQVMsRUFBOUMsQUFBcUMsQUFBa0IsY0FSMUQsQUFBaUMsQUFReUMsQUFFMUUsR0FoQnVELE9BQUEsbUJBZ0J2RCxBQUVILEtBbkJ5QixBQXFCakMsQ0EvRkQsQUFBTyxBQWlHVixFQTFJRCxBQTRJSCxDQXI5QkQsR0FBQSxBQXE5QkcsT0FyOUJILEFBcTlCVyxTQXI5QlgsQUFxOUJxQiIsImZpbGUiOiJqcXVlcnkubml0ZS5wcmVsb2FkZXIubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohIEpRdWVyeSBOaXRlIFByZWxvYWRlciB8IERhbmllbGUgRmlvcm9uaSB8IGRmaW9yb25pOTFAZ21haWwuY29tICovXG4oZnVuY3Rpb24od2luZG93LCBkb2N1bWVudCwgJCwgdW5kZWZpbmVkKXtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBjb25zdFxuICAgICAgICBuYW1lc3BhY2VfcHJlZml4ID0gJ25pdGUnLFxuICAgICAgICBuYW1lc3BhY2VfbWV0aG9kID0gbmFtZXNwYWNlX3ByZWZpeCsnUHJlbG9hZCcsXG4gICAgICAgIG5hbWVzcGFjZSA9IG5hbWVzcGFjZV9tZXRob2QrJ2VyJztcblxuXG4gICAgLy8gdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9wYXVsbWlsbHIvY29uc29sZS1wb2x5ZmlsbFxuICAgIC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuICAgIChmdW5jdGlvbihnbG9iYWwpIHtcbiAgICAgICAgaWYgKCFnbG9iYWwuY29uc29sZSlcbiAgICAgICAgICAgIGdsb2JhbC5jb25zb2xlID0ge307XG4gICAgICAgIGxldCBjb24gPSBnbG9iYWwuY29uc29sZSxcbiAgICAgICAgICAgIHByb3AsIG1ldGhvZCxcbiAgICAgICAgICAgIGR1bW15ID0gZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgICAgIHByb3BlcnRpZXMgPSBbJ21lbW9yeSddLFxuICAgICAgICAgICAgbWV0aG9kcyA9ICgnYXNzZXJ0LGNsZWFyLGNvdW50LGRlYnVnLGRpcixkaXJ4bWwsZXJyb3IsZXhjZXB0aW9uLGdyb3VwLCcgK1xuICAgICAgICAgICAgICAgICdncm91cENvbGxhcHNlZCxncm91cEVuZCxpbmZvLGxvZyxtYXJrVGltZWxpbmUscHJvZmlsZSxwcm9maWxlcyxwcm9maWxlRW5kLCcgK1xuICAgICAgICAgICAgICAgICdzaG93LHRhYmxlLHRpbWUsdGltZUVuZCx0aW1lbGluZSx0aW1lbGluZUVuZCx0aW1lU3RhbXAsdHJhY2Usd2FybicpLnNwbGl0KCcsJyk7XG4gICAgICAgIHdoaWxlIChwcm9wID0gcHJvcGVydGllcy5wb3AoKSlcbiAgICAgICAgICAgIGlmICghY29uW3Byb3BdKVxuICAgICAgICAgICAgICAgIGNvbltwcm9wXSA9IHt9O1xuICAgICAgICB3aGlsZSAobWV0aG9kID0gbWV0aG9kcy5wb3AoKSlcbiAgICAgICAgICAgIGlmICghY29uW21ldGhvZF0pXG4gICAgICAgICAgICAgICAgY29uW21ldGhvZF0gPSBkdW1teTtcbiAgICB9KSh3aW5kb3cpO1xuICAgIC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuXG5cbiAgICAvLyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC1cbiAgICBpZiggISQgKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2pRdWVyeSBpcyBuZWVkZWQgZm9yICcrbmFtZXNwYWNlKycgdG8gd29yayEnKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXG5cblxuICAgIC8vIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vanNQb2x5ZmlsbC9BcnJheS5wcm90b3R5cGUuZmluZEluZGV4XG4gICAgLy8gdG9kbyBjaGVjayBlZmZpY2llbmN5IGFuZCByZWxpYWJpbGl0eSBpbiBNUyBJbnRlcm5ldCBFeHBsb3JlclxuICAgIC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuICAgIEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXggPSBBcnJheS5wcm90b3R5cGUuZmluZEluZGV4IHx8IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheS5wcm90b3R5cGUuZmluZEluZGV4IGNhbGxlZCBvbiBudWxsIG9yIHVuZGVmaW5lZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3RcbiAgICAgICAgICAgIGxpc3QgPSBPYmplY3QodGhpcyksXG4gICAgICAgICAgICAvLyBNYWtlcyBzdXJlcyBpcyBhbHdheXMgaGFzIGFuIHBvc2l0aXZlIGludGVnZXIgYXMgbGVuZ3RoLlxuICAgICAgICAgICAgIGxlbmd0aCA9IGxpc3QubGVuZ3RoID4+PiAwLFxuICAgICAgICAgICAgIHRoaXNBcmcgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICggY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBsaXN0W2ldLCBpLCBsaXN0KSApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgICAvLyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC1cblxuXG4gICAgLy8gdGhhbmtzIHRvIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2VsaXBlcmVsbWFuLzEwMzE2NTZcbiAgICAvLyB0b2RvIGNoZWNrIGVmZmljaWVuY3kgYW5kIHJlbGlhYmlsaXR5IGluIE1TIEludGVybmV0IEV4cGxvcmVyXG4gICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXG4gICAgW10uZmlsdGVyfHwoQXJyYXkucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbihhLGIsYyxkLGUpe2M9dGhpcztkPVtdO2ZvcihlIGluIGMpfn5lKycnPT1lJiZlPj0wJiZhLmNhbGwoYixjW2VdLCtlLGMpJiZkLnB1c2goY1tlXSk7cmV0dXJuIGR9KVxuICAgIC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuXG5cblxuICAgIGNvbnN0XG5cbiAgICAgICAgY2FwaXRhbGl6ZSA9IGZ1bmN0aW9uKHN0cmluZyl7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xuICAgICAgICB9LFxuXG4gICAgICAgICRkb2N1bWVudCA9ICQoZG9jdW1lbnQpLFxuICAgICAgICAkd2luZG93ID0gJCh3aW5kb3cpLFxuXG4gICAgICAgIHVuaXF1ZV9pZCA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgIHJldHVybiAkLm5pdGUgJiYgJ3VuaXF1ZUlkJyBpbiAkLm5pdGUgPyAkLm5pdGUudW5pcXVlSWQoKSA6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICg5OTk5IC0gMTAwMCkpICsgMTAwMDtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGlzX3Zpc2libGUgPSBmdW5jdGlvbihlbGVtZW50KXtcblxuICAgICAgICAgICAgY29uc3QgJGVsID0gJChlbGVtZW50KTtcblxuICAgICAgICAgICAgbGV0IGluX3ZpZXdwb3J0ID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmKCAkLm5pdGUgJiYgJ2luVmlld3BvcnQnIGluICQubml0ZSApXG4gICAgICAgICAgICAgICAgaW5fdmlld3BvcnQgPSAkLm5pdGUuaW5WaWV3cG9ydChlbGVtZW50KS5yYXRpbztcblxuICAgICAgICAgICAgZWxzZXtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICAgICAgaW5fdmlld3BvcnQgPSAhKCByZWN0LnJpZ2h0IDwgMCB8fCByZWN0LmJvdHRvbSA8IDAgfHwgcmVjdC5sZWZ0ID4gJHdpbmRvdy53aWR0aCgpIHx8IHJlY3QudG9wID4gJHdpbmRvdy5oZWlnaHQoKSApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBpbl92aWV3cG9ydCAmJiAkZWwuaXMoJzp2aXNpYmxlJykgJiYgJGVsLmNzcygndmlzaWJpbGl0eScpICE9PSAnaGlkZGVuJztcblxuICAgICAgICB9LFxuXG4gICAgICAgIGlzX2h0bWxfb2JqZWN0ID0gZnVuY3Rpb24oIG9iamVjdCApe1xuXG4gICAgICAgICAgICBpZiggdHlwZW9mIG9iamVjdCAhPT0gJ29iamVjdCcgKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaChlKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0Lm5vZGVUeXBlID09PSAxICYmIHR5cGVvZiBvYmplY3Quc3R5bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmplY3Qub3duZXJEb2N1bWVudCA9PT0gJ29iamVjdCc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBpc19sb2FkZWQgPSBmdW5jdGlvbihlbGVtZW50KXtcblxuICAgICAgICAgICAgcmV0dXJuIGlzX2h0bWxfb2JqZWN0KGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgJiYgKCAnY3VycmVudFNyYycgaW4gZWxlbWVudCAmJiBlbGVtZW50LmN1cnJlbnRTcmMubGVuZ3RoIClcbiAgICAgICAgICAgICAgICAmJiAoICggJ2NvbXBsZXRlJyBpbiBlbGVtZW50ICYmIGVsZW1lbnQuY29tcGxldGUgKSB8fCAoICdyZWFkeVN0YXRlJyBpbiBlbGVtZW50ICYmIGVsZW1lbnQucmVhZHlTdGF0ZSA+PSAyICkgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGlzX2Jyb2tlbiA9IGZ1bmN0aW9uKGVsZW1lbnQpe1xuXG4gICAgICAgICAgICByZXR1cm4gaXNfbG9hZGVkKGVsZW1lbnQpICYmIChcbiAgICAgICAgICAgICAgICAgICAgKCAnbmF0dXJhbFdpZHRoJyBpbiBlbGVtZW50ICYmIE1hdGguZmxvb3IoZWxlbWVudC5uYXR1cmFsV2lkdGgpID09PSAwIClcbiAgICAgICAgICAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICAgICAgKCAndmlkZW9XaWR0aCcgaW4gZWxlbWVudCAmJiBlbGVtZW50LnZpZGVvV2lkdGggPT09IDAgKVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIGlzX2Zvcm1hdCA9IGZ1bmN0aW9uKCBpdGVtLCBleHBlY3RlZF9mb3JtYXQgKXtcblxuICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICBmb3JtYXRfZXh0ZW5zaW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2UgOiAnanBbZV0/Z3xnaWZ8cG5nfHRpZltmXT98Ym1wJyxcbiAgICAgICAgICAgICAgICAgICAgYXVkaW8gOiAnbXAzfG9nZycsXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvIDogJ21wNHxvZ3Z8b2dnfHdlYm0nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmb3JtYXRfbmFtZXMgPSBPYmplY3Qua2V5cyhmb3JtYXRfZXh0ZW5zaW9ucyksXG4gICAgICAgICAgICAgICAgYmFzZTY0X2hlYWRpbmcgPSAnXFw7YmFzZTY0XFwsJztcblxuICAgICAgICAgICAgbGV0IG91dHB1dCA9IHsgZm9ybWF0OiBudWxsLCBleHRlbnNpb246IG51bGwgfTtcblxuICAgICAgICAgICAgaWYoIHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJyApIHtcblxuICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnNwbGl0KCc/JylbMF07IC8vIGdldCByaWQgb2YgcXVlcnkgc3RyaW5nc1xuICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnNwbGl0KCcjJylbMF07IC8vIGdldCByaWQgb2YgaGFzaGVzXG5cbiAgICAgICAgICAgICAgICBpZiAoaXRlbSA9PT0gJycpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGxldCBmb3JtYXRfcXVldWUgPSB1bmRlZmluZWQgIT09IGV4cGVjdGVkX2Zvcm1hdCA/IFsgZXhwZWN0ZWRfZm9ybWF0IF0gOiBmb3JtYXRfbmFtZXM7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHggaW4gZm9ybWF0X3F1ZXVlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1hdF9xdWV1ZS5oYXNPd25Qcm9wZXJ0eSh4KSl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKCcoXFwuKCcgKyBmb3JtYXRfZXh0ZW5zaW9uc1tmb3JtYXRfcXVldWVbeF1dICsgJykkKXwnICsgYmFzZTY0X2hlYWRpbmcsICdnJykudGVzdChpdGVtKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAoYmFzZTY0X2hlYWRpbmcsICdnJykudGVzdChpdGVtKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaGVzNjQgPSBpdGVtLm1hdGNoKG5ldyBSZWdFeHAoJ15kYXRhOicgKyBmb3JtYXRfcXVldWVbeF0gKyAnXFwvKCcgKyBmb3JtYXRfZXh0ZW5zaW9uc1tmb3JtYXRfcXVldWVbeF1dICsgJyknLCAnZycpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFtYXRjaGVzNjQgfHwgbnVsbCA9PT0gbWF0Y2hlczY0IClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXM2NCA9IG1hdGNoZXM2NFswXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQuZm9ybWF0ID0gbWF0Y2hlczY0LnJlcGxhY2UoJ2RhdGE6JyArIGZvcm1hdF9xdWV1ZVt4XSArICcvZycsICcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoZXMgPSBpdGVtLm1hdGNoKG5ldyBSZWdFeHAoZm9ybWF0X2V4dGVuc2lvbnNbZm9ybWF0X3F1ZXVlW3hdXSwgJ2cnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmZvcm1hdCA9IGZvcm1hdF9xdWV1ZVt4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5leHRlbnNpb24gPSBtYXRjaGVzWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIGlzX2h0bWxfb2JqZWN0KGl0ZW0pICl7XG5cbiAgICAgICAgICAgICAgICBsZXQgdGFnX25hbWUgPSBpdGVtLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiggJC5pbkFycmF5KHRhZ19uYW1lLCBmb3JtYXRfbmFtZXMpID4gLTEgKVxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQuZm9ybWF0ID0gaXRlbS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiggdGFnX25hbWUgPT09ICdpbWcnIClcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmZvcm1hdCA9ICdpbWFnZSc7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICBcbiAgICAgICAgfTtcblxuICAgIGNsYXNzIFJlc291cmNlTG9hZGVyIHtcblxuICAgICAgICBjb25zdHJ1Y3RvcihvcHRpb25zKXtcblxuICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIC8vIHRvZG8gbWFrZSBfdmFycyByZWFsbHkgcHJpdmF0ZVxuICAgICAgICAgICAgLy8gdG9kbyBtYWtlIHVzZWZ1bCB2YXJzIHNpbmNlIHRoaXMgY2xhc3MgaXMgbm90IHB1YmxpYyBidXQgaXMgcmV0dXJuZWQgaW4gLnByb2dyZXNzKCkgY2FsbGJhY2tcbiAgICAgICAgICAgIHRoaXMuX3NldHRpbmdzICA9ICQuZXh0ZW5kKHRydWUsIHtcbiAgICAgICAgICAgICAgICBzcmNBdHRyICAgICA6ICdkYXRhLXNyYycsXG4gICAgICAgICAgICAgICAgc3Jjc2V0QXR0ciAgOiAnZGF0YS1zcmNzZXQnLFxuICAgICAgICAgICAgICAgIHBsYXl0aHJvdWdoIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmlzaWJsZSAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICB0aGlzLl9pZCAgICAgICAgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5faWRfZXZlbnQgID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudCAgID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50ICA9ICQoKTtcblxuICAgICAgICAgICAgdGhpcy5fcmVzb3VyY2UgID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2J1c3kgICAgICA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLl9mb3JtYXQgICAgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFjayAgPSAkLm5vb3A7XG4gICAgICAgICAgICB0aGlzLl9kb25lICAgICAgPSBmdW5jdGlvbihlKXtcblxuICAgICAgICAgICAgICAgIGxldCByZXNvdXJjZSA9IHNlbGYuX2VsZW1lbnQuY3VycmVudFNyYyB8fCBzZWxmLl9lbGVtZW50LnNyYztcblxuICAgICAgICAgICAgICAgIGlmKCAhc2VsZi5fYnVzeSApIHsgLy8gdG9kbyBpdCBzaG91bGQgZW50ZXIgaGVyZSBvbmx5IG9uY2VcblxuICAgICAgICAgICAgICAgICAgICBsZXQgZXZlbnRfbmFtZSA9IGNhcGl0YWxpemUoZS50eXBlKTtcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLl8kZWxlbWVudC50cmlnZ2VyKG5hbWVzcGFjZV9wcmVmaXggKyBldmVudF9uYW1lICsgJy4nICsgbmFtZXNwYWNlX3ByZWZpeCwgWyBzZWxmLl9lbGVtZW50LCByZXNvdXJjZSBdKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNlbGYuXyRlbGVtZW50LnJlbW92ZURhdGEobmFtZXNwYWNlKTtcblxuICAgICAgICAgICAgICAgIHNlbGYuX2J1c3kgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHNlbGYuX2NhbGxiYWNrLmNhbGwoc2VsZiwgZS50eXBlLCByZXNvdXJjZSwgc2VsZi5faWQpO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH1cblxuICAgICAgICBzZXQgcmVzb3VyY2UoIGRhdGEgKXtcblxuICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICBlbGVtZW50X3Jlc291cmNlID0gaXNfaHRtbF9vYmplY3QoZGF0YS5yZXNvdXJjZSksXG4gICAgICAgICAgICAgICAgc3RyaW5nX3Jlc291cmNlID0gdHlwZW9mIGRhdGEucmVzb3VyY2UgPT09ICdzdHJpbmcnO1xuXG4gICAgICAgICAgICBpZiggIWVsZW1lbnRfcmVzb3VyY2UgJiYgIXN0cmluZ19yZXNvdXJjZSApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICB0aGlzLl9pZCA9IGRhdGEuaWQ7XG4gICAgICAgICAgICB0aGlzLl9mb3JtYXQgPSBpc19mb3JtYXQoZGF0YS5yZXNvdXJjZSkuZm9ybWF0O1xuXG4gICAgICAgICAgICBpZiggc3RyaW5nX3Jlc291cmNlICl7XG5cbiAgICAgICAgICAgICAgICBsZXQgaXNfaW1nID0gdGhpcy5fZm9ybWF0ID09PSAnaW1hZ2UnO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXNfaW1nID8gJ2ltZycgOiB0aGlzLl9mb3JtYXQpO1xuXG4gICAgICAgICAgICAgICAgaWYoIGlzX2ltZyApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldHRpbmdzLnNyY3NldEF0dHIgPSAnZGF0YS1zcmNzZXQnO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldHRpbmdzLnNyY0F0dHIgPSAnZGF0YS1zcmMnO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzb3VyY2UgPSBkYXRhLnJlc291cmNlO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCBlbGVtZW50X3Jlc291cmNlIClcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gZGF0YS5yZXNvdXJjZTtcblxuICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnQgPSAkKHRoaXMuX2VsZW1lbnQpO1xuXG4gICAgICAgICAgICBpZiggc3RyaW5nX3Jlc291cmNlICl7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAuZGF0YSh0aGlzLl9zZXR0aW5ncy5zcmNBdHRyLnJlcGxhY2UoJ2RhdGEtJywgJycpLCB0aGlzLl9yZXNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEodGhpcy5fc2V0dGluZ3Muc3Jjc2V0QXR0ci5yZXBsYWNlKCdkYXRhLScsICcnKSwgdGhpcy5fcmVzb3VyY2UpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKHRoaXMuX3NldHRpbmdzLnNyY0F0dHIsIHRoaXMuX3Jlc291cmNlKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cih0aGlzLl9zZXR0aW5ncy5zcmNzZXRBdHRyLCB0aGlzLl9yZXNvdXJjZSk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5faWRfZXZlbnQgPSB0aGlzLl8kZWxlbWVudC5kYXRhKG5hbWVzcGFjZSk7XG4gICAgICAgICAgICB0aGlzLl9idXN5ID0gdGhpcy5faWRfZXZlbnQgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuX2lkX2V2ZW50ID0gdGhpcy5fYnVzeSA/IHRoaXMuX2lkX2V2ZW50IDogbmFtZXNwYWNlICsgJ191bmlxdWVfJyArIHRoaXMuX2VsZW1lbnQudGFnTmFtZSArICdfJysgdW5pcXVlX2lkKCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gc2UgaGEgcHJlc28gaW4gY2FyaWNvIGlsIGNhcmljYW1lbnRvIG9wcHVyZSBubyBwZXIgdmFyaSBtb3RpdmkgKMOoIGdpw6AgY2FyaWNhdG8sIG5vbiDDqCBuZWxsYSB2aWV3cG9ydCBldGMpXG4gICAgICAgICAqL1xuICAgICAgICBwcm9jZXNzKCl7XG5cbiAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICAgICAgc3JjID0gdGhpcy5fc2V0dGluZ3Muc3JjQXR0cixcbiAgICAgICAgICAgICAgICBzcmNfY2xlYW4gPSB0aGlzLl9zZXR0aW5ncy5zcmNBdHRyLnJlcGxhY2UoJ2RhdGEtJywgJycpO1xuXG4gICAgICAgICAgICBpZiAoIGlzX2xvYWRlZCh0aGlzLl9lbGVtZW50KSApIHtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fYnVzeSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnQub2ZmKCcuJyArIHRoaXMuX2lkX2V2ZW50KTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2RvbmUobmV3IEV2ZW50KCFpc19icm9rZW4odGhpcy5fZWxlbWVudCkgPyAnbG9hZCcgOiAnZXJyb3InKSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIH1lbHNlIGlmKCB0aGlzLl9zZXR0aW5ncy52aXNpYmxlICYmICFpc192aXNpYmxlKHRoaXMuX2VsZW1lbnQpICl7IC8vIHRvZG8gY2hlY2sgaWYgc3RhcnRzIHNjcm9sbGluZyBmcm9tIHRoZSBib3R0b20gb2YgdGhlIHBhZ2VcblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgfWVsc2V7XG5cbiAgICAgICAgICAgICAgICBpZiggdGhpcy5fZm9ybWF0ID09PSAnaW1hZ2UnICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50W3RoaXMuX2J1c3kgPyAnb24nIDogJ29uZSddKCdsb2FkLicgKyB0aGlzLl9pZF9ldmVudCArICcgZXJyb3IuJyArIHRoaXMuX2lkX2V2ZW50LCB0aGlzLl9kb25lKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgICAgICAgICAgJHBpY3R1cmUgPSB0aGlzLl8kZWxlbWVudC5jbG9zZXN0KCdwaWN0dXJlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzcmNzZXQgPSB0aGlzLl9zZXR0aW5ncy5zcmNzZXRBdHRyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3Jjc2V0X2NsZWFuID0gdGhpcy5fc2V0dGluZ3Muc3Jjc2V0QXR0ci5yZXBsYWNlKCdkYXRhLScsICcnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJHBpY3R1cmUubGVuZ3RoICYmICdIVE1MUGljdHVyZUVsZW1lbnQnIGluIHdpbmRvdyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlRGF0YShzcmNzZXRfY2xlYW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoc3Jjc2V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVEYXRhKHNyY19jbGVhbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cihzcmMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkcGljdHVyZS5maW5kKCdzb3VyY2VbJyArIHNyY3NldCArICddJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Jjc2V0JywgJHBpY3R1cmUuZGF0YShzcmNzZXRfY2xlYW4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVEYXRhKHNyY3NldF9jbGVhbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cihzcmNzZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl8kZWxlbWVudC5pcygnWycgKyBzcmNzZXQgKyAnXScpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzcmNzZXQnLCB0aGlzLl8kZWxlbWVudC5kYXRhKHNyY3NldF9jbGVhbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVEYXRhKHNyY3NldF9jbGVhbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoc3Jjc2V0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuXyRlbGVtZW50LmlzKCdbJyArIHNyYyArICddJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3NyYycsIHRoaXMuXyRlbGVtZW50LmRhdGEoc3JjX2NsZWFuKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZURhdGEoc3JjX2NsZWFuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cihzcmMpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKCB0aGlzLl9mb3JtYXQgPT09ICd2aWRlbycgfHwgdGhpcy5fZm9ybWF0ID09PSAnYXVkaW8nICl7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICRzb3VyY2VzID0gdGhpcy5fJGVsZW1lbnQuZmluZCgnc291cmNlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19mdWxseV9idWZmZXJlZCA9IGZ1bmN0aW9uKG1lZGlhKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZWRpYS5idWZmZXJlZC5sZW5ndGggJiYgTWF0aC5yb3VuZChtZWRpYS5idWZmZXJlZC5lbmQoMCkpIC8gTWF0aC5yb3VuZChtZWRpYS5zZWVrYWJsZS5lbmQoMCkpID09PSAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBjYWxsX21lZGlhX2xvYWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggJHNvdXJjZXMubGVuZ3RoICl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICRzb3VyY2VzLmVhY2goZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICQodGhpcykuaXMoJ1snICsgc3JjICsgJ10nKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3JjJywgJCh0aGlzKS5kYXRhKHNyY19jbGVhbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlRGF0YShzcmNfY2xlYW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cihzcmMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxfbWVkaWFfbG9hZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICBbdGhpcy5fYnVzeSA/ICdvbicgOiAnb25lJ10oJ2Vycm9yLicgKyB0aGlzLl9pZF9ldmVudCwgZnVuY3Rpb24oZSl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VzX2Vycm9yX2lkID0gbmFtZXNwYWNlKydfZXJyb3InO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5kYXRhKHNvdXJjZXNfZXJyb3JfaWQsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICRzb3VyY2VzLmxlbmd0aCA9PT0gJHNvdXJjZXMuZmlsdGVyKGZ1bmN0aW9uKCl7IHJldHVybiB0cnVlID09PSAkKHRoaXMpLmRhdGEoc291cmNlc19lcnJvcl9pZCk7IH0pLmxlbmd0aCApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2RvbmUoZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fJGVsZW1lbnQuaXMoJ1snICsgc3JjICsgJ10nKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3NyYycsIHRoaXMuXyRlbGVtZW50LmRhdGEoc3JjX2NsZWFuKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZURhdGEoc3JjX2NsZWFuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cihzcmMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLl9idXN5ID8gJ29uJyA6ICdvbmUnXSgnZXJyb3IuJyArIHRoaXMuX2lkX2V2ZW50LCBzZWxmLl9kb25lKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxfbWVkaWFfbG9hZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGNhbGxfbWVkaWFfbG9hZCApXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmxvYWQoKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMuX2J1c3kgPyAnb24nIDogJ29uZSddKCdsb2FkZWRtZXRhZGF0YS4nICsgdGhpcy5faWRfZXZlbnQsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdHJ1ZSAhPT0gc2VsZi5fc2V0dGluZ3MucGxheXRocm91Z2ggJiYgJ2Z1bGwnICE9PSBzZWxmLl9zZXR0aW5ncy5wbGF5dGhyb3VnaCApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2RvbmUobmV3IEV2ZW50KCdsb2FkJykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICdmdWxsJyA9PT0gc2VsZi5fc2V0dGluZ3MucGxheXRocm91Z2ggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9uX3Byb2dyZXNzX3JlcGxhY2VtZW50X2ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzX2Vycm9yID0gc2VsZi5fZWxlbWVudC5yZWFkeVN0YXRlID4gMCAmJiAhc2VsZi5fZWxlbWVudC5kdXJhdGlvbjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGlzX2Vycm9yIHx8IGlzX2Z1bGx5X2J1ZmZlcmVkKHNlbGYuX2VsZW1lbnQpICl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9lbGVtZW50LmN1cnJlbnRUaW1lID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhaXNfZXJyb3IgJiYgIXNlbGYuX2J1c3kgJiYgc2VsZi5fZWxlbWVudC5wYXVzZWQgJiYgJChzZWxmLl9lbGVtZW50KS5pcygnW2F1dG9wbGF5XScpIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fZWxlbWVudC5wbGF5KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKG9uX3Byb2dyZXNzX3JlcGxhY2VtZW50X2ludGVydmFsKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2RvbmUobmV3IEV2ZW50KCAhaXNfZXJyb3IgPyAnbG9hZCcgOiAnZXJyb3InICkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICFzZWxmLl9lbGVtZW50LnBhdXNlZCApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2VsZW1lbnQucGF1c2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhc2VsZi5fYnVzeSApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2VsZW1lbnQuY3VycmVudFRpbWUgKz0gMjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fJGVsZW1lbnQuZGF0YShzZWxmLl9pZF9ldmVudCwgb25fcHJvZ3Jlc3NfcmVwbGFjZW1lbnRfaW50ZXJ2YWwpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMuX2J1c3kgPyAnb24nIDogJ29uZSddKCdjYW5wbGF5LicgKyB0aGlzLl9pZF9ldmVudCwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdmdWxsJyA9PT0gc2VsZi5fc2V0dGluZ3MucGxheXRocm91Z2ggJiYgdGhpcy5jdXJyZW50VGltZSA9PT0gMCAmJiAhaXNfZnVsbHlfYnVmZmVyZWQodGhpcykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFRpbWUrKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLl9idXN5ID8gJ29uJyA6ICdvbmUnXSgnY2FucGxheXRocm91Z2guJyArIHRoaXMuX2lkX2V2ZW50LCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJ1ZSA9PT0gc2VsZi5fc2V0dGluZ3MucGxheXRocm91Z2gpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2RvbmUobmV3IEV2ZW50KCdsb2FkJykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH1lbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoICF0aGlzLl9idXN5IClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnQuZGF0YShuYW1lc3BhY2UsIHRoaXMuX2lkX2V2ZW50KTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9yZXNvdXJjZSA9IHRoaXMuX2VsZW1lbnQuY3VycmVudFNyYyB8fCB0aGlzLl9lbGVtZW50LnNyYztcblxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLl9idXN5O1xuXG4gICAgICAgIH1cblxuICAgICAgICBhYm9ydCgpe1xuXG4gICAgICAgICAgICB0aGlzLl8kZWxlbWVudFxuICAgICAgICAgICAgICAgIC5vZmYoJy4nICsgdGhpcy5faWRfZXZlbnQpO1xuXG4gICAgICAgICAgICBpZiggaXNfbG9hZGVkKHRoaXMuX2VsZW1lbnQpIClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgc3JjID0gdGhpcy5fJGVsZW1lbnQuYXR0cignc3Jjc2V0JyksXG4gICAgICAgICAgICAgICAgc3Jjc2V0ID0gdGhpcy5fJGVsZW1lbnQuYXR0cignc3JjJyk7XG5cbiAgICAgICAgICAgIGlmKCB1bmRlZmluZWQgIT09IHNyYyApXG4gICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEodGhpcy5fc2V0dGluZ3Muc3JjQXR0ciwgc3JjKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cih0aGlzLl9zZXR0aW5ncy5zcmNBdHRyLCBzcmMpXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdzcmMnKS5yZW1vdmVBdHRyKCdzcmNzZXQnKTtcblxuICAgICAgICAgICAgaWYoIHVuZGVmaW5lZCAhPT0gc3Jjc2V0IClcbiAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAuZGF0YSh0aGlzLl9zZXR0aW5ncy5zcmNzZXRBdHRyLCBzcmNzZXQpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKHRoaXMuX3NldHRpbmdzLnNyY3NldEF0dHIsIHNyY3NldClcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ3NyYycpLnJlbW92ZUF0dHIoJ3NyY3NldCcpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBkb25lKGNhbGxiYWNrKXtcblxuICAgICAgICAgICAgaWYoICEkLmlzRnVuY3Rpb24oY2FsbGJhY2spIClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrID0gZnVuY3Rpb24oc3RhdHVzLCByZXNvdXJjZSwgaWQpe1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgc3RhdHVzLCByZXNvdXJjZSwgaWQpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICB9O1xuXG4gICAgfVxuICAgIFxuICAgIGNsYXNzIFJlc291cmNlc0xvYWRlciB7XG5cbiAgICAgICAgY29uc3RydWN0b3IoY29sbGVjdGlvbiwgb3B0aW9ucykge1xuXG4gICAgICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgLy8gdG9kbyBtYWtlIF92YXJzIHJlYWxseSBwcml2YXRlXG4gICAgICAgICAgICB0aGlzLl9jb2xsZWN0aW9uID0gW107XG4gICAgICAgICAgICB0aGlzLl9jb2xsZWN0aW9uX2xvYWRlZCA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbl9pbnN0YW5jZXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc291cmNlc19sb2FkZWQgPSBbXTtcblxuICAgICAgICAgICAgaWYgKCQuaXNBcnJheShjb2xsZWN0aW9uKSAmJiAoIHR5cGVvZiBjb2xsZWN0aW9uWzBdID09PSAnc3RyaW5nJyB8fCBpc19odG1sX29iamVjdChjb2xsZWN0aW9uWzBdKSApKVxuICAgICAgICAgICAgICAgIGZvciAoIGNvbnN0IHJlc291cmNlIGluIGNvbGxlY3Rpb24gKVxuICAgICAgICAgICAgICAgICAgICBpZiggY29sbGVjdGlvbi5oYXNPd25Qcm9wZXJ0eShyZXNvdXJjZSkgKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbi5wdXNoKHsgaWQgOiB1bmlxdWVfaWQoKSwgcmVzb3VyY2UgOiBjb2xsZWN0aW9uW3Jlc291cmNlXSB9KTtcbiAgICAgICAgICAgIGlmICggdHlwZW9mIGNvbGxlY3Rpb24gPT09ICdzdHJpbmcnIHx8IGlzX2h0bWxfb2JqZWN0KGNvbGxlY3Rpb24pIClcbiAgICAgICAgICAgICAgICB0aGlzLl9jb2xsZWN0aW9uLnB1c2goeyBpZCA6IHVuaXF1ZV9pZCgpLCByZXNvdXJjZSA6IGNvbGxlY3Rpb24gfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldHRpbmdzID0gJC5leHRlbmQodHJ1ZSwge1xuICAgICAgICAgICAgICAgIHNyY0F0dHIgICAgIDogJ2RhdGEtc3JjJyxcbiAgICAgICAgICAgICAgICBzcmNzZXRBdHRyICA6ICdkYXRhLXNyY3NldCcsXG4gICAgICAgICAgICAgICAgcGxheXRocm91Z2ggOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2aXNpYmxlICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHRoaXMucGVyY2VudGFnZSA9IDA7XG5cbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrID0gJC5ub29wO1xuICAgICAgICAgICAgdGhpcy5fcHJvZ3Jlc3MgPSAkLm5vb3A7XG5cbiAgICAgICAgICAgIHRoaXMuX2Fib3J0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZWQgPSAwO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2J1c3kgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5fbG9vcCA9IChmdW5jdGlvbiBhc3luY19sb29wKCkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyAvLyBmb3JjZSBhc3luY2hyb255IChnaXZlcyB0aW1lIHRvIGNoYWluIG1ldGhvZHMgc3luY2hyb25vdXNseSlcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvb3AoKTtcblxuICAgICAgICAgICAgICAgIH0sIDI1KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBhc3luY19sb29wO1xuXG4gICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBsb29wKCl7XG5cbiAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICAgICAgc2VxdWVudGlhbF9tb2RlID0gdHJ1ZSA9PT0gdGhpcy5fc2V0dGluZ3Muc2VxdWVudGlhbDtcblxuICAgICAgICAgICAgZm9yKCBsZXQgaSA9IDA7IGkgPCB0aGlzLl9jb2xsZWN0aW9uLmxlbmd0aDsgaSsrICl7XG5cbiAgICAgICAgICAgICAgICBpZiggdGhpcy5fYWJvcnQgKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGxldCB0aGlzX2xvYWRfaWQgPSB0aGlzLl9jb2xsZWN0aW9uW2ldLmlkLFxuICAgICAgICAgICAgICAgICAgICB0aGlzX2xvYWRfaW5kZXggPSBzZWxmLl9jb2xsZWN0aW9uX2luc3RhbmNlcy5maW5kSW5kZXgoIHggPT4geC5pZCA9PT0gdGhpc19sb2FkX2lkICksXG4gICAgICAgICAgICAgICAgICAgIHRoaXNfbG9hZF9pbnN0YW5jZSA9IG5ldyBSZXNvdXJjZUxvYWRlcih0aGlzLl9zZXR0aW5ncyk7XG5cbiAgICAgICAgICAgICAgICBpZiggdGhpc19sb2FkX2luZGV4ID09PSAtMSApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbl9pbnN0YW5jZXMucHVzaCh7aWQ6IHRoaXNfbG9hZF9pZCwgaW5zdGFuY2U6IHRoaXNfbG9hZF9pbnN0YW5jZX0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzX2xvYWRfaW5kZXggPSBzZWxmLl9jb2xsZWN0aW9uX2luc3RhbmNlcy5maW5kSW5kZXgoIHggPT4geC5pZCA9PT0gdGhpc19sb2FkX2lkICk7XG4gICAgICAgICAgICAgICAgfWVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbl9pbnN0YW5jZXNbdGhpc19sb2FkX2luZGV4XS5pbnN0YW5jZSA9IHRoaXNfbG9hZF9pbnN0YW5jZTtcblxuICAgICAgICAgICAgICAgIHRoaXNfbG9hZF9pbnN0YW5jZS5yZXNvdXJjZSA9IHRoaXMuX2NvbGxlY3Rpb25baV07XG5cbiAgICAgICAgICAgICAgICB0aGlzX2xvYWRfaW5zdGFuY2UuZG9uZShmdW5jdGlvbihzdGF0dXMsIHJlc291cmNlLCBpZCl7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoICFzZWxmLl9jb21wbGV0ZSAmJiAhc2VsZi5fYWJvcnQgJiYgJC5pbkFycmF5KGlkLCBzZWxmLl9jb2xsZWN0aW9uX2xvYWRlZCkgPT09IC0xICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9jb2xsZWN0aW9uX2xvYWRlZC5wdXNoKGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2J1c3kgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fbG9hZGVkKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBlcmNlbnRhZ2UgPSBzZWxmLl9sb2FkZWQgLyBzZWxmLl9jb2xsZWN0aW9uLmxlbmd0aCAqIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGVyY2VudGFnZSA9IHBhcnNlRmxvYXQoc2VsZi5wZXJjZW50YWdlLnRvRml4ZWQoNCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGhpc19yZXNvdXJjZSA9IHsgcmVzb3VyY2UgOiByZXNvdXJjZSwgc3RhdHVzIDogc3RhdHVzIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9yZXNvdXJjZXNfbG9hZGVkLnB1c2godGhpc19yZXNvdXJjZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3Byb2dyZXNzLmNhbGwodGhpcywgdGhpc19yZXNvdXJjZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBzZXF1ZW50aWFsX21vZGUgKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXh0X2xvYWRfaW5zdGFuY2UgPSBzZWxmLl9jb2xsZWN0aW9uX2luc3RhbmNlcy5maW5kSW5kZXgoIHggPT4geC5pZCA9PT0gaWQgKSArIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggbmV4dF9sb2FkX2luc3RhbmNlID4gMCAmJiBuZXh0X2xvYWRfaW5zdGFuY2UgPCBzZWxmLl9jb2xsZWN0aW9uX2luc3RhbmNlcy5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dF9sb2FkX2luc3RhbmNlID0gc2VsZi5fY29sbGVjdGlvbl9pbnN0YW5jZXNbIG5leHRfbG9hZF9pbnN0YW5jZSBdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRfbG9hZF9pbnN0YW5jZS5pbnN0YW5jZS5wcm9jZXNzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoICFzZWxmLl9jb21wbGV0ZSAmJiAhc2VsZi5fYWJvcnQgJiYgc2VsZi5fbG9hZGVkID09PSBzZWxmLl9jb2xsZWN0aW9uLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fY2FsbGJhY2suY2FsbChzZWxmLCBzZWxmLl9yZXNvdXJjZXNfbG9hZGVkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fY29tcGxldGUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYoICFzZXF1ZW50aWFsX21vZGUgfHwgKCBzZXF1ZW50aWFsX21vZGUgJiYgIXRoaXMuX2J1c3kgKSApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1c3kgPSB0aGlzX2xvYWRfaW5zdGFuY2UucHJvY2VzcygpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvZG8gc3VjY2VzcyhjYWxsYmFjayl7fVxuXG4gICAgICAgIC8vIHRvZG8gZXJyb3IoY2FsbGJhY2spe31cblxuICAgICAgICBkb25lKGNhbGxiYWNrKXtcblxuICAgICAgICAgICAgaWYoICEkLmlzRnVuY3Rpb24oY2FsbGJhY2spIClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIGNvbnN0IF9mdW5jID0gZnVuY3Rpb24ocmVzb3VyY2VzKXtcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIHJlc291cmNlcyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiggdGhpcy5fY29sbGVjdGlvbi5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxsYmFjayA9IF9mdW5jO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9vcCgpO1xuXG4gICAgICAgICAgICB9ZWxzZVxuICAgICAgICAgICAgICAgIF9mdW5jKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgcHJvZ3Jlc3MoY2FsbGJhY2spe1xuXG4gICAgICAgICAgICBpZiggISQuaXNGdW5jdGlvbihjYWxsYmFjaykgKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3QgX2Z1bmMgPSBmdW5jdGlvbihyZXNvdXJjZSl7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiggdGhpcy5fY29sbGVjdGlvbi5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9ncmVzcyA9IF9mdW5jO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9vcCgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgYWJvcnQoKXtcblxuICAgICAgICAgICAgZm9yKCBjb25zdCBrZXkgaW4gdGhpcy5fY29sbGVjdGlvbl9pbnN0YW5jZXMgKVxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb25faW5zdGFuY2VzWyBrZXkgXS5pbnN0YW5jZS5hYm9ydCgpO1xuXG4gICAgICAgICAgICBpZiggIXRoaXMuX2NvbGxlY3Rpb24ubGVuZ3RoIClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX2Fib3J0ID0gdHJ1ZTtcblxuICAgICAgICB9O1xuXG4gICAgfVxuXG4gICAgY2xhc3MgQ29sbGVjdGlvblBvcHVsYXRvciB7XG5cbiAgICAgICAgY29uc3RydWN0b3IoJGVsZW1lbnQsIG9wdGlvbnMpIHtcblxuICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnQgID0gJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50ICAgPSAkZWxlbWVudFswXTtcblxuICAgICAgICAgICAgdGhpcy5fc2V0dGluZ3MgID0gJC5leHRlbmQodHJ1ZSwge1xuICAgICAgICAgICAgICAgIHNyY0F0dHIgICAgIDogJ2RhdGEtc3JjJyxcbiAgICAgICAgICAgICAgICBzcmNzZXRBdHRyICA6ICdkYXRhLXNyY3NldCcsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZHMgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzICA6IFtdXG4gICAgICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgY29sbGVjdCggb3V0cHV0ICkge1xuXG4gICAgICAgICAgICBsZXQgY29sbGVjdGlvbiA9IFtdO1xuXG4gICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgIGlzX3BsYWluX2RhdGFfY29sbGVjdGlvbiA9IG91dHB1dCA9PT0gJ3BsYWluJyxcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICB0YXJnZXRzID0gJ2ltZywgdmlkZW8sIGF1ZGlvJyxcbiAgICAgICAgICAgICAgICB0YXJnZXRzX2V4dGVuZGVkID0gdGFyZ2V0cyArICcsIHBpY3R1cmUsIHNvdXJjZSc7XG5cbiAgICAgICAgICAgIGxldCAkdGFyZ2V0cyA9IHRoaXMuXyRlbGVtZW50LmZpbmQodGFyZ2V0cyk7XG4gICAgICAgICAgICBpZiAodGhpcy5fJGVsZW1lbnQuaXModGFyZ2V0cykpXG4gICAgICAgICAgICAgICAgJHRhcmdldHMgPSAkdGFyZ2V0cy5hZGQodGhpcy5fJGVsZW1lbnQpO1xuICAgICAgICAgICAgJHRhcmdldHMgPSAkdGFyZ2V0cy5maWx0ZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBsZXQgZmlsdGVyID0gJ1snK3NlbGYuX3NldHRpbmdzLnNyY0F0dHIrJ10sIFsnK3NlbGYuX3NldHRpbmdzLnNyY3NldEF0dHIrJ10nO1xuICAgICAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLmlzKGZpbHRlcikgfHwgJCh0aGlzKS5jaGlsZHJlbih0YXJnZXRzX2V4dGVuZGVkKS5maWx0ZXIoZmlsdGVyKS5sZW5ndGg7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICR0YXJnZXRzLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgbGV0IGNvbGxlY3Rpb25faXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlIDogJCh0aGlzKS5hdHRyKHNlbGYuX3NldHRpbmdzLnNyY0F0dHIpIHx8ICQodGhpcykuYXR0cihzZWxmLl9zZXR0aW5ncy5zcmNzZXRBdHRyKVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiggaXNfcGxhaW5fZGF0YV9jb2xsZWN0aW9uIClcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbl9pdGVtID0gY29sbGVjdGlvbl9pdGVtLmVsZW1lbnQ7XG5cbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLnB1c2goY29sbGVjdGlvbl9pdGVtKTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICh0cnVlID09PSB0aGlzLl9zZXR0aW5ncy5iYWNrZ3JvdW5kcylcbiAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudC5maW5kKCcqJykuYWRkQmFjaygpLm5vdCh0YXJnZXRzX2V4dGVuZGVkKS5maWx0ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCh0aGlzKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnKSAhPT0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIH0pLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb2xsZWN0aW9uX2l0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50IDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlIDogJCh0aGlzKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnKS5yZXBsYWNlKC91cmxcXChcInx1cmxcXCgnfHVybFxcKHwoKFwiJylcXCkkKS9pZ20sICcnKVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBpc19wbGFpbl9kYXRhX2NvbGxlY3Rpb24gKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbl9pdGVtID0gY29sbGVjdGlvbl9pdGVtLnJlc291cmNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24ucHVzaChjb2xsZWN0aW9uX2l0ZW0pO1xuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy5hdHRyaWJ1dGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHIgaW4gdGhpcy5fc2V0dGluZ3MuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiggdGhpcy5fc2V0dGluZ3MuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShhdHRyKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnQuZmluZCgnWycgKyBhdHRyICsgJ106bm90KCcgKyB0YXJnZXRzX2V4dGVuZGVkICsgJyknKS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb2xsZWN0aW9uX2l0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA6ICQodGhpcykuYXR0cihhdHRyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaXNfcGxhaW5fZGF0YV9jb2xsZWN0aW9uIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbl9pdGVtID0gY29sbGVjdGlvbl9pdGVtLnJlc291cmNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbi5wdXNoKGNvbGxlY3Rpb25faXRlbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fJGVsZW1lbnQuaXMoJ1snICsgYXR0ciArICddJykgJiYgIXRoaXMuXyRlbGVtZW50LmlzKHRhcmdldHNfZXh0ZW5kZWQpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29sbGVjdGlvbl9pdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiB0aGlzLl9lbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZTogdGhpcy5fJGVsZW1lbnQuYXR0cihhdHRyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaXNfcGxhaW5fZGF0YV9jb2xsZWN0aW9uIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbl9pdGVtID0gY29sbGVjdGlvbl9pdGVtLnJlc291cmNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbi5wdXNoKGNvbGxlY3Rpb25faXRlbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAkW25hbWVzcGFjZV9tZXRob2RdID0gUmVzb3VyY2VzTG9hZGVyO1xuXG4gICAgbGV0IG1ldGhvZF9jb2xsZWN0aW9uID0gW107XG5cbiAgICAkLmZuW25hbWVzcGFjZV9tZXRob2RdID0gZnVuY3Rpb24ob3B0aW9ucyl7XG5cbiAgICAgICAgbGV0IG9yaWdpbmFsX3VzZXJfb3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYoIHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JyApXG4gICAgICAgICAgICBvcHRpb25zID0ge307XG5cbiAgICAgICAgbGV0IHNldHRpbmdzID0gJC5leHRlbmQodHJ1ZSwge1xuXG4gICAgICAgICAgICBzcmNBdHRyICAgICAgIDogJ2RhdGEtc3JjJyxcbiAgICAgICAgICAgIHNyY3NldEF0dHIgICAgOiAnZGF0YS1zcmNzZXQnLFxuXG4gICAgICAgICAgICB2aXNpYmxlICAgICAgIDogZmFsc2UsXG5cbiAgICAgICAgICAgIHNlcXVlbnRpYWwgICAgOiBmYWxzZSxcblxuICAgICAgICAgICAgYmFja2dyb3VuZHMgICA6IGZhbHNlLFxuICAgICAgICAgICAgZXh0cmFBdHRycyAgICA6IFtdLFxuXG4gICAgICAgICAgICBwbGF5dGhyb3VnaCAgIDogZmFsc2UsXG5cbiAgICAgICAgICAgIGVhcmx5ICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIGVhcmx5VGltZW91dCAgOiAwLFxuXG4gICAgICAgICAgICBvblByb2dyZXNzICAgIDogJC5ub29wLFxuICAgICAgICAgICAgb25Mb2FkICAgICAgICA6ICQubm9vcCxcbiAgICAgICAgICAgIG9uRXJyb3IgICAgICAgOiAkLm5vb3AsXG5cbiAgICAgICAgICAgIG9uQ29tcGxldGUgICAgOiAkLm5vb3AsXG5cbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgbGV0IGNhbGxiYWNrID0gc2V0dGluZ3Mub25Db21wbGV0ZTtcbiAgICAgICAgaWYoICQuaXNGdW5jdGlvbihvcmlnaW5hbF91c2VyX29wdGlvbnMpIClcbiAgICAgICAgICAgIGNhbGxiYWNrID0gb3JpZ2luYWxfdXNlcl9vcHRpb25zO1xuXG4gICAgICAgIGlmKCAhJC5pc0FycmF5KHNldHRpbmdzLmF0dHJpYnV0ZXMpIClcbiAgICAgICAgICAgIHNldHRpbmdzLmF0dHJpYnV0ZXMgPSBbXTtcbiAgICAgICAgaWYoIHR5cGVvZiBzZXR0aW5ncy5hdHRyaWJ1dGVzID09PSAnc3RyaW5nJyApXG4gICAgICAgICAgICBzZXR0aW5ncy5hdHRyaWJ1dGVzID0gc2V0dGluZ3MuYXR0cmlidXRlcy5zcGxpdCgnICcpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gdGhpcyxcbiAgICAgICAgICAgICAgICAkZWxlbWVudCA9ICQoZWxlbWVudCksXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbiA9IG5ldyBDb2xsZWN0aW9uUG9wdWxhdG9yKCRlbGVtZW50LCBzZXR0aW5ncykuY29sbGVjdCgncGxhaW4nKSxcbiAgICAgICAgICAgICAgICAvL2VsZW1lbnRfaW5fY29sbGVjdGlvbiA9ICQuaW5BcnJheShlbGVtZW50LCBjb2xsZWN0aW9uKSA+IC0xLFxuICAgICAgICAgICAgICAgIHVuaXF1ZV9tZXRob2RfbmFtZXNwYWNlID0gbmFtZXNwYWNlICsgJ18nICsgdW5pcXVlX2lkKCksXG5cbiAgICAgICAgICAgICAgICB0aGlzX2xvYWRfaW5zdGFuY2UgPSBuZXcgUmVzb3VyY2VzTG9hZGVyKGNvbGxlY3Rpb24sIHNldHRpbmdzKTtcblxuICAgICAgICAgICAgbWV0aG9kX2NvbGxlY3Rpb24ucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQgOiB1bmlxdWVfbWV0aG9kX25hbWVzcGFjZSxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA6IHRoaXNfbG9hZF9pbnN0YW5jZSxcbiAgICAgICAgICAgICAgICBlbGVtZW50IDogZWxlbWVudCxcbiAgICAgICAgICAgICAgICB0aW1lb3V0IDogbnVsbFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXNfbG9hZF9pbnN0YW5jZS5wcm9ncmVzcyhmdW5jdGlvbiAocmVzb3VyY2UpIHtcblxuICAgICAgICAgICAgICAgICRlbGVtZW50LnRyaWdnZXIobmFtZXNwYWNlX3ByZWZpeCsnUHJvZ3Jlc3MuJytuYW1lc3BhY2VfcHJlZml4LCBbZWxlbWVudCwgcmVzb3VyY2VdKTtcblxuICAgICAgICAgICAgICAgIGlmKCAkLmlzRnVuY3Rpb24oc2V0dGluZ3Mub25Qcm9ncmVzcykgKVxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5vblByb2dyZXNzLmNhbGwoZWxlbWVudCwgdGhpc19sb2FkX2luc3RhbmNlLCByZXNvdXJjZSApO1xuXG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50X25hbWUgPSBjYXBpdGFsaXplKHJlc291cmNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgaWYoICQuaXNGdW5jdGlvbihzZXR0aW5nc1snb24nK2V2ZW50X25hbWVdKSApXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzWydvbicrZXZlbnRfbmFtZV0uY2FsbChlbGVtZW50LCB0aGlzX2xvYWRfaW5zdGFuY2UsIHJlc291cmNlICk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzX2xvYWRfaW5zdGFuY2UuZG9uZShmdW5jdGlvbihyZXNvdXJjZXMpe1xuXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQudHJpZ2dlcihuYW1lc3BhY2VfcHJlZml4ICsgJ0NvbXBsZXRlLicrbmFtZXNwYWNlX3ByZWZpeCwgW2VsZW1lbnQsIHJlc291cmNlc10pO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoZWxlbWVudCwgdGhpc19sb2FkX2luc3RhbmNlLCByZXNvdXJjZXMpO1xuXG4gICAgICAgICAgICAgICAgaWYoIHNldHRpbmdzLnZpc2libGUgKVxuICAgICAgICAgICAgICAgICAgICAkKCAkLm5pdGUgJiYgJ3Njcm9sbCcgaW4gJC5uaXRlID8gJGRvY3VtZW50IDogJHdpbmRvdyApLm9mZignc2Nyb2xsLicgKyB1bmlxdWVfbWV0aG9kX25hbWVzcGFjZSk7XG5cbiAgICAgICAgICAgICAgICAvLyByZWZyZXNoIG90aGVyIG1ldGhvZCBjYWxscyBmb3Igc2FtZSBlbCAob21pdHRpbmcgdGhpcyBvbmUpXG4gICAgICAgICAgICAgICAgbWV0aG9kX2NvbGxlY3Rpb24gPSBtZXRob2RfY29sbGVjdGlvbi5maWx0ZXIoZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmouaWQgIT09IHVuaXF1ZV9tZXRob2RfbmFtZXNwYWNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZvciggbGV0IGtleSBpbiBtZXRob2RfY29sbGVjdGlvbiApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRoaXNfbWV0aG9kX2NvbGxlY3Rpb24gPSBtZXRob2RfY29sbGVjdGlvbltrZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJGVsZW1lbnQuaXModGhpc19tZXRob2RfY29sbGVjdGlvbi5lbGVtZW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfbWV0aG9kX2NvbGxlY3Rpb24uaW5zdGFuY2UubG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmKCBzZXR0aW5ncy52aXNpYmxlICl7XG5cbiAgICAgICAgICAgICAgICBpZiggJC5uaXRlICYmICdzY3JvbGwnIGluICQubml0ZSApXG4gICAgICAgICAgICAgICAgICAgICQubml0ZS5zY3JvbGwodW5pcXVlX21ldGhvZF9uYW1lc3BhY2UsIGZ1bmN0aW9uKCl7IHRoaXNfbG9hZF9pbnN0YW5jZS5sb29wKCk7IH0sIHsgZnBzIDogMjUgfSk7XG5cbiAgICAgICAgICAgICAgICBlbHNle1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRocm90dGxlX3Njcm9sbF9ldmVudCA9IGZ1bmN0aW9uKGZuLCB3YWl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICggdGltZSArIHdhaXQgLSBEYXRlLm5vdygpICkgPCAwICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAkd2luZG93Lm9uKCdzY3JvbGwuJyt1bmlxdWVfbWV0aG9kX25hbWVzcGFjZSwgdGhyb3R0bGVfc2Nyb2xsX2V2ZW50KGZ1bmN0aW9uKCl7IHRoaXNfbG9hZF9pbnN0YW5jZS5sb29wKCk7IH0sIDEwMDApKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiggdHJ1ZSA9PT0gc2V0dGluZ3MuZWFybHkgKSBmb3IoIGxldCBrZXkgaW4gbWV0aG9kX2NvbGxlY3Rpb24gKVxuICAgICAgICAgICAgICAgIGlmKCBtZXRob2RfY29sbGVjdGlvbltrZXldLmlkID09PSB1bmlxdWVfbWV0aG9kX25hbWVzcGFjZSApe1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCB0aGlzX21ldGhvZF9jb2xsZWN0aW9uID0gbWV0aG9kX2NvbGxlY3Rpb25ba2V5XTtcblxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoIHRoaXNfbWV0aG9kX2NvbGxlY3Rpb24udGltZW91dCApO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXNfbWV0aG9kX2NvbGxlY3Rpb24udGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG9kbyBhcHByb3ByaWF0ZSBtZXRob2QgZm9yIHNldHRpbmcgc2V0dGluZ3M/XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzX21ldGhvZF9jb2xsZWN0aW9uLmluc3RhbmNlLl9zZXR0aW5ncy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzX21ldGhvZF9jb2xsZWN0aW9uLmluc3RhbmNlLl9zZXR0aW5ncy5zZXF1ZW50aWFsID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc19tZXRob2RfY29sbGVjdGlvbi5pbnN0YW5jZS5sb29wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSwgJC5pc051bWVyaWMoc2V0dGluZ3MuZWFybHlUaW1lb3V0KSA/IHBhcnNlSW50KHNldHRpbmdzLmVhcmx5VGltZW91dCkgOiAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG59KSh3aW5kb3csIGRvY3VtZW50LCBqUXVlcnkpOyJdfQ==
