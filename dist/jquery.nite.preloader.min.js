"use strict";var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(function(a,b,c){"use strict";var d=Math.floor,e="nite",f=e+"Preload",g=f+"er";if(function(a){a.console||(a.console={});for(var b,c,d=a.console,e=function(){},f=["memory"],g=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profiles","profileEnd","show","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"];b=f.pop();)d[b]||(d[b]={});for(;c=g.pop();)d[c]||(d[c]=e)}(a),!c)return console.error("jQuery is needed for "+g+" to work!"),void 0;Array.prototype.findIndex=Array.prototype.findIndex||function(a){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");else if("function"!=typeof a)throw new TypeError("callback must be a function");for(var b=Object(this),c=b.length>>>0,d=arguments[1],e=0;e<c;e++)if(a.call(d,b[e],e,b))return e;return-1},[].filter||(Array.prototype.filter=function(f,a,b,c,d){for(d in b=this,c=[],b)~~d+""==d&&0<=d&&f.call(a,b[d],+d,b)&&c.push(b[d]);return c});var h=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},i=c(b),j=c(a),k=function(){return c.nite&&"uniqueId"in c.nite?c.nite.uniqueId():d(8999*Math.random())+1e3},l=function(a){var b=c(a),d=!1;if(c.nite&&"inViewport"in c.nite)d=c.nite.inViewport(a).ratio;else{var e=a.getBoundingClientRect();d=!(0>e.right||0>e.bottom||e.left>j.width()||e.top>j.height())}return d&&b.is(":visible")&&"hidden"!==b.css("visibility")},m=function(a){if("object"!==("undefined"==typeof a?"undefined":_typeof(a)))return!1;try{return a instanceof HTMLElement}catch(b){return 1===a.nodeType&&"object"===_typeof(a.style)&&"object"===_typeof(a.ownerDocument)}},n=function(a){return m(a)&&"currentSrc"in a&&a.currentSrc.length&&("complete"in a&&a.complete||"readyState"in a&&2<=a.readyState)},o=function(a){return n(a)&&("naturalWidth"in a&&0===d(a.naturalWidth)||"videoWidth"in a&&0===a.videoWidth)},p=function(a,b){var d={image:"jp[e]?g|gif|png|tif[f]?|bmp",audio:"mp3|ogg",video:"mp4|ogv|ogg|webm"},e=Object.keys(d),f={format:null,extension:null};if("string"==typeof a){if(a=a.split("?")[0],a=a.split("#")[0],""===a)return!1;var g=void 0===b?e:[b];for(var h in g)if(g.hasOwnProperty(h)&&new RegExp("(.("+d[g[h]]+")$)|"+";base64,","g").test(a))if(/;base64,/g.test(a)){var i=a.match(new RegExp("^data:"+g[h]+"/("+d[g[h]]+")","g"));if(!i||null===i)continue;i=i[0],f.format=i.replace("data:"+g[h]+"/g","");break}else{var j=a.match(new RegExp(d[g[h]],"g"));if(j){f.format=g[h],f.extension=j[0];break}}}if(m(a)){var k=a.tagName.toLowerCase();-1<c.inArray(k,e)&&(f.format=a.tagName.toLowerCase()),"img"===k&&(f.format="image")}return f},q=function(){function d(a){var b=this;_classCallCheck(this,d),this._settings=c.extend(!0,{srcAttr:"data-src",srcsetAttr:"data-srcset",playthrough:!1,visible:!1},a),this._id=null,this._id_event=null,this._element=null,this._$element=c(),this._resource=null,this._busy=!1,this._format=null,this._done=c.noop,this._success=c.noop,this._error=c.noop,this._callback=function(a){b._$element.removeData(g),b._busy=!1;var c=[b._element,a.type,b._element.currentSrc||b._element.src,b._id];b["error"===a.type?"_error":"_success"].apply(b,c),b._done.apply(b,c)}}return _createClass(d,[{key:"process",value:function(){var b=this,d=this._settings.srcAttr,e=this._settings.srcAttr.replace("data-","");if(n(this._element))return this._busy||this._$element.off("."+this._id_event),this._callback(new Event(o(this._element)?"error":"load")),!1;if(this._settings.visible&&!l(this._element))return!1;if("image"===this._format){this._$element[this._busy?"on":"one"]("load."+this._id_event+" error."+this._id_event,this._callback);var f=this._$element.closest("picture"),h=this._settings.srcsetAttr,i=this._settings.srcsetAttr.replace("data-","");f.length&&"HTMLPictureElement"in a?(this._$element.removeData(i).removeAttr(h).removeData(e).removeAttr(d),f.find("source["+h+"]").attr("srcset",f.data(i)).removeData(i).removeAttr(h)):(this._$element.is("["+h+"]")&&this._$element.attr("srcset",this._$element.data(i)).removeData(i).removeAttr(h),this._$element.is("["+d+"]")&&this._$element.attr("src",this._$element.data(e)).removeData(e).removeAttr(d))}else if("video"===this._format||"audio"===this._format){var j=!0===this._settings.playthrough,k="full"===this._settings.playthrough,m=this._$element.find("source"),p=function(a){var b=Math.round;return a.buffered.length&&1==b(a.buffered.end(0))/b(a.seekable.end(0))},q=!1;if(m.length){var r=this;m.each(function(){var a=c(this);a.is("["+d+"]")&&(a.attr("src",a.data(e)).removeData(e).removeAttr(d),q=!0)})[this._busy?"on":"one"]("error."+this._id_event,function(a){var b=g+"_error";c(this).data(b,!0),m.length===m.filter(function(){return!0===c(this).data(b)}).length&&r._callback(a)})}else this._$element.is("["+d+"]")&&(this._$element.attr("src",this._$element.data(e)).removeData(e).removeAttr(d)[this._busy?"on":"one"]("error."+this._id_event,this._callback),q=!0);q&&this._element.load(),this._$element[this._busy?"on":"one"]("loadedmetadata."+this._id_event,function(){if(j||k||b._callback(new Event("load")),k){var a=setInterval(function(){var c=0<b._element.readyState&&!b._element.duration;c||p(b._element)?(b._element.currentTime=0,!c&&!b._busy&&b._element.paused&&b._$element.is("[autoplay]")&&b._element.play(),clearInterval(a),b._callback(new Event(c?"error":"load"))):(!b._element.paused&&b._element.pause(),!b._busy&&(b._element.currentTime+=2))},500);b._$element.data(b._id_event,a)}})[this._busy?"on":"one"]("canplay."+this._id_event,function(){k&&0===b._element.currentTime&&!p(b._element)&&b._element.currentTime++})[this._busy?"on":"one"]("canplaythrough."+this._id_event,function(){j&&b._callback(new Event("load"))})}else return!1;return this._busy||this._$element.data(g,this._id_event),this._resource=this._element.currentSrc||this._element.src,!this._busy}},{key:"done",value:function(a){c.isFunction(a)&&(this._done=function(b,c,d,e){a.apply(this,[b,c,d,e])})}},{key:"abort",value:function(){if(this._$element.off("."+this._id_event),!n(this._element)){var a=this._$element.attr("srcset"),b=this._$element.attr("src");void 0!==a&&this._$element.data(this._settings.srcAttr,a).attr(this._settings.srcAttr,a).removeAttr("src").removeAttr("srcset"),void 0!==b&&this._$element.data(this._settings.srcsetAttr,b).attr(this._settings.srcsetAttr,b).removeAttr("src").removeAttr("srcset")}}},{key:"resource",set:function(a){var d=m(a.resource),e="string"==typeof a.resource;if(d||e){if(this._id=a.id,this._format=p(a.resource).format,e){var f="image"===this._format;this._element=b.createElement(f?"img":this._format),f&&(this._settings.srcsetAttr="data-srcset"),this._settings.srcAttr="data-src",this._resource=a.resource}d&&(this._element=a.resource),this._$element=c(this._element),e&&this._$element.data(this._settings.srcAttr.replace("data-",""),this._resource).data(this._settings.srcsetAttr.replace("data-",""),this._resource).attr(this._settings.srcAttr,this._resource).attr(this._settings.srcsetAttr,this._resource),this._id_event=this._$element.data(g),this._busy=void 0!==this._id_event,this._id_event=this._busy?this._id_event:g+"_unique_"+this._element.tagName+"_"+k()}}}]),d}(),r=function(){function a(b,d){var e=this;if(_classCallCheck(this,a),this._collection=[],this._collection_loaded=[],this._collection_instances=[],this._resources_loaded=[],this._pending_sequential_items=[],c.isArray(b)&&("string"==typeof b[0]||m(b[0])))for(var f in b)b.hasOwnProperty(f)&&this._collection.push({id:k(),resource:b[f]});("string"==typeof b||m(b))&&this._collection.push({id:k(),resource:b}),this._settings=c.extend(!0,{srcAttr:"data-src",srcsetAttr:"data-srcset",playthrough:!1,visible:!1},d),this.percentage=0,this._done=c.noop,this._progress=c.noop,this._success=c.noop,this._error=c.noop,this._abort=!1,this._loaded=0,this._complete=!1,this._busy=!1,(this._loop=function(){setTimeout(function(){e.loop()},25)})()}return _createClass(a,[{key:"loop",value:function(){for(var a,b=this,d=!0===this._settings.sequential,f=function(a){if(b._abort)return"break";var f=b._collection[a].id,g=b._collection_instances.findIndex(function(a){return a.id===f}),i=new q(b._settings);-1===g?(b._collection_instances.push({id:f,instance:i}),g=b._collection_instances.findIndex(function(a){return a.id===f})):b._collection_instances[g].instance=i,i.resource=b._collection[a],i.done(function(a,f,g,i){if(!(b._complete||b._abort)){var j=-1===c.inArray(i,b._collection_loaded);if(j){b._collection_loaded.push(i),b._busy=!1,b._loaded++,b.percentage=100*(b._loaded/b._collection.length),b.percentage=parseFloat(b.percentage.toFixed(4));var k={resource:g,status:f};b._resources_loaded.push(k),b._progress.call(b,k),b["error"===f?"_error":"_success"].call(b,k),c(a).trigger(e+h(f)+"."+e,[a,g])}b._loaded===b._collection.length?(b._done.call(b,b._resources_loaded),b._complete=!0):j&&d}}),d&&(!d||b._busy)?d&&b._busy:b._busy=i.process()},g=0;g<this._collection.length&&(a=f(g),"break"!==a);g++);}},{key:"done",value:function(a){if(c.isFunction(a)){var b=function(b){a.call(this,b)};this._collection.length?(this._done=b,this._loop()):b()}}},{key:"progress",value:function(a){if(c.isFunction(a)){var b=function(b){a.call(this,b)};this._collection.length&&(this._progress=b,this._loop())}}},{key:"success",value:function(a){if(c.isFunction(a)){var b=function(b){a.call(this,b)};this._collection.length&&(this._success=b,this._loop())}}},{key:"error",value:function(a){if(c.isFunction(a)){var b=function(b){a.call(this,b)};this._collection.length&&(this._error=b,this._loop())}}},{key:"abort",value:function(){for(var a in this._collection_instances)this._collection_instances[a].instance.abort();this._collection.length&&(this._abort=!0)}}]),a}(),s=function(){function a(b,d){_classCallCheck(this,a),this._$element=b,this._element=b[0],this._settings=c.extend(!0,{srcAttr:"data-src",srcsetAttr:"data-srcset",backgrounds:!1,attributes:[]},d)}return _createClass(a,[{key:"collect",value:function(a){var b=[],d="plain"===a,e=this._settings.srcAttr,f=this._settings.srcsetAttr,g="img, video, audio",h=g+", picture, source",i=this._$element.find(g);if(this._$element.is(g)&&(i=i.add(this._$element)),i=i.filter(function(){var a=c(this),b="["+e+"], ["+f+"]";return a.is(b)||a.children(h).filter(b).length}),i.each(function(){var a={element:this,resource:c(this).attr(e)||c(this).attr(f)};d&&(a=a.element),b.push(a)}),!0===this._settings.backgrounds&&this._$element.find("*").addBack().not(h).filter(function(){return"none"!==c(this).css("background-image")}).each(function(){var a={element:this,resource:c(this).css("background-image").replace(/url\("|url\('|url\(|(("')\)$)/igm,"")};d&&(a=a.resource),b.push(a)}),this._settings.attributes.length){var j=function(a){if(this._settings.attributes.hasOwnProperty(a)&&(this._$element.find("["+a+"]:not("+h+")").each(function(){let e={element:this,resource:c(this).attr(a)};d&&(e=e.resource),b.push(e)}),this._$element.is("["+a+"]")&&!this._$element.is(h))){let c={element:this._element,resource:this._$element.attr(a)};d&&(c=c.resource),b.push(c)}};for(const a in this._settings.attributes)j(a)}return b}}]),a}();c[f]=r;var t=[];c.fn[f]=function(a){var b=a;"object"!==("undefined"==typeof a?"undefined":_typeof(a))&&(a={});var d=c.extend(!0,{srcAttr:"data-src",srcsetAttr:"data-srcset",visible:!1,sequential:!1,backgrounds:!1,extraAttrs:[],playthrough:!1,early:!1,earlyTimeout:0,onProgress:c.noop,onLoad:c.noop,onError:c.noop,onComplete:c.noop},a),f=d.onComplete;return c.isFunction(b)&&(f=b),c.isArray(d.attributes)||(d.attributes=[]),"string"==typeof d.attributes&&(d.attributes=d.attributes.split(" ")),this.each(function(){var a=this,b=c(a),l=new s(b,d).collect("plain"),m=g+"_"+k(),n=new r(l,d);if(t.push({id:m,instance:n,element:a,timeout:null}),n.progress(function(f){b.trigger(e+"Progress."+e,[a,f]);var g=[n,f];c.isFunction(d.onProgress)&&d.onProgress.apply(a,g);var i=h(f.status);c.isFunction(d["on"+i])&&d["on"+i].apply(a,g)}),n.done(function(g){for(var h in b.trigger(e+"Complete."+e,[a,g]),f.apply(a,[n,g]),d.visible&&c(c.nite&&"scroll"in c.nite?i:j).off("scroll."+m),t=t.filter(function(a){return a.id!==m}),t){var k=t[h];b.is(k.element)&&k.instance.loop()}}),d.visible)if(c.nite&&"scroll"in c.nite)c.nite.scroll(m,function(){n.loop()},{fps:25});else{var o=function(a,b){var c=Date.now();return function(){0>c+b-Date.now()&&(a(),c=Date.now())}};j.on("scroll."+m,o(function(){n.loop()},1e3))}if(!0===d.early)for(var p in t)if(t[p].id===m){var q=function(){var a=t[p];return clearTimeout(a.timeout),a.timeout=setTimeout(function(){a.instance._settings.visible=!1,a.instance._settings.sequential=!0,a.instance.loop()},c.isNumeric(d.earlyTimeout)?parseInt(d.earlyTimeout):0),"break"}();if("break"===q)break}})}})(window,document,jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5uaXRlLnByZWxvYWRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiMGtCQUFBLENBQ0EsQ0FBQyxBQUFTLEFBQVEsQUFBVSxBQUFHLGVBQVUsQUFDckMsQ0FFQSxtQkErRW9FLEtBQUEsQUFBSyxNQTlFckUsRUFESixBQUN1QixPQUNuQixFQUFtQixFQUZ2QixBQUV3QyxVQUNwQyxFQUFZLEVBSGhCLEFBR2lDLEFBR2pDLEFBQ0EsQUFDQSxRQUFDLEFBQVMsV0FBUSxBQUNkLEFBQUksQ0FBQyxFQUFMLEFBQVksVUFDUixFQUFBLEFBQU8sQUFBVSxBQUNyQixtQkFBQSxBQUNJLEdBREosQUFDVSxFQUROLEVBQU0sRUFBVixBQUFpQixRQUViLEVBQUEsQUFBUSxVQUFXLEFBQUUsQ0FGekIsRUFBQSxBQUdJLEFBQWEsQUFBQyxhQUhsQixBQUlJLEFBQVUsQUFBQyxBQUNQLEFBQ0EsQUFBcUUsQUFBTSxBQUNuRiw4UEFBTyxFQUFPLEVBQWQsQUFBYyxBQUFXLEFBQ3JCLEFBQUksT0FBSixBQUFLLEFBQUksT0FEYixBQUVRLEFBQUksQUFBUSxBQUNwQixjQUFPLEVBQVMsRUFBaEIsQUFBZ0IsQUFBUSxBQUNwQixBQUFJLE9BQUosQUFBSyxBQUFJLE9BRGIsQUFFUSxBQUFJLEFBQVUsQUFDekIsT0FoQkQsQUFnQkcsQUFDSCxBQUdBLEFBQ0EsS0FBQSxBQUFJLEFBQUMsQUFBSSxBQUNMLEdBQ0EsQUFBTyxBQUNWLEFBQ0QsQUFHQSxBQUNBLEFBQ0EsQUFDQSxlQVRJLEFBQVEsTUFBTSxBQUF3QiwwQkFBdEMsQUFBZ0QsQUFDaEQsMEJBUUosQUFBTSxVQUFOLEFBQWdCLFVBQVksTUFBQSxBQUFNLFVBQU4sQUFBZ0IsV0FBYSxBQUFTLFdBQVUsQUFDeEUsSUFBQSxBQUFhLEFBQU0sQUFDZixJQURBLGFBQ00sSUFBQSxBQUFJLFdBRGQsQUFDSSxBQUFNLEFBQWMsQUFDdkIsNkRBQU0sSUFBQSxBQUF3QixBQUFZLEFBQ3ZDLFVBRE8sQUFBTyxnQkFD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eSBOaXRlIFByZWxvYWRlciB8IERhbmllbGUgRmlvcm9uaSB8IGRmaW9yb25pOTFAZ21haWwuY29tICovXG4oZnVuY3Rpb24od2luZG93LCBkb2N1bWVudCwgJCwgdW5kZWZpbmVkKXtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBjb25zdFxuICAgICAgICBuYW1lc3BhY2VfcHJlZml4ID0gJ25pdGUnLFxuICAgICAgICBuYW1lc3BhY2VfbWV0aG9kID0gbmFtZXNwYWNlX3ByZWZpeCsnUHJlbG9hZCcsXG4gICAgICAgIG5hbWVzcGFjZSA9IG5hbWVzcGFjZV9tZXRob2QrJ2VyJztcblxuXG4gICAgLy8gdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9wYXVsbWlsbHIvY29uc29sZS1wb2x5ZmlsbFxuICAgIC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuICAgIChmdW5jdGlvbihnbG9iYWwpIHtcbiAgICAgICAgaWYgKCFnbG9iYWwuY29uc29sZSlcbiAgICAgICAgICAgIGdsb2JhbC5jb25zb2xlID0ge307XG4gICAgICAgIGxldCBjb24gPSBnbG9iYWwuY29uc29sZSxcbiAgICAgICAgICAgIHByb3AsIG1ldGhvZCxcbiAgICAgICAgICAgIGR1bW15ID0gZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgICAgIHByb3BlcnRpZXMgPSBbJ21lbW9yeSddLFxuICAgICAgICAgICAgbWV0aG9kcyA9ICgnYXNzZXJ0LGNsZWFyLGNvdW50LGRlYnVnLGRpcixkaXJ4bWwsZXJyb3IsZXhjZXB0aW9uLGdyb3VwLCcgK1xuICAgICAgICAgICAgICAgICdncm91cENvbGxhcHNlZCxncm91cEVuZCxpbmZvLGxvZyxtYXJrVGltZWxpbmUscHJvZmlsZSxwcm9maWxlcyxwcm9maWxlRW5kLCcgK1xuICAgICAgICAgICAgICAgICdzaG93LHRhYmxlLHRpbWUsdGltZUVuZCx0aW1lbGluZSx0aW1lbGluZUVuZCx0aW1lU3RhbXAsdHJhY2Usd2FybicpLnNwbGl0KCcsJyk7XG4gICAgICAgIHdoaWxlIChwcm9wID0gcHJvcGVydGllcy5wb3AoKSlcbiAgICAgICAgICAgIGlmICghY29uW3Byb3BdKVxuICAgICAgICAgICAgICAgIGNvbltwcm9wXSA9IHt9O1xuICAgICAgICB3aGlsZSAobWV0aG9kID0gbWV0aG9kcy5wb3AoKSlcbiAgICAgICAgICAgIGlmICghY29uW21ldGhvZF0pXG4gICAgICAgICAgICAgICAgY29uW21ldGhvZF0gPSBkdW1teTtcbiAgICB9KSh3aW5kb3cpO1xuICAgIC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuXG5cbiAgICAvLyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC1cbiAgICBpZiggISQgKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2pRdWVyeSBpcyBuZWVkZWQgZm9yICcrbmFtZXNwYWNlKycgdG8gd29yayEnKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXG5cblxuICAgIC8vIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vanNQb2x5ZmlsbC9BcnJheS5wcm90b3R5cGUuZmluZEluZGV4XG4gICAgLy8gdG9kbyBjaGVjayBlZmZpY2llbmN5IGFuZCByZWxpYWJpbGl0eSBpbiBNUyBJbnRlcm5ldCBFeHBsb3JlclxuICAgIC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuICAgIEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXggPSBBcnJheS5wcm90b3R5cGUuZmluZEluZGV4IHx8IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheS5wcm90b3R5cGUuZmluZEluZGV4IGNhbGxlZCBvbiBudWxsIG9yIHVuZGVmaW5lZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3RcbiAgICAgICAgICAgIGxpc3QgPSBPYmplY3QodGhpcyksXG4gICAgICAgICAgICAvLyBNYWtlcyBzdXJlcyBpcyBhbHdheXMgaGFzIGFuIHBvc2l0aXZlIGludGVnZXIgYXMgbGVuZ3RoLlxuICAgICAgICAgICAgIGxlbmd0aCA9IGxpc3QubGVuZ3RoID4+PiAwLFxuICAgICAgICAgICAgIHRoaXNBcmcgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICggY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBsaXN0W2ldLCBpLCBsaXN0KSApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgICAvLyAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC1cblxuXG4gICAgLy8gdGhhbmtzIHRvIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2VsaXBlcmVsbWFuLzEwMzE2NTZcbiAgICAvLyB0b2RvIGNoZWNrIGVmZmljaWVuY3kgYW5kIHJlbGlhYmlsaXR5IGluIE1TIEludGVybmV0IEV4cGxvcmVyXG4gICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtXG4gICAgW10uZmlsdGVyfHwoQXJyYXkucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbihhLGIsYyxkLGUpe2M9dGhpcztkPVtdO2ZvcihlIGluIGMpfn5lKycnPT1lJiZlPj0wJiZhLmNhbGwoYixjW2VdLCtlLGMpJiZkLnB1c2goY1tlXSk7cmV0dXJuIGR9KVxuICAgIC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLVxuXG5cblxuICAgIGNvbnN0XG5cbiAgICAgICAgY2FwaXRhbGl6ZSA9IGZ1bmN0aW9uKHN0cmluZyl7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xuICAgICAgICB9LFxuXG4gICAgICAgICRkb2N1bWVudCA9ICQoZG9jdW1lbnQpLFxuICAgICAgICAkd2luZG93ID0gJCh3aW5kb3cpLFxuXG4gICAgICAgIHVuaXF1ZV9pZCA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgIHJldHVybiAkLm5pdGUgJiYgJ3VuaXF1ZUlkJyBpbiAkLm5pdGUgPyAkLm5pdGUudW5pcXVlSWQoKSA6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICg5OTk5IC0gMTAwMCkpICsgMTAwMDtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGlzX3Zpc2libGUgPSBmdW5jdGlvbihlbGVtZW50KXtcblxuICAgICAgICAgICAgY29uc3QgJGVsID0gJChlbGVtZW50KTtcblxuICAgICAgICAgICAgbGV0IGluX3ZpZXdwb3J0ID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmKCAkLm5pdGUgJiYgJ2luVmlld3BvcnQnIGluICQubml0ZSApXG4gICAgICAgICAgICAgICAgaW5fdmlld3BvcnQgPSAkLm5pdGUuaW5WaWV3cG9ydChlbGVtZW50KS5yYXRpbztcblxuICAgICAgICAgICAgZWxzZXtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICAgICAgaW5fdmlld3BvcnQgPSAhKCByZWN0LnJpZ2h0IDwgMCB8fCByZWN0LmJvdHRvbSA8IDAgfHwgcmVjdC5sZWZ0ID4gJHdpbmRvdy53aWR0aCgpIHx8IHJlY3QudG9wID4gJHdpbmRvdy5oZWlnaHQoKSApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBpbl92aWV3cG9ydCAmJiAkZWwuaXMoJzp2aXNpYmxlJykgJiYgJGVsLmNzcygndmlzaWJpbGl0eScpICE9PSAnaGlkZGVuJztcblxuICAgICAgICB9LFxuXG4gICAgICAgIGlzX2h0bWxfb2JqZWN0ID0gZnVuY3Rpb24oIG9iamVjdCApe1xuXG4gICAgICAgICAgICBpZiggdHlwZW9mIG9iamVjdCAhPT0gJ29iamVjdCcgKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaChlKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0Lm5vZGVUeXBlID09PSAxICYmIHR5cGVvZiBvYmplY3Quc3R5bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmplY3Qub3duZXJEb2N1bWVudCA9PT0gJ29iamVjdCc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBpc19sb2FkZWQgPSBmdW5jdGlvbihlbGVtZW50KXtcblxuICAgICAgICAgICAgcmV0dXJuIGlzX2h0bWxfb2JqZWN0KGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgJiYgKCAnY3VycmVudFNyYycgaW4gZWxlbWVudCAmJiBlbGVtZW50LmN1cnJlbnRTcmMubGVuZ3RoIClcbiAgICAgICAgICAgICAgICAmJiAoICggJ2NvbXBsZXRlJyBpbiBlbGVtZW50ICYmIGVsZW1lbnQuY29tcGxldGUgKSB8fCAoICdyZWFkeVN0YXRlJyBpbiBlbGVtZW50ICYmIGVsZW1lbnQucmVhZHlTdGF0ZSA+PSAyICkgKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIGlzX2Jyb2tlbiA9IGZ1bmN0aW9uKGVsZW1lbnQpe1xuXG4gICAgICAgICAgICByZXR1cm4gaXNfbG9hZGVkKGVsZW1lbnQpICYmIChcbiAgICAgICAgICAgICAgICAgICAgKCAnbmF0dXJhbFdpZHRoJyBpbiBlbGVtZW50ICYmIE1hdGguZmxvb3IoZWxlbWVudC5uYXR1cmFsV2lkdGgpID09PSAwIClcbiAgICAgICAgICAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICAgICAgKCAndmlkZW9XaWR0aCcgaW4gZWxlbWVudCAmJiBlbGVtZW50LnZpZGVvV2lkdGggPT09IDAgKVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIGlzX2Zvcm1hdCA9IGZ1bmN0aW9uKCBpdGVtLCBleHBlY3RlZF9mb3JtYXQgKXtcblxuICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICBmb3JtYXRfZXh0ZW5zaW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2UgOiAnanBbZV0/Z3xnaWZ8cG5nfHRpZltmXT98Ym1wJyxcbiAgICAgICAgICAgICAgICAgICAgYXVkaW8gOiAnbXAzfG9nZycsXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvIDogJ21wNHxvZ3Z8b2dnfHdlYm0nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmb3JtYXRfbmFtZXMgPSBPYmplY3Qua2V5cyhmb3JtYXRfZXh0ZW5zaW9ucyksXG4gICAgICAgICAgICAgICAgYmFzZTY0X2hlYWRpbmcgPSAnXFw7YmFzZTY0XFwsJztcblxuICAgICAgICAgICAgbGV0IG91dHB1dCA9IHsgZm9ybWF0OiBudWxsLCBleHRlbnNpb246IG51bGwgfTtcblxuICAgICAgICAgICAgaWYoIHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJyApIHtcblxuICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnNwbGl0KCc/JylbMF07IC8vIGdldCByaWQgb2YgcXVlcnkgc3RyaW5nc1xuICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnNwbGl0KCcjJylbMF07IC8vIGdldCByaWQgb2YgaGFzaGVzXG5cbiAgICAgICAgICAgICAgICBpZiAoaXRlbSA9PT0gJycpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGxldCBmb3JtYXRfcXVldWUgPSB1bmRlZmluZWQgIT09IGV4cGVjdGVkX2Zvcm1hdCA/IFsgZXhwZWN0ZWRfZm9ybWF0IF0gOiBmb3JtYXRfbmFtZXM7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHggaW4gZm9ybWF0X3F1ZXVlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1hdF9xdWV1ZS5oYXNPd25Qcm9wZXJ0eSh4KSl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKCcoXFwuKCcgKyBmb3JtYXRfZXh0ZW5zaW9uc1tmb3JtYXRfcXVldWVbeF1dICsgJykkKXwnICsgYmFzZTY0X2hlYWRpbmcsICdnJykudGVzdChpdGVtKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAoYmFzZTY0X2hlYWRpbmcsICdnJykudGVzdChpdGVtKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaGVzNjQgPSBpdGVtLm1hdGNoKG5ldyBSZWdFeHAoJ15kYXRhOicgKyBmb3JtYXRfcXVldWVbeF0gKyAnXFwvKCcgKyBmb3JtYXRfZXh0ZW5zaW9uc1tmb3JtYXRfcXVldWVbeF1dICsgJyknLCAnZycpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFtYXRjaGVzNjQgfHwgbnVsbCA9PT0gbWF0Y2hlczY0IClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXM2NCA9IG1hdGNoZXM2NFswXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQuZm9ybWF0ID0gbWF0Y2hlczY0LnJlcGxhY2UoJ2RhdGE6JyArIGZvcm1hdF9xdWV1ZVt4XSArICcvZycsICcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoZXMgPSBpdGVtLm1hdGNoKG5ldyBSZWdFeHAoZm9ybWF0X2V4dGVuc2lvbnNbZm9ybWF0X3F1ZXVlW3hdXSwgJ2cnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmZvcm1hdCA9IGZvcm1hdF9xdWV1ZVt4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5leHRlbnNpb24gPSBtYXRjaGVzWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIGlzX2h0bWxfb2JqZWN0KGl0ZW0pICl7XG5cbiAgICAgICAgICAgICAgICBsZXQgdGFnX25hbWUgPSBpdGVtLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiggJC5pbkFycmF5KHRhZ19uYW1lLCBmb3JtYXRfbmFtZXMpID4gLTEgKVxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQuZm9ybWF0ID0gaXRlbS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiggdGFnX25hbWUgPT09ICdpbWcnIClcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmZvcm1hdCA9ICdpbWFnZSc7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICBcbiAgICAgICAgfTtcblxuICAgIGNsYXNzIFJlc291cmNlTG9hZGVyIHtcblxuICAgICAgICBjb25zdHJ1Y3RvcihvcHRpb25zKXtcblxuICAgICAgICAgICAgLy8gdG9kbyBtYWtlIF92YXJzIHJlYWxseSBwcml2YXRlXG4gICAgICAgICAgICAvLyB0b2RvIG1ha2UgdXNlZnVsIHZhcnMgc2luY2UgdGhpcyBjbGFzcyBpcyBub3QgcHVibGljIGJ1dCBpcyByZXR1cm5lZCBpbiAucHJvZ3Jlc3MoKSBjYWxsYmFja1xuICAgICAgICAgICAgdGhpcy5fc2V0dGluZ3MgID0gJC5leHRlbmQodHJ1ZSwge1xuICAgICAgICAgICAgICAgIHNyY0F0dHIgICAgIDogJ2RhdGEtc3JjJyxcbiAgICAgICAgICAgICAgICBzcmNzZXRBdHRyICA6ICdkYXRhLXNyY3NldCcsXG4gICAgICAgICAgICAgICAgcGxheXRocm91Z2ggOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2aXNpYmxlICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2lkICAgICAgICA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9pZF9ldmVudCAgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50ICAgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnQgID0gJCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9yZXNvdXJjZSAgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fYnVzeSAgICAgID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMuX2Zvcm1hdCAgICA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuX2RvbmUgICAgICA9ICQubm9vcDtcbiAgICAgICAgICAgIHRoaXMuX3N1Y2Nlc3MgICA9ICQubm9vcDtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yICAgICA9ICQubm9vcDtcblxuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2sgID0gKGUpID0+IHtcblxuICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50LnJlbW92ZURhdGEobmFtZXNwYWNlKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2J1c3kgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGxldCB0aGlzX2FyZ3VtZW50cyA9IFsgdGhpcy5fZWxlbWVudCwgZS50eXBlLCB0aGlzLl9lbGVtZW50LmN1cnJlbnRTcmMgfHwgdGhpcy5fZWxlbWVudC5zcmMsIHRoaXMuX2lkIF07XG5cbiAgICAgICAgICAgICAgICB0aGlzWyBlLnR5cGUgIT09ICdlcnJvcicgPyAnX3N1Y2Nlc3MnIDogJ19lcnJvcicgXS5hcHBseSh0aGlzLCB0aGlzX2FyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZG9uZS5hcHBseSh0aGlzLCB0aGlzX2FyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHNldCByZXNvdXJjZSggZGF0YSApe1xuXG4gICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgIGVsZW1lbnRfcmVzb3VyY2UgPSBpc19odG1sX29iamVjdChkYXRhLnJlc291cmNlKSxcbiAgICAgICAgICAgICAgICBzdHJpbmdfcmVzb3VyY2UgPSB0eXBlb2YgZGF0YS5yZXNvdXJjZSA9PT0gJ3N0cmluZyc7XG5cbiAgICAgICAgICAgIGlmKCAhZWxlbWVudF9yZXNvdXJjZSAmJiAhc3RyaW5nX3Jlc291cmNlIClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX2lkID0gZGF0YS5pZDtcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1hdCA9IGlzX2Zvcm1hdChkYXRhLnJlc291cmNlKS5mb3JtYXQ7XG5cbiAgICAgICAgICAgIGlmKCBzdHJpbmdfcmVzb3VyY2UgKXtcblxuICAgICAgICAgICAgICAgIGxldCBpc19pbWcgPSB0aGlzLl9mb3JtYXQgPT09ICdpbWFnZSc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpc19pbWcgPyAnaW1nJyA6IHRoaXMuX2Zvcm1hdCk7XG5cbiAgICAgICAgICAgICAgICBpZiggaXNfaW1nIClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0dGluZ3Muc3Jjc2V0QXR0ciA9ICdkYXRhLXNyY3NldCc7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0dGluZ3Muc3JjQXR0ciA9ICdkYXRhLXNyYyc7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvdXJjZSA9IGRhdGEucmVzb3VyY2U7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIGVsZW1lbnRfcmVzb3VyY2UgKVxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBkYXRhLnJlc291cmNlO1xuXG4gICAgICAgICAgICB0aGlzLl8kZWxlbWVudCA9ICQodGhpcy5fZWxlbWVudCk7XG5cbiAgICAgICAgICAgIGlmKCBzdHJpbmdfcmVzb3VyY2UgKXtcblxuICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKHRoaXMuX3NldHRpbmdzLnNyY0F0dHIucmVwbGFjZSgnZGF0YS0nLCAnJyksIHRoaXMuX3Jlc291cmNlKVxuICAgICAgICAgICAgICAgICAgICAuZGF0YSh0aGlzLl9zZXR0aW5ncy5zcmNzZXRBdHRyLnJlcGxhY2UoJ2RhdGEtJywgJycpLCB0aGlzLl9yZXNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIodGhpcy5fc2V0dGluZ3Muc3JjQXR0ciwgdGhpcy5fcmVzb3VyY2UpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKHRoaXMuX3NldHRpbmdzLnNyY3NldEF0dHIsIHRoaXMuX3Jlc291cmNlKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9pZF9ldmVudCA9IHRoaXMuXyRlbGVtZW50LmRhdGEobmFtZXNwYWNlKTtcbiAgICAgICAgICAgIHRoaXMuX2J1c3kgPSB0aGlzLl9pZF9ldmVudCAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5faWRfZXZlbnQgPSB0aGlzLl9idXN5ID8gdGhpcy5faWRfZXZlbnQgOiBuYW1lc3BhY2UgKyAnX3VuaXF1ZV8nICsgdGhpcy5fZWxlbWVudC50YWdOYW1lICsgJ18nKyB1bmlxdWVfaWQoKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBzZSBoYSBwcmVzbyBpbiBjYXJpY28gaWwgY2FyaWNhbWVudG8gb3BwdXJlIG5vIHBlciB2YXJpIG1vdGl2aSAow6ggZ2nDoCBjYXJpY2F0bywgbm9uIMOoIG5lbGxhIHZpZXdwb3J0IGV0YylcbiAgICAgICAgICovXG4gICAgICAgIHByb2Nlc3MoKXtcblxuICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICBzcmMgPSB0aGlzLl9zZXR0aW5ncy5zcmNBdHRyLFxuICAgICAgICAgICAgICAgIHNyY19jbGVhbiA9IHRoaXMuX3NldHRpbmdzLnNyY0F0dHIucmVwbGFjZSgnZGF0YS0nLCAnJyk7XG5cbiAgICAgICAgICAgIGlmICggaXNfbG9hZGVkKHRoaXMuX2VsZW1lbnQpICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9idXN5KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudC5vZmYoJy4nICsgdGhpcy5faWRfZXZlbnQpOyAvLyB0b2RvIHRoaXMgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGluIGNhbGxiYWNrXG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxsYmFjayhuZXcgRXZlbnQoIWlzX2Jyb2tlbih0aGlzLl9lbGVtZW50KSA/ICdsb2FkJyA6ICdlcnJvcicpKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgfWVsc2UgaWYoIHRoaXMuX3NldHRpbmdzLnZpc2libGUgJiYgIWlzX3Zpc2libGUodGhpcy5fZWxlbWVudCkgKXtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgfWVsc2V7XG5cbiAgICAgICAgICAgICAgICBpZiggdGhpcy5fZm9ybWF0ID09PSAnaW1hZ2UnICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50W3RoaXMuX2J1c3kgPyAnb24nIDogJ29uZSddKCdsb2FkLicgKyB0aGlzLl9pZF9ldmVudCArICcgZXJyb3IuJyArIHRoaXMuX2lkX2V2ZW50LCB0aGlzLl9jYWxsYmFjayk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICRwaWN0dXJlID0gdGhpcy5fJGVsZW1lbnQuY2xvc2VzdCgncGljdHVyZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3Jjc2V0ID0gdGhpcy5fc2V0dGluZ3Muc3Jjc2V0QXR0cixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyY3NldF9jbGVhbiA9IHRoaXMuX3NldHRpbmdzLnNyY3NldEF0dHIucmVwbGFjZSgnZGF0YS0nLCAnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCRwaWN0dXJlLmxlbmd0aCAmJiAnSFRNTFBpY3R1cmVFbGVtZW50JyBpbiB3aW5kb3cgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZURhdGEoc3Jjc2V0X2NsZWFuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKHNyY3NldClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlRGF0YShzcmNfY2xlYW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoc3JjKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJHBpY3R1cmUuZmluZCgnc291cmNlWycgKyBzcmNzZXQgKyAnXScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3NyY3NldCcsICRwaWN0dXJlLmRhdGEoc3Jjc2V0X2NsZWFuKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlRGF0YShzcmNzZXRfY2xlYW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoc3Jjc2V0KTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fJGVsZW1lbnQuaXMoJ1snICsgc3Jjc2V0ICsgJ10nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Jjc2V0JywgdGhpcy5fJGVsZW1lbnQuZGF0YShzcmNzZXRfY2xlYW4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlRGF0YShzcmNzZXRfY2xlYW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKHNyY3NldCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl8kZWxlbWVudC5pcygnWycgKyBzcmMgKyAnXScpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzcmMnLCB0aGlzLl8kZWxlbWVudC5kYXRhKHNyY19jbGVhbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVEYXRhKHNyY19jbGVhbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoc3JjKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiggdGhpcy5fZm9ybWF0ID09PSAndmlkZW8nIHx8IHRoaXMuX2Zvcm1hdCA9PT0gJ2F1ZGlvJyApe1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX3BsYXl0aHJvdWdoX21vZGVfX25vcm1hbCA9IHRydWUgPT09IHRoaXMuX3NldHRpbmdzLnBsYXl0aHJvdWdoLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfcGxheXRocm91Z2hfbW9kZV9fZnVsbCA9ICdmdWxsJyA9PT0gdGhpcy5fc2V0dGluZ3MucGxheXRocm91Z2gsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICRzb3VyY2VzID0gdGhpcy5fJGVsZW1lbnQuZmluZCgnc291cmNlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19mdWxseV9idWZmZXJlZCA9IGZ1bmN0aW9uKG1lZGlhKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZWRpYS5idWZmZXJlZC5sZW5ndGggJiYgTWF0aC5yb3VuZChtZWRpYS5idWZmZXJlZC5lbmQoMCkpIC8gTWF0aC5yb3VuZChtZWRpYS5zZWVrYWJsZS5lbmQoMCkpID09PSAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBjYWxsX21lZGlhX2xvYWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggJHNvdXJjZXMubGVuZ3RoICl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZWxmID0gdGhpczsgLy8gdG9kbyBhcnJvdyBmdW5jID9cblxuICAgICAgICAgICAgICAgICAgICAgICAgJHNvdXJjZXMuZWFjaChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCAkdCA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICR0LmlzKCdbJyArIHNyYyArICddJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzcmMnLCAkdC5kYXRhKHNyY19jbGVhbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlRGF0YShzcmNfY2xlYW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cihzcmMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxfbWVkaWFfbG9hZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICBbdGhpcy5fYnVzeSA/ICdvbicgOiAnb25lJ10oJ2Vycm9yLicgKyB0aGlzLl9pZF9ldmVudCwgZnVuY3Rpb24oZSl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VzX2Vycm9yX2lkID0gbmFtZXNwYWNlKydfZXJyb3InO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5kYXRhKHNvdXJjZXNfZXJyb3JfaWQsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICRzb3VyY2VzLmxlbmd0aCA9PT0gJHNvdXJjZXMuZmlsdGVyKGZ1bmN0aW9uKCl7IHJldHVybiB0cnVlID09PSAkKHRoaXMpLmRhdGEoc291cmNlc19lcnJvcl9pZCk7IH0pLmxlbmd0aCApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2NhbGxiYWNrKGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuXyRlbGVtZW50LmlzKCdbJyArIHNyYyArICddJykpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzcmMnLCB0aGlzLl8kZWxlbWVudC5kYXRhKHNyY19jbGVhbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVEYXRhKHNyY19jbGVhbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoc3JjKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdGhpcy5fYnVzeSA/ICdvbicgOiAnb25lJ10oJ2Vycm9yLicgKyB0aGlzLl9pZF9ldmVudCwgdGhpcy5fY2FsbGJhY2spO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbF9tZWRpYV9sb2FkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiggY2FsbF9tZWRpYV9sb2FkIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQubG9hZCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBbdGhpcy5fYnVzeSA/ICdvbicgOiAnb25lJ10oJ2xvYWRlZG1ldGFkYXRhLicgKyB0aGlzLl9pZF9ldmVudCwgKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhaXNfcGxheXRocm91Z2hfbW9kZV9fbm9ybWFsICYmICFpc19wbGF5dGhyb3VnaF9tb2RlX19mdWxsIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2sobmV3IEV2ZW50KCdsb2FkJykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGlzX3BsYXl0aHJvdWdoX21vZGVfX2Z1bGwgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9uX3Byb2dyZXNzX3JlcGxhY2VtZW50X2ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNfZXJyb3IgPSB0aGlzLl9lbGVtZW50LnJlYWR5U3RhdGUgPiAwICYmICF0aGlzLl9lbGVtZW50LmR1cmF0aW9uO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaXNfZXJyb3IgfHwgaXNfZnVsbHlfYnVmZmVyZWQodGhpcy5fZWxlbWVudCkgKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuY3VycmVudFRpbWUgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICFpc19lcnJvciAmJiAhdGhpcy5fYnVzeSAmJiB0aGlzLl9lbGVtZW50LnBhdXNlZCAmJiB0aGlzLl8kZWxlbWVudC5pcygnW2F1dG9wbGF5XScpIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5wbGF5KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKG9uX3Byb2dyZXNzX3JlcGxhY2VtZW50X2ludGVydmFsKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrKG5ldyBFdmVudCggIWlzX2Vycm9yID8gJ2xvYWQnIDogJ2Vycm9yJyApKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhdGhpcy5fZWxlbWVudC5wYXVzZWQgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnBhdXNlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggIXRoaXMuX2J1c3kgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmN1cnJlbnRUaW1lICs9IDI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50LmRhdGEodGhpcy5faWRfZXZlbnQsIG9uX3Byb2dyZXNzX3JlcGxhY2VtZW50X2ludGVydmFsKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLl9idXN5ID8gJ29uJyA6ICdvbmUnXSgnY2FucGxheS4nICsgdGhpcy5faWRfZXZlbnQsICgpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggaXNfcGxheXRocm91Z2hfbW9kZV9fZnVsbCAmJiB0aGlzLl9lbGVtZW50LmN1cnJlbnRUaW1lID09PSAwICYmICFpc19mdWxseV9idWZmZXJlZCh0aGlzLl9lbGVtZW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5jdXJyZW50VGltZSsrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMuX2J1c3kgPyAnb24nIDogJ29uZSddKCdjYW5wbGF5dGhyb3VnaC4nICsgdGhpcy5faWRfZXZlbnQsICgpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpc19wbGF5dGhyb3VnaF9tb2RlX19ub3JtYWwgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWxsYmFjayhuZXcgRXZlbnQoJ2xvYWQnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICggIXRoaXMuX2J1c3kgKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudC5kYXRhKG5hbWVzcGFjZSwgdGhpcy5faWRfZXZlbnQpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3Jlc291cmNlID0gdGhpcy5fZWxlbWVudC5jdXJyZW50U3JjIHx8IHRoaXMuX2VsZW1lbnQuc3JjO1xuXG4gICAgICAgICAgICByZXR1cm4gIXRoaXMuX2J1c3k7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGRvbmUoY2FsbGJhY2spe1xuXG4gICAgICAgICAgICBpZiggISQuaXNGdW5jdGlvbihjYWxsYmFjaykgKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5fZG9uZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHN0YXR1cywgcmVzb3VyY2UsIGlkKXtcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBbZWxlbWVudCwgc3RhdHVzLCByZXNvdXJjZSwgaWRdKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgfTtcblxuICAgICAgICBhYm9ydCgpe1xuXG4gICAgICAgICAgICB0aGlzLl8kZWxlbWVudFxuICAgICAgICAgICAgICAgIC5vZmYoJy4nICsgdGhpcy5faWRfZXZlbnQpO1xuXG4gICAgICAgICAgICBpZiggaXNfbG9hZGVkKHRoaXMuX2VsZW1lbnQpIClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgc3JjID0gdGhpcy5fJGVsZW1lbnQuYXR0cignc3Jjc2V0JyksXG4gICAgICAgICAgICAgICAgc3Jjc2V0ID0gdGhpcy5fJGVsZW1lbnQuYXR0cignc3JjJyk7XG5cbiAgICAgICAgICAgIGlmKCB1bmRlZmluZWQgIT09IHNyYyApXG4gICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEodGhpcy5fc2V0dGluZ3Muc3JjQXR0ciwgc3JjKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cih0aGlzLl9zZXR0aW5ncy5zcmNBdHRyLCBzcmMpXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdzcmMnKS5yZW1vdmVBdHRyKCdzcmNzZXQnKTtcblxuICAgICAgICAgICAgaWYoIHVuZGVmaW5lZCAhPT0gc3Jjc2V0IClcbiAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAuZGF0YSh0aGlzLl9zZXR0aW5ncy5zcmNzZXRBdHRyLCBzcmNzZXQpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKHRoaXMuX3NldHRpbmdzLnNyY3NldEF0dHIsIHNyY3NldClcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ3NyYycpLnJlbW92ZUF0dHIoJ3NyY3NldCcpO1xuXG4gICAgICAgIH1cblxuICAgIH1cbiAgICBcbiAgICBjbGFzcyBSZXNvdXJjZXNMb2FkZXIge1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbGxlY3Rpb24sIG9wdGlvbnMpIHtcblxuICAgICAgICAgICAgLy8gdG9kbyBtYWtlIF92YXJzIHJlYWxseSBwcml2YXRlXG4gICAgICAgICAgICB0aGlzLl9jb2xsZWN0aW9uICAgICAgICAgICA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbl9sb2FkZWQgICAgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb25faW5zdGFuY2VzID0gW107XG4gICAgICAgICAgICB0aGlzLl9yZXNvdXJjZXNfbG9hZGVkICAgICA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ19zZXF1ZW50aWFsX2l0ZW1zID0gW107XG5cbiAgICAgICAgICAgIGlmICgkLmlzQXJyYXkoY29sbGVjdGlvbikgJiYgKCB0eXBlb2YgY29sbGVjdGlvblswXSA9PT0gJ3N0cmluZycgfHwgaXNfaHRtbF9vYmplY3QoY29sbGVjdGlvblswXSkgKSlcbiAgICAgICAgICAgICAgICBmb3IgKCBjb25zdCByZXNvdXJjZSBpbiBjb2xsZWN0aW9uIClcbiAgICAgICAgICAgICAgICAgICAgaWYoIGNvbGxlY3Rpb24uaGFzT3duUHJvcGVydHkocmVzb3VyY2UpIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb24ucHVzaCh7IGlkIDogdW5pcXVlX2lkKCksIHJlc291cmNlIDogY29sbGVjdGlvbltyZXNvdXJjZV0gfSk7XG4gICAgICAgICAgICBpZiAoIHR5cGVvZiBjb2xsZWN0aW9uID09PSAnc3RyaW5nJyB8fCBpc19odG1sX29iamVjdChjb2xsZWN0aW9uKSApXG4gICAgICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbi5wdXNoKHsgaWQgOiB1bmlxdWVfaWQoKSwgcmVzb3VyY2UgOiBjb2xsZWN0aW9uIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9zZXR0aW5ncyA9ICQuZXh0ZW5kKHRydWUsIHtcbiAgICAgICAgICAgICAgICBzcmNBdHRyICAgICA6ICdkYXRhLXNyYycsXG4gICAgICAgICAgICAgICAgc3Jjc2V0QXR0ciAgOiAnZGF0YS1zcmNzZXQnLFxuICAgICAgICAgICAgICAgIHBsYXl0aHJvdWdoIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmlzaWJsZSAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSAwO1xuXG4gICAgICAgICAgICB0aGlzLl9kb25lICAgICAgPSAkLm5vb3A7XG4gICAgICAgICAgICB0aGlzLl9wcm9ncmVzcyAgPSAkLm5vb3A7XG4gICAgICAgICAgICB0aGlzLl9zdWNjZXNzICAgPSAkLm5vb3A7XG4gICAgICAgICAgICB0aGlzLl9lcnJvciAgICAgPSAkLm5vb3A7XG5cbiAgICAgICAgICAgIHRoaXMuX2Fib3J0ICAgICA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVkICAgID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlICA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fYnVzeSAgICAgID0gZmFsc2U7XG5cbiAgICAgICAgICAgICh0aGlzLl9sb29wID0gKCkgPT4geyAvLyBzZWxmIGludm9raW5nIHRoaXMuX2xvb3BcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7IC8vIGZvcmNlIGFzeW5jaHJvbnkgKGdpdmVzIHRpbWUgdG8gY2hhaW4gbWV0aG9kcyBzeW5jaHJvbm91c2x5KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvb3AoKTtcbiAgICAgICAgICAgICAgICB9LCAyNSk7XG4gICAgICAgICAgICB9KSgpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBsb29wKCl7XG5cbiAgICAgICAgICAgIGNvbnN0IHNlcXVlbnRpYWxfbW9kZSA9IHRydWUgPT09IHRoaXMuX3NldHRpbmdzLnNlcXVlbnRpYWw7XG5cbiAgICAgICAgICAgIGZvciggbGV0IGkgPSAwOyBpIDwgdGhpcy5fY29sbGVjdGlvbi5sZW5ndGg7IGkrKyApe1xuXG4gICAgICAgICAgICAgICAgaWYoIHRoaXMuX2Fib3J0IClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBsZXQgdGhpc19sb2FkX2lkID0gdGhpcy5fY29sbGVjdGlvbltpXS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdGhpc19sb2FkX2luZGV4ID0gdGhpcy5fY29sbGVjdGlvbl9pbnN0YW5jZXMuZmluZEluZGV4KCB4ID0+IHguaWQgPT09IHRoaXNfbG9hZF9pZCApLFxuICAgICAgICAgICAgICAgICAgICB0aGlzX2xvYWRfaW5zdGFuY2UgPSBuZXcgUmVzb3VyY2VMb2FkZXIodGhpcy5fc2V0dGluZ3MpO1xuXG4gICAgICAgICAgICAgICAgaWYoIHRoaXNfbG9hZF9pbmRleCA9PT0gLTEgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb25faW5zdGFuY2VzLnB1c2goeyBpZCA6IHRoaXNfbG9hZF9pZCwgaW5zdGFuY2UgOiB0aGlzX2xvYWRfaW5zdGFuY2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNfbG9hZF9pbmRleCA9IHRoaXMuX2NvbGxlY3Rpb25faW5zdGFuY2VzLmZpbmRJbmRleCggeCA9PiB4LmlkID09PSB0aGlzX2xvYWRfaWQgKTtcbiAgICAgICAgICAgICAgICB9ZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb2xsZWN0aW9uX2luc3RhbmNlc1t0aGlzX2xvYWRfaW5kZXhdLmluc3RhbmNlID0gdGhpc19sb2FkX2luc3RhbmNlO1xuXG4gICAgICAgICAgICAgICAgdGhpc19sb2FkX2luc3RhbmNlLnJlc291cmNlID0gdGhpcy5fY29sbGVjdGlvbltpXTtcblxuICAgICAgICAgICAgICAgIHRoaXNfbG9hZF9pbnN0YW5jZS5kb25lKChlbGVtZW50LCBzdGF0dXMsIHJlc291cmNlLCBpZCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCB0aGlzLl9jb21wbGV0ZSB8fCB0aGlzLl9hYm9ydCApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGFfcHJvZ3Jlc3MgPSAkLmluQXJyYXkoaWQsIHRoaXMuX2NvbGxlY3Rpb25fbG9hZGVkKSA9PT0gLTE7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGFfcHJvZ3Jlc3MgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb25fbG9hZGVkLnB1c2goaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYnVzeSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2FkZWQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVyY2VudGFnZSA9IHRoaXMuX2xvYWRlZCAvIHRoaXMuX2NvbGxlY3Rpb24ubGVuZ3RoICogMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZXJjZW50YWdlID0gcGFyc2VGbG9hdCh0aGlzLnBlcmNlbnRhZ2UudG9GaXhlZCg0KSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aGlzX3Jlc291cmNlID0geyByZXNvdXJjZSA6IHJlc291cmNlLCBzdGF0dXMgOiBzdGF0dXMgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jlc291cmNlc19sb2FkZWQucHVzaCh0aGlzX3Jlc291cmNlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJvZ3Jlc3MuY2FsbCh0aGlzLCB0aGlzX3Jlc291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbIHN0YXR1cyAhPT0gJ2Vycm9yJyA/ICdfc3VjY2VzcycgOiAnX2Vycm9yJyBdLmNhbGwodGhpcywgdGhpc19yZXNvdXJjZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQoZWxlbWVudCkudHJpZ2dlcihuYW1lc3BhY2VfcHJlZml4ICsgY2FwaXRhbGl6ZShzdGF0dXMpICsgJy4nICsgbmFtZXNwYWNlX3ByZWZpeCwgWyBlbGVtZW50LCByZXNvdXJjZSBdKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIHRoaXMuX2xvYWRlZCA9PT0gdGhpcy5fY29sbGVjdGlvbi5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvbmUuY2FsbCh0aGlzLCB0aGlzLl9yZXNvdXJjZXNfbG9hZGVkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29tcGxldGUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKCBhX3Byb2dyZXNzICYmIHNlcXVlbnRpYWxfbW9kZSApe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGlzLl9wZW5kaW5nX3NlcXVlbnRpYWxfaXRlbXMubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByaW11b3ZlIHRoaXNfbG9hZF9pbnN0YW5jZSBkYSB0aGlzLl9wZW5kaW5nX3NlcXVlbnRpYWxfaXRlbXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuX2J1c3kgPSB0aGlzLl9wZW5kaW5nX3NlcXVlbnRpYWxfaXRlbXNbKCgoSUxfUFJJTU8pKSldLnByb2Nlc3MoKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmKCAhc2VxdWVudGlhbF9tb2RlIHx8ICggc2VxdWVudGlhbF9tb2RlICYmICF0aGlzLl9idXN5ICkgKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9idXN5ID0gdGhpc19sb2FkX2luc3RhbmNlLnByb2Nlc3MoKTtcblxuICAgICAgICAgICAgICAgIGVsc2UgaWYoIHNlcXVlbnRpYWxfbW9kZSAmJiB0aGlzLl9idXN5ICl7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYoICF0aGlzLl9zZXR0aW5ncy52aXNpYmxlIHx8ICggdGhpcy5fc2V0dGluZ3MudmlzaWJsZSAmJiBpc192aXNpYmxlKHRoaXNfbG9hZF9pbnN0YW5jZS5fZWxlbWVudCkgKVxuICAgICAgICAgICAgICAgICAgICAvLyB0b2RvIHB1c2godGhpc19sb2FkX2luc3RhbmNlKSBpbiB0aGlzLl9wZW5kaW5nX3NlcXVlbnRpYWxfaXRlbXNcblxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGRvbmUoY2FsbGJhY2speyAvLyB0b2RvIHJlZmFjdG9yeVxuXG4gICAgICAgICAgICBpZiggISQuaXNGdW5jdGlvbihjYWxsYmFjaykgKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgY29uc3QgX2Z1bmMgPSBmdW5jdGlvbihyZXNvdXJjZXMpe1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgcmVzb3VyY2VzKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmKCB0aGlzLl9jb2xsZWN0aW9uLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2RvbmUgPSBfZnVuYztcblxuICAgICAgICAgICAgICAgIHRoaXMuX2xvb3AoKTtcblxuICAgICAgICAgICAgfWVsc2VcbiAgICAgICAgICAgICAgICBfZnVuYygpO1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgcHJvZ3Jlc3MoY2FsbGJhY2speyAvLyB0b2RvIHJlZmFjdG9yeVxuXG4gICAgICAgICAgICBpZiggISQuaXNGdW5jdGlvbihjYWxsYmFjaykgKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgY29uc3QgX2Z1bmMgPSBmdW5jdGlvbihyZXNvdXJjZSl7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiggdGhpcy5fY29sbGVjdGlvbi5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9ncmVzcyA9IF9mdW5jO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9vcCgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICBzdWNjZXNzKGNhbGxiYWNrKXsgLy8gdG9kbyByZWZhY3RvcnlcblxuICAgICAgICAgICAgaWYoICEkLmlzRnVuY3Rpb24oY2FsbGJhY2spIClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IF9mdW5jID0gZnVuY3Rpb24ocmVzb3VyY2Upe1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgcmVzb3VyY2UpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYoIHRoaXMuX2NvbGxlY3Rpb24ubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc3VjY2VzcyA9IF9mdW5jO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9vcCgpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICBlcnJvcihjYWxsYmFjayl7IC8vIHRvZG8gcmVmYWN0b3J5XG5cbiAgICAgICAgICAgIGlmKCAhJC5pc0Z1bmN0aW9uKGNhbGxiYWNrKSApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICBjb25zdCBfZnVuYyA9IGZ1bmN0aW9uKHJlc291cmNlKXtcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIHJlc291cmNlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmKCB0aGlzLl9jb2xsZWN0aW9uLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gX2Z1bmM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9sb29wKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9O1xuXG4gICAgICAgIGFib3J0KCl7XG5cbiAgICAgICAgICAgIGZvciggY29uc3Qga2V5IGluIHRoaXMuX2NvbGxlY3Rpb25faW5zdGFuY2VzIClcbiAgICAgICAgICAgICAgICB0aGlzLl9jb2xsZWN0aW9uX2luc3RhbmNlc1sga2V5IF0uaW5zdGFuY2UuYWJvcnQoKTtcblxuICAgICAgICAgICAgaWYoIHRoaXMuX2NvbGxlY3Rpb24ubGVuZ3RoIClcbiAgICAgICAgICAgICAgICB0aGlzLl9hYm9ydCA9IHRydWU7XG5cbiAgICAgICAgfTtcblxuICAgIH1cblxuICAgIGNsYXNzIENvbGxlY3Rpb25Qb3B1bGF0b3Ige1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKCRlbGVtZW50LCBvcHRpb25zKSB7XG5cbiAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50ICA9ICRlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudCAgID0gJGVsZW1lbnRbMF07XG5cbiAgICAgICAgICAgIHRoaXMuX3NldHRpbmdzICA9ICQuZXh0ZW5kKHRydWUsIHtcbiAgICAgICAgICAgICAgICBzcmNBdHRyICAgICA6ICdkYXRhLXNyYycsXG4gICAgICAgICAgICAgICAgc3Jjc2V0QXR0ciAgOiAnZGF0YS1zcmNzZXQnLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRzIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcyAgOiBbXVxuICAgICAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbGxlY3QoIG91dHB1dCApIHtcblxuICAgICAgICAgICAgbGV0IGNvbGxlY3Rpb24gPSBbXTtcblxuICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICBpc19wbGFpbl9kYXRhX2NvbGxlY3Rpb24gPSBvdXRwdXQgPT09ICdwbGFpbicsXG5cbiAgICAgICAgICAgICAgICBzcmMgPSB0aGlzLl9zZXR0aW5ncy5zcmNBdHRyLFxuICAgICAgICAgICAgICAgIHNyY3NldCA9IHRoaXMuX3NldHRpbmdzLnNyY3NldEF0dHIsXG5cbiAgICAgICAgICAgICAgICB0YXJnZXRzID0gJ2ltZywgdmlkZW8sIGF1ZGlvJyxcbiAgICAgICAgICAgICAgICB0YXJnZXRzX2V4dGVuZGVkID0gdGFyZ2V0cyArICcsIHBpY3R1cmUsIHNvdXJjZSc7XG5cbiAgICAgICAgICAgIGxldCAkdGFyZ2V0cyA9IHRoaXMuXyRlbGVtZW50LmZpbmQodGFyZ2V0cyk7XG4gICAgICAgICAgICBpZiAodGhpcy5fJGVsZW1lbnQuaXModGFyZ2V0cykpXG4gICAgICAgICAgICAgICAgJHRhcmdldHMgPSAkdGFyZ2V0cy5hZGQodGhpcy5fJGVsZW1lbnQpO1xuICAgICAgICAgICAgJHRhcmdldHMgPSAkdGFyZ2V0cy5maWx0ZXIoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBsZXQgJHQgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXIgPSAnWycrc3JjKyddLCBbJytzcmNzZXQrJ10nO1xuICAgICAgICAgICAgICAgIHJldHVybiAkdC5pcyhmaWx0ZXIpIHx8ICR0LmNoaWxkcmVuKHRhcmdldHNfZXh0ZW5kZWQpLmZpbHRlcihmaWx0ZXIpLmxlbmd0aDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJHRhcmdldHMuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBsZXQgY29sbGVjdGlvbl9pdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50IDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UgOiAkKHRoaXMpLmF0dHIoc3JjKSB8fCAkKHRoaXMpLmF0dHIoc3Jjc2V0KVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiggaXNfcGxhaW5fZGF0YV9jb2xsZWN0aW9uIClcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbl9pdGVtID0gY29sbGVjdGlvbl9pdGVtLmVsZW1lbnQ7XG5cbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLnB1c2goY29sbGVjdGlvbl9pdGVtKTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICh0cnVlID09PSB0aGlzLl9zZXR0aW5ncy5iYWNrZ3JvdW5kcylcbiAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudC5maW5kKCcqJykuYWRkQmFjaygpLm5vdCh0YXJnZXRzX2V4dGVuZGVkKS5maWx0ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCh0aGlzKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnKSAhPT0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIH0pLmVhY2goZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb2xsZWN0aW9uX2l0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50IDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlIDogJCh0aGlzKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnKS5yZXBsYWNlKC91cmxcXChcInx1cmxcXCgnfHVybFxcKHwoKFwiJylcXCkkKS9pZ20sICcnKVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBpc19wbGFpbl9kYXRhX2NvbGxlY3Rpb24gKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbl9pdGVtID0gY29sbGVjdGlvbl9pdGVtLnJlc291cmNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24ucHVzaChjb2xsZWN0aW9uX2l0ZW0pO1xuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy5hdHRyaWJ1dGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHIgaW4gdGhpcy5fc2V0dGluZ3MuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiggdGhpcy5fc2V0dGluZ3MuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShhdHRyKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnQuZmluZCgnWycgKyBhdHRyICsgJ106bm90KCcgKyB0YXJnZXRzX2V4dGVuZGVkICsgJyknKS5lYWNoKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb2xsZWN0aW9uX2l0ZW0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA6ICQodGhpcykuYXR0cihhdHRyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaXNfcGxhaW5fZGF0YV9jb2xsZWN0aW9uIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbl9pdGVtID0gY29sbGVjdGlvbl9pdGVtLnJlc291cmNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbi5wdXNoKGNvbGxlY3Rpb25faXRlbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fJGVsZW1lbnQuaXMoJ1snICsgYXR0ciArICddJykgJiYgIXRoaXMuXyRlbGVtZW50LmlzKHRhcmdldHNfZXh0ZW5kZWQpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29sbGVjdGlvbl9pdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiB0aGlzLl9lbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZTogdGhpcy5fJGVsZW1lbnQuYXR0cihhdHRyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaXNfcGxhaW5fZGF0YV9jb2xsZWN0aW9uIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbl9pdGVtID0gY29sbGVjdGlvbl9pdGVtLnJlc291cmNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbi5wdXNoKGNvbGxlY3Rpb25faXRlbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAkW25hbWVzcGFjZV9tZXRob2RdID0gUmVzb3VyY2VzTG9hZGVyO1xuXG4gICAgbGV0IG1ldGhvZF9jb2xsZWN0aW9uID0gW107XG5cbiAgICAkLmZuW25hbWVzcGFjZV9tZXRob2RdID0gZnVuY3Rpb24ob3B0aW9ucyl7XG5cbiAgICAgICAgbGV0IG9yaWdpbmFsX3VzZXJfb3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICAgICAgaWYoIHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JyApXG4gICAgICAgICAgICBvcHRpb25zID0ge307XG5cbiAgICAgICAgbGV0IHNldHRpbmdzID0gJC5leHRlbmQodHJ1ZSwge1xuXG4gICAgICAgICAgICBzcmNBdHRyICAgICAgIDogJ2RhdGEtc3JjJyxcbiAgICAgICAgICAgIHNyY3NldEF0dHIgICAgOiAnZGF0YS1zcmNzZXQnLFxuXG4gICAgICAgICAgICB2aXNpYmxlICAgICAgIDogZmFsc2UsXG5cbiAgICAgICAgICAgIHNlcXVlbnRpYWwgICAgOiBmYWxzZSxcblxuICAgICAgICAgICAgYmFja2dyb3VuZHMgICA6IGZhbHNlLFxuICAgICAgICAgICAgZXh0cmFBdHRycyAgICA6IFtdLFxuXG4gICAgICAgICAgICBwbGF5dGhyb3VnaCAgIDogZmFsc2UsXG5cbiAgICAgICAgICAgIGVhcmx5ICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIGVhcmx5VGltZW91dCAgOiAwLFxuXG4gICAgICAgICAgICBvblByb2dyZXNzICAgIDogJC5ub29wLFxuICAgICAgICAgICAgb25Mb2FkICAgICAgICA6ICQubm9vcCxcbiAgICAgICAgICAgIG9uRXJyb3IgICAgICAgOiAkLm5vb3AsXG5cbiAgICAgICAgICAgIG9uQ29tcGxldGUgICAgOiAkLm5vb3AsXG5cbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgbGV0IGNhbGxiYWNrID0gc2V0dGluZ3Mub25Db21wbGV0ZTtcbiAgICAgICAgaWYoICQuaXNGdW5jdGlvbihvcmlnaW5hbF91c2VyX29wdGlvbnMpIClcbiAgICAgICAgICAgIGNhbGxiYWNrID0gb3JpZ2luYWxfdXNlcl9vcHRpb25zO1xuXG4gICAgICAgIGlmKCAhJC5pc0FycmF5KHNldHRpbmdzLmF0dHJpYnV0ZXMpIClcbiAgICAgICAgICAgIHNldHRpbmdzLmF0dHJpYnV0ZXMgPSBbXTtcbiAgICAgICAgaWYoIHR5cGVvZiBzZXR0aW5ncy5hdHRyaWJ1dGVzID09PSAnc3RyaW5nJyApXG4gICAgICAgICAgICBzZXR0aW5ncy5hdHRyaWJ1dGVzID0gc2V0dGluZ3MuYXR0cmlidXRlcy5zcGxpdCgnICcpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gdGhpcyxcbiAgICAgICAgICAgICAgICAkZWxlbWVudCA9ICQoZWxlbWVudCksXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbiA9IG5ldyBDb2xsZWN0aW9uUG9wdWxhdG9yKCRlbGVtZW50LCBzZXR0aW5ncykuY29sbGVjdCgncGxhaW4nKSxcbiAgICAgICAgICAgICAgICB1bmlxdWVfbWV0aG9kX25hbWVzcGFjZSA9IG5hbWVzcGFjZSArICdfJyArIHVuaXF1ZV9pZCgpLFxuXG4gICAgICAgICAgICAgICAgdGhpc19sb2FkX2luc3RhbmNlID0gbmV3IFJlc291cmNlc0xvYWRlcihjb2xsZWN0aW9uLCBzZXR0aW5ncyk7XG5cbiAgICAgICAgICAgIG1ldGhvZF9jb2xsZWN0aW9uLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkIDogdW5pcXVlX21ldGhvZF9uYW1lc3BhY2UsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgOiB0aGlzX2xvYWRfaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgZWxlbWVudCA6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgdGltZW91dCA6IG51bGxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzX2xvYWRfaW5zdGFuY2UucHJvZ3Jlc3MoZnVuY3Rpb24gKHJlc291cmNlKSB7XG5cbiAgICAgICAgICAgICAgICAkZWxlbWVudC50cmlnZ2VyKG5hbWVzcGFjZV9wcmVmaXgrJ1Byb2dyZXNzLicrbmFtZXNwYWNlX3ByZWZpeCwgW2VsZW1lbnQsIHJlc291cmNlXSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0aGlzX2FyZ3VtZW50cyA9IFsgdGhpc19sb2FkX2luc3RhbmNlLCByZXNvdXJjZSBdO1xuXG4gICAgICAgICAgICAgICAgaWYoICQuaXNGdW5jdGlvbihzZXR0aW5ncy5vblByb2dyZXNzKSApXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uUHJvZ3Jlc3MuYXBwbHkoZWxlbWVudCwgdGhpc19hcmd1bWVudHMpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50X25hbWUgPSBjYXBpdGFsaXplKHJlc291cmNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgaWYoICQuaXNGdW5jdGlvbihzZXR0aW5nc1snb24nK2V2ZW50X25hbWVdKSApXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzWydvbicrZXZlbnRfbmFtZV0uYXBwbHkoZWxlbWVudCwgdGhpc19hcmd1bWVudHMpO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpc19sb2FkX2luc3RhbmNlLmRvbmUoZnVuY3Rpb24ocmVzb3VyY2VzKXtcblxuICAgICAgICAgICAgICAgICRlbGVtZW50LnRyaWdnZXIobmFtZXNwYWNlX3ByZWZpeCArICdDb21wbGV0ZS4nICsgbmFtZXNwYWNlX3ByZWZpeCwgWyBlbGVtZW50LCByZXNvdXJjZXMgXSk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkoZWxlbWVudCwgWyB0aGlzX2xvYWRfaW5zdGFuY2UsIHJlc291cmNlcyBdKTtcblxuICAgICAgICAgICAgICAgIGlmKCBzZXR0aW5ncy52aXNpYmxlIClcbiAgICAgICAgICAgICAgICAgICAgJCggJC5uaXRlICYmICdzY3JvbGwnIGluICQubml0ZSA/ICRkb2N1bWVudCA6ICR3aW5kb3cgKS5vZmYoJ3Njcm9sbC4nICsgdW5pcXVlX21ldGhvZF9uYW1lc3BhY2UpO1xuXG4gICAgICAgICAgICAgICAgLy8gcmVmcmVzaCBvdGhlciBtZXRob2QgY2FsbHMgZm9yIHNhbWUgZWwgKG9taXR0aW5nIHRoaXMgb25lKVxuICAgICAgICAgICAgICAgIG1ldGhvZF9jb2xsZWN0aW9uID0gbWV0aG9kX2NvbGxlY3Rpb24uZmlsdGVyKGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqLmlkICE9PSB1bmlxdWVfbWV0aG9kX25hbWVzcGFjZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmb3IoIGxldCBrZXkgaW4gbWV0aG9kX2NvbGxlY3Rpb24gKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0aGlzX21ldGhvZF9jb2xsZWN0aW9uID0gbWV0aG9kX2NvbGxlY3Rpb25ba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRlbGVtZW50LmlzKHRoaXNfbWV0aG9kX2NvbGxlY3Rpb24uZWxlbWVudCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzX21ldGhvZF9jb2xsZWN0aW9uLmluc3RhbmNlLmxvb3AoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiggc2V0dGluZ3MudmlzaWJsZSApe1xuXG4gICAgICAgICAgICAgICAgaWYoICQubml0ZSAmJiAnc2Nyb2xsJyBpbiAkLm5pdGUgKVxuICAgICAgICAgICAgICAgICAgICAkLm5pdGUuc2Nyb2xsKHVuaXF1ZV9tZXRob2RfbmFtZXNwYWNlLCBmdW5jdGlvbigpeyB0aGlzX2xvYWRfaW5zdGFuY2UubG9vcCgpOyB9LCB7IGZwcyA6IDI1IH0pO1xuXG4gICAgICAgICAgICAgICAgZWxzZXtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aHJvdHRsZV9zY3JvbGxfZXZlbnQgPSBmdW5jdGlvbihmbiwgd2FpdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAoIHRpbWUgKyB3YWl0IC0gRGF0ZS5ub3coKSApIDwgMCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5vbignc2Nyb2xsLicrdW5pcXVlX21ldGhvZF9uYW1lc3BhY2UsIHRocm90dGxlX3Njcm9sbF9ldmVudChmdW5jdGlvbigpeyB0aGlzX2xvYWRfaW5zdGFuY2UubG9vcCgpOyB9LCAxMDAwKSk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIHRydWUgPT09IHNldHRpbmdzLmVhcmx5ICkgZm9yKCBsZXQga2V5IGluIG1ldGhvZF9jb2xsZWN0aW9uIClcbiAgICAgICAgICAgICAgICBpZiggbWV0aG9kX2NvbGxlY3Rpb25ba2V5XS5pZCA9PT0gdW5pcXVlX21ldGhvZF9uYW1lc3BhY2UgKXtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgdGhpc19tZXRob2RfY29sbGVjdGlvbiA9IG1ldGhvZF9jb2xsZWN0aW9uW2tleV07XG5cbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KCB0aGlzX21ldGhvZF9jb2xsZWN0aW9uLnRpbWVvdXQgKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzX21ldGhvZF9jb2xsZWN0aW9uLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvZG8gYXBwcm9wcmlhdGUgbWV0aG9kIGZvciBzZXR0aW5nIHNldHRpbmdzP1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc19tZXRob2RfY29sbGVjdGlvbi5pbnN0YW5jZS5fc2V0dGluZ3MudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc19tZXRob2RfY29sbGVjdGlvbi5pbnN0YW5jZS5fc2V0dGluZ3Muc2VxdWVudGlhbCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfbWV0aG9kX2NvbGxlY3Rpb24uaW5zdGFuY2UubG9vcCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sICQuaXNOdW1lcmljKHNldHRpbmdzLmVhcmx5VGltZW91dCkgPyBwYXJzZUludChzZXR0aW5ncy5lYXJseVRpbWVvdXQpIDogMCApO1xuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxufSkod2luZG93LCBkb2N1bWVudCwgalF1ZXJ5KTsiXX0=
