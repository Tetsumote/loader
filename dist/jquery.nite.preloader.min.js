"use strict";var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(function(a,b,c){"use strict";var d=Math.floor,f="nite",e=f+"Preload",g=e+"er";if(!c)return function(b,c){if(a.console){var d=a.console.log;1===c?a.console.warn&&(d=a.console.warn):2===c?a.console.error&&(d=a.console.error):void 0,d(b)}}("jQuery is needed for "+g+" to work!",2),void 0;var h=c(b),i=c(a),j=function(){return c.nite?c.nite.uniqueId():d(Math.random()*8999)+1e3},k=function(a){var b=c(a),d=!1;if(c.nite)d=c.nite.inViewport(a).ratio;else{var e=a.getBoundingClientRect();d=!(0>e.right||0>e.bottom||e.left>i.width()||e.top>i.height())}return d&&b.is(":visible")&&"hidden"!==b.css("visibility")},l=function(a){if("object"!==("undefined"==typeof a?"undefined":_typeof(a)))return!1;try{return a instanceof HTMLElement}catch(b){return 1===a.nodeType&&"object"===_typeof(a.style)&&"object"===_typeof(a.ownerDocument)}},m=function(a){return l(a)&&(a.complete&&1<=d(a.naturalWidth)&&1<=d(a.naturalHeight)||2<=a.readyState&&0!==a.videoWidth&&0!==a.videoHeight)},n=function(a,b){var d={image:"jp[e]?g|gif|png|tif[f]?|bmp",audio:"mp3|ogg",video:"mp4|ogv|ogg|webm"},e=Object.keys(d),f={format:null,extension:null};if("string"==typeof a){if(a=a.split("?")[0],a=a.split("#")[0],""===a)return!1;var g=void 0===b?e:[b];for(var h in g)if(g.hasOwnProperty(h)&&new RegExp("(.("+d[g[h]]+")$)|"+";base64,","g").test(a))if(/;base64,/g.test(a)){var i=a.match(new RegExp("^data:"+g[h]+"/("+d[g[h]]+")","g"));if(!i||null===i)continue;i=i[0],f.format=i.replace("data:"+g[h]+"/g","");break}else{var j=a.match(new RegExp(d[g[h]],"g"));if(j){f.format=g[h],f.extension=j[0];break}}}if(l(a)){var k=a.tagName.toLowerCase();-1<c.inArray(k,e)&&(f.format=a.tagName.toLowerCase()),"img"===k&&(f.format="image")}return f},o=function(){function d(a){_classCallCheck(this,d);var b=this;this._settings=c.extend(!0,{playthrough:!1,srcsetAttr:"data-srcset",srcAttr:"data-src",visible:!1},a),this._id=null,this._id_event=null,this._element=null,this._$element=c(),this._resource=null,this._process=!1,this._format=null,this._callback=c.noop,this._done=function(a){if(!b._process){var c=a.type.charAt(0).toUpperCase()+a.type.slice(1);b._$element.trigger(f+c+"."+f,[b._$element])}b._callback.call(null,b._id,b._element.currentSrc||b._element.src)}}return _createClass(d,[{key:"process",value:function(){if(!this._settings.visible||k(this._element)){var b=this,d=this._settings.srcAttr,e=this._settings.srcAttr.replace("data-","");if(m(this._element))this._process||this._$element.off("."+this._id_event),this._done(new Event(c.isNumeric(this._element.naturalWidth)?f+"Load":f+"Error"));else{if("image"===this._format){this._$element[this._process?"on":"one"]("load."+this._id_event+" error."+this._id_event,this._done);var h=this._$element.closest("picture"),i=this._settings.srcsetAttr,j=this._settings.srcsetAttr.replace("data-","");h.length&&"HTMLPictureElement"in a?(this._$element.removeData(j).removeAttr(i).removeData(e).removeAttr(d),h.find("source["+i+"]").attr("srcset",h.data(j)).removeData(j).removeAttr(i)):(this._$element.is("["+i+"]")&&this._$element.attr("srcset",this._$element.data(j)).removeData(j).removeAttr(i),this._$element.is("["+d+"]")&&this._$element.attr("src",this._$element.data(e)).removeData(e).removeAttr(d))}if("video"===this._format||"audio"===this._format){var l=this._$element.find("source"),n=!1;l.length?l.each(function(){c(this).is("["+d+"]")&&(c(this).attr("src",c(this).data(e)).removeData(e).removeAttr(d),n=!0)}):this._$element.is("["+d+"]")&&(this._$element.attr("src",this._$element.data(e)).removeData(e).removeAttr(d),n=!0),n&&this._element.load(),this._$element[this._process?"on":"one"]("loadedmetadata."+this._id_event,function(){!0!==b._settings.playthrough&&"force"!==b._settings.playthrough&&b._done(new Event("load"))})[b._process?"on":"one"]("progress."+b._id_event,function(){if("force"===b._settings.playthrough){var a=this;setTimeout(function(){var d=Math.round;return 0<a.readyState&&!a.duration?void b._done(new Event("error")):void(!b._process&&(!a.paused&&a.pause(),a.currentTime+=2),a.buffered.length&&1==d(a.buffered.end(0))/d(a.seekable.end(0))&&(a.currentTime=0,!b._process&&c(a).is("[autoplay]")&&a.play(),b._done(new Event("load"))))},25)}})[this._process?"on":"one"]("canplaythrough."+this._id_event,function(){!0===b._settings.playthrough&&b._done(new Event("load"))})[this._process?"on":"one"]("error."+this._id_event,b._done)}this._process||this._$element.data(g,this._id_event)}this._resource=this._element.currentSrc||this._element.src}}},{key:"abort",value:function(){if(this._$element.off("."+this._id_event),!m(this._element)){var a=this._$element.attr("srcset"),b=this._$element.attr("src");void 0!==a&&this._$element.data(this._settings.srcAttr,a).attr(this._settings.srcAttr,a).removeAttr("src").removeAttr("srcset"),void 0!==b&&this._$element.data(this._settings.srcsetAttr,b).attr(this._settings.srcsetAttr,b).removeAttr("src").removeAttr("srcset")}}},{key:"done",value:function(a){if(c.isFunction(a)){var b=this;this._callback=function(c){a.call(b,c)}}}},{key:"resource",set:function(a){var d=l(a.resource),e="string"==typeof a.resource;if(d||e){if(this._id=a.id,this._format=n(a.resource).format,e){var f="image"===this._format;this._element=b.createElement(f?"img":this._format),f&&(this._settings.srcsetAttr="data-srcset"),this._settings.srcAttr="data-src",this._resource=a.resource}d&&(this._element=a.resource),this._$element=c(this._element),e&&this._$element.data(this._settings.srcAttr.replace("data-",""),this._resource).data(this._settings.srcsetAttr.replace("data-",""),this._resource).attr(this._settings.srcAttr,this._resource).attr(this._settings.srcsetAttr,this._resource),this._id_event=this._$element.data(g),this._process=void 0!==this._id_event,this._id_event=this._process?this._id_event:g+"_unique_"+j()}}}]),d}(),p=function(){function a(b,d){if(_classCallCheck(this,a),this._collection=[],this._collection_loaded=[],this._collection_instances=[new o(this._settings)],c.isArray(b)&&("string"==typeof b[0]||l(b[0])))for(var e in b)b.hasOwnProperty(e)&&this._collection.push({id:j(),resource:b[e]});("string"==typeof b||l(b))&&this._collection.push({id:j(),resource:b}),this._settings=c.extend(!0,{sequential:!1},d),this.percentage=0,this._callback=c.noop(),this._progress=c.noop(),this._abort=!1,this._complete=!1,this._loaded=0,this.loop()}return _createClass(a,[{key:"loop",value:function(){var a=this;if(this._collection.length){if(!0===this._complete)return void a._callback.call(null);for(var b,d=0;d<this._collection.length&&!this._abort;d++)b=new o(this._settings),this._collection_instances.push(b),b.resource=this._collection[d],b.process(),b.done(function(b,d){-1===c.inArray(b,a._collection_loaded)&&(a._loaded++,a._collection_loaded.push(b),a.percentage=100*(a._loaded/a._collection.length),a._progress.call(null,d)),a._loaded>a._collection.length||a._abort||a._loaded===a._collection.length&&(a._callback.call(null),a._complete=!0)})}}},{key:"done",value:function(a){if(!c.isFunction(a))return!1;var b=this,d=function(){a.call(b)};return this._collection.length?this._callback=d:d(),!0}},{key:"progress",value:function(a){if(!c.isFunction(a))return!1;var b=this,d=function(c){a.call(b,c)};return this._collection.length?this._progress=d:d(),!0}},{key:"abort",value:function(){for(var a in this._collection_instances)this._collection_instances[a].abort();this._collection.length&&(this._abort=!0)}}]),a}(),q=function(){function a(b,c){_classCallCheck(this,a),this._$element=b,this._settings=c}return _createClass(a,[{key:"collect",value:function(){var a=[],b="img, video, audio",d=b+", picture, source",e=this._$element.find(b);if(this._$element.is(b)&&e.add(this._$element),e.each(function(){a.push(this)}),!0===this._settings.backgrounds&&this._$element.find("*").addBack().not(d).filter(function(){return"none"!==c(this).css("background-image")}).each(function(){a.push(c(this).css("background-image").replace(/url\("|url\('|url\(|(("')\)$)/igm,""))}),this._settings.attributes.length){var f=function(b){this._settings.attributes.hasOwnProperty(b)&&(this._$element.find("["+b+"]:not("+d+")").each(function(){a.push(c(this).attr(b))}),this._$element.is("["+b+"]")&&!this._$element.is(d)&&a.push(this._$element.attr(b)))};for(const a in this._settings.attributes)f(a)}return a}}]),a}();c[e]=p,c.fn[e]=function(a,b){c.isFunction(a)&&(b=a),c.isFunction(b)||(b=c.noop),"object"!==("undefined"==typeof a?"undefined":_typeof(a))&&(a={});var d=c.extend(!0,{srcAttr:"data-src",srcsetAttr:"data-srcset",visible:!1,sequential:!1,backgrounds:!1,extraAttrs:[],playthrough:!1},a);return c.isArray(d.attributes)||(d.attributes=[]),"string"==typeof d.attributes&&(d.attributes=d.attributes.split(" ")),this.each(function(){var a=!1,e=this,k=c(e),l=new q(k,d).collect(),m=g+"_"+j(),n=function(){c.nite?h.off("scroll."+m):i.off("scroll."+m),k.removeData(g),a=!0},o=k.data(g);if(void 0!==o&&(o.abort(),n()),o=new p(l,d),o.progress(function(){k.trigger(f+"Progress."+f,[k])}),o.done(function(){a||(n(),k.trigger(f+"Load."+f,[k]),b.call(e),b=c.noop)}),k.data(g,o),d.visible)if(c.nite)c.nite.scroll(m,function(){o.loop()},{fps:25});else{var r=function(a,b){var c=Date.now();return function(){0>c+b-Date.now()&&(a(),c=Date.now())}};i.on("scroll."+m,r(function(){o.loop()},1e3))}})}})(window,document,jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5uaXRlLnByZWxvYWRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiMGtCQUFBLENBQ0EsQ0FBQyxBQUFTLEFBQVEsQUFBVSxBQUFHLGVBQVUsQUFDckMsQ0FFQSxtQkF5QzRDLEtBQUEsQUFBSyxNQXhDN0MsRUFESixBQUN1QixPQUNuQixFQUFtQixFQUZ2QixBQUV3QyxVQUNwQyxFQUFZLEVBSGhCLEFBR2lDLEFBQzdCLFFBdUJKLEFBQUksQUFBQyxBQUFJLEFBQ0wsR0FDQSxBQUFPLEFBQ1YsQUFDRCxBQUdBLE1BOUJJLEFBQVcsQUFBUyxBQUFTLGNBQU0sQUFFL0IsQ0FBSSxHQUFDLEVBQUwsQUFBWSxBQUNSLEFBRUosWUFBSSxHQUFVLEVBQUEsQUFBTyxRQUFyQixBQUE2QixBQUU3QixBQUFPLEFBQ0gsSUFBQSxBQUFLLEFBQ0QsTUFBSSxFQUFBLEFBQU8sUUFBWCxBQUFtQixPQUNmLEVBQVUsRUFBQSxBQUFPLFFBQWpCLEFBQXlCLEFBQzdCLEFBQ0osTUFBQSxBQUFLLEFBQ0QsTUFBSSxFQUFBLEFBQU8sUUFBWCxBQUFtQixRQUNmLEVBQVUsRUFBQSxBQUFPLFFBUDdCLEFBT1ksQUFBeUIsQUFDN0IsQUFHUixjQUFBLEFBQVEsQUFFWCxLQXhCTCxBQTBCQSxBQUNBLEVBQ2EsQUFBd0IsMEJBQWpDLEFBQTJDLFlBQTNDLEFBQXdELEFBQ3hELGFBT0EsR0FGSixBQUVnQixBQUFFLEtBQ2QsRUFISixBQUdjLEFBQUUsS0FFWixFQUFBLEFBQVksVUFBVSxBQUVsQixPQUFPLEdBQUEsQUFBRSxLQUFPLEVBQUEsQUFBRSxLQUFYLEFBQVMsQUFBTyxhQUF3QixLQUEvQyxBQUFvQyxBQUFXLEFBQUssQUFBWSxBQUFPLEFBQVMsQUFFbkYsa0JBVEwsRUFXSSxFQUFBLEFBQWEsQUFBUyxXQUFRLEFBRTFCLElBQU0sR0FBTixBQUFZLEFBQUUsQUFFZCxLQUFBLEFBQUksQUFBYyxBQUVsQixRQUFJLEVBQUosQUFBTSxLQUNGLEVBQWMsRUFBQSxB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QU8sQUFvRlYsRUFsSEQsQUFvSEgsQ0F6eEJELEdBQUEsQUF5eEJHLE9BenhCSCxBQXl4QlcsU0F6eEJYLEFBeXhCcUIiLCJmaWxlIjoianF1ZXJ5Lm5pdGUucHJlbG9hZGVyLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISBKUXVlcnkgSGVhdnkgUmVzb3VyY2VzTG9hZGVyIHwgRGFuaWVsZSBGaW9yb25pIHwgZGZpb3Jvbmk5MUBnbWFpbC5jb20gKi9cbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCAkLCB1bmRlZmluZWQpe1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGNvbnN0XG4gICAgICAgIG5hbWVzcGFjZV9wcmVmaXggPSAnbml0ZScsXG4gICAgICAgIG5hbWVzcGFjZV9tZXRob2QgPSBuYW1lc3BhY2VfcHJlZml4KydQcmVsb2FkJyxcbiAgICAgICAgbmFtZXNwYWNlID0gbmFtZXNwYWNlX21ldGhvZCsnZXInLFxuICAgICAgICBfY29uc29sZSA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGxldmVsKXtcblxuICAgICAgICAgICAgaWYoICF3aW5kb3cuY29uc29sZSApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICBsZXQgZGlzcGxheSA9IHdpbmRvdy5jb25zb2xlLmxvZztcblxuICAgICAgICAgICAgc3dpdGNoKGxldmVsKXtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmKCB3aW5kb3cuY29uc29sZS53YXJuIClcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgPSB3aW5kb3cuY29uc29sZS53YXJuO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmKCB3aW5kb3cuY29uc29sZS5lcnJvciApXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gd2luZG93LmNvbnNvbGUuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkaXNwbGF5KG1lc3NhZ2UpO1xuXG4gICAgICAgIH07XG5cbiAgICAvLyB+IH4gfiB+IH4gfiB+IH4gfiB+IH4gflxuICAgIGlmKCAhJCApIHtcbiAgICAgICAgX2NvbnNvbGUoJ2pRdWVyeSBpcyBuZWVkZWQgZm9yICcrbmFtZXNwYWNlKycgdG8gd29yayEnLCAyKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gfiB+IH4gfiB+IH4gfiB+IH4gfiB+IH5cblxuXG4gICAgY29uc3RcblxuICAgICAgICAkZG9jdW1lbnQgPSAkKGRvY3VtZW50KSxcbiAgICAgICAgJHdpbmRvdyA9ICQod2luZG93KSxcblxuICAgICAgICB1bmlxdWVfaWQgPSBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICByZXR1cm4gJC5uaXRlID8gJC5uaXRlLnVuaXF1ZUlkKCkgOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoOTk5OSAtIDEwMDApKSArIDEwMDA7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBpc192aXNpYmxlID0gZnVuY3Rpb24oZWxlbWVudCl7XG5cbiAgICAgICAgICAgIGNvbnN0ICRlbCA9ICQoZWxlbWVudCk7XG5cbiAgICAgICAgICAgIGxldCBpbl92aWV3cG9ydCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiggJC5uaXRlIClcbiAgICAgICAgICAgICAgICBpbl92aWV3cG9ydCA9ICQubml0ZS5pblZpZXdwb3J0KGVsZW1lbnQpLnJhdGlvO1xuXG4gICAgICAgICAgICBlbHNle1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgICAgICBpbl92aWV3cG9ydCA9ICEoIHJlY3QucmlnaHQgPCAwIHx8IHJlY3QuYm90dG9tIDwgMCB8fCByZWN0LmxlZnQgPiAkd2luZG93LndpZHRoKCkgfHwgcmVjdC50b3AgPiAkd2luZG93LmhlaWdodCgpICk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGluX3ZpZXdwb3J0ICYmICRlbC5pcygnOnZpc2libGUnKSAmJiAkZWwuY3NzKCd2aXNpYmlsaXR5JykgIT09ICdoaWRkZW4nO1xuXG4gICAgICAgIH0sXG5cbiAgICAgICAgaXNfaHRtbF9vYmplY3QgPSBmdW5jdGlvbiggb2JqZWN0ICl7XG5cbiAgICAgICAgICAgIGlmKCB0eXBlb2Ygb2JqZWN0ICE9PSAnb2JqZWN0JyApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoKGUpe1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Qubm9kZVR5cGUgPT09IDEgJiYgdHlwZW9mIG9iamVjdC5zdHlsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iamVjdC5vd25lckRvY3VtZW50ID09PSAnb2JqZWN0JztcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIGlzX2xvYWRlZCA9IGZ1bmN0aW9uKGVsZW1lbnQpe1xuXG4gICAgICAgICAgICByZXR1cm4gaXNfaHRtbF9vYmplY3QoZWxlbWVudCkgJiYgKFxuICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jb21wbGV0ZSAmJlxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKGVsZW1lbnQubmF0dXJhbFdpZHRoKSA+PSAxICYmXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoZWxlbWVudC5uYXR1cmFsSGVpZ2h0KSA+PSAxXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHx8XG4gICAgICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlYWR5U3RhdGUgPj0gMiAmJlxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnZpZGVvV2lkdGggIT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC52aWRlb0hlaWdodCAhPT0gMFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIGlzX2Zvcm1hdCA9IGZ1bmN0aW9uKCBpdGVtLCBleHBlY3RlZF9mb3JtYXQgKXtcblxuICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICBmb3JtYXRfZXh0ZW5zaW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2UgOiAnanBbZV0/Z3xnaWZ8cG5nfHRpZltmXT98Ym1wJyxcbiAgICAgICAgICAgICAgICAgICAgYXVkaW8gOiAnbXAzfG9nZycsXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvIDogJ21wNHxvZ3Z8b2dnfHdlYm0nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmb3JtYXRfbmFtZXMgPSBPYmplY3Qua2V5cyhmb3JtYXRfZXh0ZW5zaW9ucyksXG4gICAgICAgICAgICAgICAgYmFzZTY0X2hlYWRpbmcgPSAnXFw7YmFzZTY0XFwsJztcblxuICAgICAgICAgICAgbGV0IG91dHB1dCA9IHsgZm9ybWF0OiBudWxsLCBleHRlbnNpb246IG51bGwgfTtcblxuICAgICAgICAgICAgaWYoIHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJyApIHtcblxuICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnNwbGl0KCc/JylbMF07IC8vIGdldCByaWQgb2YgcXVlcnkgc3RyaW5nc1xuICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnNwbGl0KCcjJylbMF07IC8vIGdldCByaWQgb2YgaGFzaGVzXG5cbiAgICAgICAgICAgICAgICBpZiAoaXRlbSA9PT0gJycpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGxldCBmb3JtYXRfcXVldWUgPSB1bmRlZmluZWQgIT09IGV4cGVjdGVkX2Zvcm1hdCA/IFsgZXhwZWN0ZWRfZm9ybWF0IF0gOiBmb3JtYXRfbmFtZXM7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHggaW4gZm9ybWF0X3F1ZXVlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1hdF9xdWV1ZS5oYXNPd25Qcm9wZXJ0eSh4KSl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKCcoXFwuKCcgKyBmb3JtYXRfZXh0ZW5zaW9uc1tmb3JtYXRfcXVldWVbeF1dICsgJykkKXwnICsgYmFzZTY0X2hlYWRpbmcsICdnJykudGVzdChpdGVtKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAoYmFzZTY0X2hlYWRpbmcsICdnJykudGVzdChpdGVtKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaGVzNjQgPSBpdGVtLm1hdGNoKG5ldyBSZWdFeHAoJ15kYXRhOicgKyBmb3JtYXRfcXVldWVbeF0gKyAnXFwvKCcgKyBmb3JtYXRfZXh0ZW5zaW9uc1tmb3JtYXRfcXVldWVbeF1dICsgJyknLCAnZycpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFtYXRjaGVzNjQgfHwgbnVsbCA9PT0gbWF0Y2hlczY0IClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXM2NCA9IG1hdGNoZXM2NFswXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQuZm9ybWF0ID0gbWF0Y2hlczY0LnJlcGxhY2UoJ2RhdGE6JyArIGZvcm1hdF9xdWV1ZVt4XSArICcvZycsICcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoZXMgPSBpdGVtLm1hdGNoKG5ldyBSZWdFeHAoZm9ybWF0X2V4dGVuc2lvbnNbZm9ybWF0X3F1ZXVlW3hdXSwgJ2cnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmZvcm1hdCA9IGZvcm1hdF9xdWV1ZVt4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5leHRlbnNpb24gPSBtYXRjaGVzWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIGlzX2h0bWxfb2JqZWN0KGl0ZW0pICl7XG5cbiAgICAgICAgICAgICAgICBsZXQgdGFnX25hbWUgPSBpdGVtLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiggJC5pbkFycmF5KHRhZ19uYW1lLCBmb3JtYXRfbmFtZXMpID4gLTEgKVxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQuZm9ybWF0ID0gaXRlbS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgICAgICBpZiggdGFnX25hbWUgPT09ICdpbWcnIClcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmZvcm1hdCA9ICdpbWFnZSc7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICBcbiAgICAgICAgfTtcblxuICAgIGNsYXNzIFJlc291cmNlTG9hZGVyIHtcblxuICAgICAgICBjb25zdHJ1Y3RvcihvcHRpb25zKXtcblxuICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuX3NldHRpbmdzICA9ICQuZXh0ZW5kKHRydWUsIHtcbiAgICAgICAgICAgICAgICBwbGF5dGhyb3VnaCAgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzcmNzZXRBdHRyICAgOiAnZGF0YS1zcmNzZXQnLFxuICAgICAgICAgICAgICAgIHNyY0F0dHIgICAgICA6ICdkYXRhLXNyYycsXG4gICAgICAgICAgICAgICAgdmlzaWJsZSAgICAgIDogZmFsc2VcbiAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICB0aGlzLl9pZCAgICAgICAgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5faWRfZXZlbnQgID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudCAgID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50ICA9ICQoKTtcblxuICAgICAgICAgICAgdGhpcy5fcmVzb3VyY2UgID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3MgICA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLl9mb3JtYXQgICAgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFjayAgPSAkLm5vb3A7XG4gICAgICAgICAgICB0aGlzLl9kb25lICAgICAgPSBmdW5jdGlvbihlKXtcblxuICAgICAgICAgICAgICAgIGlmKCAhc2VsZi5fcHJvY2VzcyApIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmlnZ2VyX2V2ZW50ID0gZS50eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZS50eXBlLnNsaWNlKDEpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuXyRlbGVtZW50LnRyaWdnZXIobmFtZXNwYWNlX3ByZWZpeCArIHRyaWdnZXJfZXZlbnQgKyAnLicgKyBuYW1lc3BhY2VfcHJlZml4LCBbc2VsZi5fJGVsZW1lbnRdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzZWxmLl9jYWxsYmFjay5jYWxsKG51bGwgLyogdG9kbyBjb250ZXh0ICovLCBzZWxmLl9pZCwgc2VsZi5fZWxlbWVudC5jdXJyZW50U3JjIHx8IHNlbGYuX2VsZW1lbnQuc3JjKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICB9XG5cbiAgICAgICAgc2V0IHJlc291cmNlKCBkYXRhICl7XG5cbiAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgZWxlbWVudF9yZXNvdXJjZSA9IGlzX2h0bWxfb2JqZWN0KGRhdGEucmVzb3VyY2UpLFxuICAgICAgICAgICAgICAgIHN0cmluZ19yZXNvdXJjZSA9IHR5cGVvZiBkYXRhLnJlc291cmNlID09PSAnc3RyaW5nJztcblxuICAgICAgICAgICAgaWYoICFlbGVtZW50X3Jlc291cmNlICYmICFzdHJpbmdfcmVzb3VyY2UgKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5faWQgPSBkYXRhLmlkO1xuICAgICAgICAgICAgdGhpcy5fZm9ybWF0ID0gaXNfZm9ybWF0KGRhdGEucmVzb3VyY2UpLmZvcm1hdDtcblxuICAgICAgICAgICAgaWYoIHN0cmluZ19yZXNvdXJjZSApe1xuXG4gICAgICAgICAgICAgICAgbGV0IGlzX2ltZyA9IHRoaXMuX2Zvcm1hdCA9PT0gJ2ltYWdlJztcblxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGlzX2ltZyA/ICdpbWcnIDogdGhpcy5fZm9ybWF0KTtcblxuICAgICAgICAgICAgICAgIGlmKCBpc19pbWcgKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXR0aW5ncy5zcmNzZXRBdHRyID0gJ2RhdGEtc3Jjc2V0JztcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXR0aW5ncy5zcmNBdHRyID0gJ2RhdGEtc3JjJztcblxuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc291cmNlID0gZGF0YS5yZXNvdXJjZTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiggZWxlbWVudF9yZXNvdXJjZSApXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IGRhdGEucmVzb3VyY2U7XG5cbiAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50ID0gJCh0aGlzLl9lbGVtZW50KTtcblxuICAgICAgICAgICAgaWYoIHN0cmluZ19yZXNvdXJjZSApe1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEodGhpcy5fc2V0dGluZ3Muc3JjQXR0ci5yZXBsYWNlKCdkYXRhLScsICcnKSwgdGhpcy5fcmVzb3VyY2UpXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKHRoaXMuX3NldHRpbmdzLnNyY3NldEF0dHIucmVwbGFjZSgnZGF0YS0nLCAnJyksIHRoaXMuX3Jlc291cmNlKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cih0aGlzLl9zZXR0aW5ncy5zcmNBdHRyLCB0aGlzLl9yZXNvdXJjZSlcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIodGhpcy5fc2V0dGluZ3Muc3Jjc2V0QXR0ciwgdGhpcy5fcmVzb3VyY2UpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2lkX2V2ZW50ID0gdGhpcy5fJGVsZW1lbnQuZGF0YShuYW1lc3BhY2UpO1xuICAgICAgICAgICAgdGhpcy5fcHJvY2VzcyAgPSB0aGlzLl9pZF9ldmVudCAhPT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5faWRfZXZlbnQgPSB0aGlzLl9wcm9jZXNzID8gdGhpcy5faWRfZXZlbnQgOiBuYW1lc3BhY2UgKyAnX3VuaXF1ZV8nICsgdW5pcXVlX2lkKCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHByb2Nlc3MoKXtcblxuICAgICAgICAgICAgaWYoIHRoaXMuX3NldHRpbmdzLnZpc2libGUgJiYgIWlzX3Zpc2libGUodGhpcy5fZWxlbWVudCkgKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICBzcmMgPSB0aGlzLl9zZXR0aW5ncy5zcmNBdHRyLFxuICAgICAgICAgICAgICAgIHNyY19jbGVhbiA9IHRoaXMuX3NldHRpbmdzLnNyY0F0dHIucmVwbGFjZSgnZGF0YS0nLCAnJyk7XG5cbiAgICAgICAgICAgIGlmICggaXNfbG9hZGVkKHRoaXMuX2VsZW1lbnQpICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9wcm9jZXNzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudC5vZmYoJy4nICsgdGhpcy5faWRfZXZlbnQpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZG9uZShuZXcgRXZlbnQoJC5pc051bWVyaWModGhpcy5fZWxlbWVudC5uYXR1cmFsV2lkdGgpID8gbmFtZXNwYWNlX3ByZWZpeCsnTG9hZCcgOiBuYW1lc3BhY2VfcHJlZml4KydFcnJvcicpKTtcblxuICAgICAgICAgICAgfWVsc2V7XG5cbiAgICAgICAgICAgICAgICBpZiggdGhpcy5fZm9ybWF0ID09PSAnaW1hZ2UnICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50W3RoaXMuX3Byb2Nlc3MgPyAnb24nIDogJ29uZSddKCdsb2FkLicgKyB0aGlzLl9pZF9ldmVudCArICcgZXJyb3IuJyArIHRoaXMuX2lkX2V2ZW50LCB0aGlzLl9kb25lKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgICAgICAgICAgJHBpY3R1cmUgPSB0aGlzLl8kZWxlbWVudC5jbG9zZXN0KCdwaWN0dXJlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzcmNzZXQgPSB0aGlzLl9zZXR0aW5ncy5zcmNzZXRBdHRyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3Jjc2V0X2NsZWFuID0gdGhpcy5fc2V0dGluZ3Muc3Jjc2V0QXR0ci5yZXBsYWNlKCdkYXRhLScsICcnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJHBpY3R1cmUubGVuZ3RoICYmICdIVE1MUGljdHVyZUVsZW1lbnQnIGluIHdpbmRvdyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlRGF0YShzcmNzZXRfY2xlYW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoc3Jjc2V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVEYXRhKHNyY19jbGVhbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cihzcmMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkcGljdHVyZS5maW5kKCdzb3VyY2VbJyArIHNyY3NldCArICddJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Jjc2V0JywgJHBpY3R1cmUuZGF0YShzcmNzZXRfY2xlYW4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVEYXRhKHNyY3NldF9jbGVhbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cihzcmNzZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl8kZWxlbWVudC5pcygnWycgKyBzcmNzZXQgKyAnXScpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzcmNzZXQnLCB0aGlzLl8kZWxlbWVudC5kYXRhKHNyY3NldF9jbGVhbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVEYXRhKHNyY3NldF9jbGVhbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoc3Jjc2V0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuXyRlbGVtZW50LmlzKCdbJyArIHNyYyArICddJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3NyYycsIHRoaXMuXyRlbGVtZW50LmRhdGEoc3JjX2NsZWFuKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZURhdGEoc3JjX2NsZWFuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cihzcmMpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggdGhpcy5fZm9ybWF0ID09PSAndmlkZW8nIHx8IHRoaXMuX2Zvcm1hdCA9PT0gJ2F1ZGlvJyApe1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0ICRzb3VyY2VzID0gdGhpcy5fJGVsZW1lbnQuZmluZCgnc291cmNlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNhbGxfbWVkaWFfbG9hZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCAkc291cmNlcy5sZW5ndGggKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJHNvdXJjZXMuZWFjaChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggJCh0aGlzKS5pcygnWycgKyBzcmMgKyAnXScpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzcmMnLCAkKHRoaXMpLmRhdGEoc3JjX2NsZWFuKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVEYXRhKHNyY19jbGVhbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKHNyYyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbF9tZWRpYV9sb2FkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl8kZWxlbWVudC5pcygnWycgKyBzcmMgKyAnXScpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3JjJywgdGhpcy5fJGVsZW1lbnQuZGF0YShzcmNfY2xlYW4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlRGF0YShzcmNfY2xlYW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKHNyYyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsX21lZGlhX2xvYWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjYWxsX21lZGlhX2xvYWQgKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5sb2FkKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLl9wcm9jZXNzID8gJ29uJyA6ICdvbmUnXSgnbG9hZGVkbWV0YWRhdGEuJyArIHRoaXMuX2lkX2V2ZW50LCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJ1ZSAhPT0gc2VsZi5fc2V0dGluZ3MucGxheXRocm91Z2ggJiYgJ2ZvcmNlJyAhPT0gc2VsZi5fc2V0dGluZ3MucGxheXRocm91Z2gpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2RvbmUobmV3IEV2ZW50KCdsb2FkJykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgW3NlbGYuX3Byb2Nlc3MgPyAnb24nIDogJ29uZSddKCdwcm9ncmVzcy4nICsgc2VsZi5faWRfZXZlbnQsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggJ2ZvcmNlJyA9PT0gc2VsZi5fc2V0dGluZ3MucGxheXRocm91Z2gpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZWRpYSA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZWRpYS5yZWFkeVN0YXRlID4gMCAmJiAhbWVkaWEuZHVyYXRpb24pIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2RvbmUobmV3IEV2ZW50KCdlcnJvcicpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYuX3Byb2Nlc3MpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWVkaWEucGF1c2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWRpYS5wYXVzZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWEuY3VycmVudFRpbWUgKz0gMjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVkaWEuYnVmZmVyZWQubGVuZ3RoICYmIE1hdGgucm91bmQobWVkaWEuYnVmZmVyZWQuZW5kKDApKSAvIE1hdGgucm91bmQobWVkaWEuc2Vla2FibGUuZW5kKDApKSA9PT0gMSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWEuY3VycmVudFRpbWUgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLl9wcm9jZXNzICYmICQobWVkaWEpLmlzKCdbYXV0b3BsYXldJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhLnBsYXkoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2RvbmUobmV3IEV2ZW50KCdsb2FkJykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMuX3Byb2Nlc3MgPyAnb24nIDogJ29uZSddKCdjYW5wbGF5dGhyb3VnaC4nICsgdGhpcy5faWRfZXZlbnQsIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggdHJ1ZSA9PT0gc2VsZi5fc2V0dGluZ3MucGxheXRocm91Z2ggKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9kb25lKG5ldyBFdmVudCgnbG9hZCcpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aGlzLl9wcm9jZXNzID8gJ29uJyA6ICdvbmUnXSgnZXJyb3IuJyArIHRoaXMuX2lkX2V2ZW50LCBzZWxmLl9kb25lKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICggIXRoaXMuX3Byb2Nlc3MgKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudC5kYXRhKG5hbWVzcGFjZSwgdGhpcy5faWRfZXZlbnQpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3Jlc291cmNlID0gdGhpcy5fZWxlbWVudC5jdXJyZW50U3JjIHx8IHRoaXMuX2VsZW1lbnQuc3JjO1xuXG4gICAgICAgIH1cblxuICAgICAgICBhYm9ydCgpe1xuXG4gICAgICAgICAgICB0aGlzLl8kZWxlbWVudFxuICAgICAgICAgICAgICAgIC5vZmYoJy4nICsgdGhpcy5faWRfZXZlbnQpO1xuXG4gICAgICAgICAgICBpZiggaXNfbG9hZGVkKHRoaXMuX2VsZW1lbnQpIClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgc3JjID0gdGhpcy5fJGVsZW1lbnQuYXR0cignc3Jjc2V0JyksXG4gICAgICAgICAgICAgICAgc3Jjc2V0ID0gdGhpcy5fJGVsZW1lbnQuYXR0cignc3JjJyk7XG5cbiAgICAgICAgICAgIGlmKCB1bmRlZmluZWQgIT09IHNyYyApXG4gICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEodGhpcy5fc2V0dGluZ3Muc3JjQXR0ciwgc3JjKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cih0aGlzLl9zZXR0aW5ncy5zcmNBdHRyLCBzcmMpXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdzcmMnKS5yZW1vdmVBdHRyKCdzcmNzZXQnKTtcblxuICAgICAgICAgICAgaWYoIHVuZGVmaW5lZCAhPT0gc3Jjc2V0IClcbiAgICAgICAgICAgICAgICB0aGlzLl8kZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAuZGF0YSh0aGlzLl9zZXR0aW5ncy5zcmNzZXRBdHRyLCBzcmNzZXQpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKHRoaXMuX3NldHRpbmdzLnNyY3NldEF0dHIsIHNyY3NldClcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ3NyYycpLnJlbW92ZUF0dHIoJ3NyY3NldCcpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBkb25lKGNhbGxiYWNrKXtcblxuICAgICAgICAgICAgaWYoICEkLmlzRnVuY3Rpb24oY2FsbGJhY2spIClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFjayA9IGZ1bmN0aW9uKHJlc291cmNlKXtcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKGNvbnRleHQsIHJlc291cmNlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgfTtcblxuICAgIH1cbiAgICBcbiAgICBjbGFzcyBSZXNvdXJjZXNMb2FkZXIge1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbGxlY3Rpb24sIG9wdGlvbnMpIHtcblxuICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbiA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbl9sb2FkZWQgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb25faW5zdGFuY2VzID0gWyBuZXcgUmVzb3VyY2VMb2FkZXIodGhpcy5fc2V0dGluZ3MpIF07XG5cbiAgICAgICAgICAgIGlmICgkLmlzQXJyYXkoY29sbGVjdGlvbikgJiYgKCB0eXBlb2YgY29sbGVjdGlvblswXSA9PT0gJ3N0cmluZycgfHwgaXNfaHRtbF9vYmplY3QoY29sbGVjdGlvblswXSkgKSlcbiAgICAgICAgICAgICAgICBmb3IgKCBjb25zdCByZXNvdXJjZSBpbiBjb2xsZWN0aW9uIClcbiAgICAgICAgICAgICAgICAgICAgaWYoIGNvbGxlY3Rpb24uaGFzT3duUHJvcGVydHkocmVzb3VyY2UpIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3Rpb24ucHVzaCh7IGlkIDogdW5pcXVlX2lkKCksIHJlc291cmNlIDogY29sbGVjdGlvbltyZXNvdXJjZV0gfSk7XG4gICAgICAgICAgICBpZiAoIHR5cGVvZiBjb2xsZWN0aW9uID09PSAnc3RyaW5nJyB8fCBpc19odG1sX29iamVjdChjb2xsZWN0aW9uKSApXG4gICAgICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbi5wdXNoKHsgaWQgOiB1bmlxdWVfaWQoKSwgcmVzb3VyY2UgOiBjb2xsZWN0aW9uIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9zZXR0aW5ncyA9ICQuZXh0ZW5kKHRydWUsIHtcbiAgICAgICAgICAgICAgICBzZXF1ZW50aWFsOiBmYWxzZVxuICAgICAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHRoaXMucGVyY2VudGFnZSA9IDA7XG5cbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrID0gJC5ub29wKCk7XG4gICAgICAgICAgICB0aGlzLl9wcm9ncmVzcyA9ICQubm9vcCgpO1xuICAgICAgICAgICAgdGhpcy5fYWJvcnQgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5fbG9hZGVkID0gMDtcblxuICAgICAgICAgICAgdGhpcy5sb29wKCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGxvb3AoKXtcblxuICAgICAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmICggIXRoaXMuX2NvbGxlY3Rpb24ubGVuZ3RoIClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIGlmKCB0cnVlID09PSB0aGlzLl9jb21wbGV0ZSApe1xuXG4gICAgICAgICAgICAgICAgc2VsZi5fY2FsbGJhY2suY2FsbChudWxsIC8qIHRvZG8gY29udGV4dCAqLyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9jb2xsZWN0aW9uLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYWJvcnQpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgLy8gdG9kbyB0aGlzLl9zZXR0aW5ncy5zZXF1ZW50aWFsIC0tPiBtdXN0IGJlIGNhbGxlZCBpbiB0aGUgZm9sbG93aW5nIC5kb25lKCkgY2FsbCBhbmQgdGFraW5nIGFjY291bnQgb2YgdmlzaWJpbGl0eSBjaGVjayBpbiBSZXNvdXJjZUxvYWRlcigpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGxvYWRfaW5zdGFuY2UgPSBuZXcgUmVzb3VyY2VMb2FkZXIodGhpcy5fc2V0dGluZ3MpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY29sbGVjdGlvbl9pbnN0YW5jZXMucHVzaChsb2FkX2luc3RhbmNlKTtcblxuICAgICAgICAgICAgICAgIGxvYWRfaW5zdGFuY2UucmVzb3VyY2UgPSB0aGlzLl9jb2xsZWN0aW9uW2ldO1xuXG4gICAgICAgICAgICAgICAgbG9hZF9pbnN0YW5jZS5wcm9jZXNzKCk7XG5cbiAgICAgICAgICAgICAgICBsb2FkX2luc3RhbmNlLmRvbmUoZnVuY3Rpb24oaWQsIHJlc291cmNlKXtcblxuICAgICAgICAgICAgICAgICAgICBpZiggJC5pbkFycmF5KGlkLCBzZWxmLl9jb2xsZWN0aW9uX2xvYWRlZCkgPT09IC0xICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9sb2FkZWQrKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fY29sbGVjdGlvbl9sb2FkZWQucHVzaChpZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGVyY2VudGFnZSA9IHNlbGYuX2xvYWRlZCAvIHNlbGYuX2NvbGxlY3Rpb24ubGVuZ3RoICogMTAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9wcm9ncmVzcy5jYWxsKG51bGwgLyogdG9kbyAqLywgcmVzb3VyY2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIHNlbGYuX2xvYWRlZCA+IHNlbGYuX2NvbGxlY3Rpb24ubGVuZ3RoIHx8IHNlbGYuX2Fib3J0IClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICBpZiggc2VsZi5fbG9hZGVkID09PSBzZWxmLl9jb2xsZWN0aW9uLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fY2FsbGJhY2suY2FsbChudWxsIC8qIHRvZG8gKi8pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9jb21wbGV0ZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgZG9uZShjYWxsYmFjayl7XG5cbiAgICAgICAgICAgIGlmKCAhJC5pc0Z1bmN0aW9uKGNhbGxiYWNrKSApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgIGNvbnRleHQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIF9mdW5jID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChjb250ZXh0KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiggdGhpcy5fY29sbGVjdGlvbi5sZW5ndGggKVxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrID0gX2Z1bmM7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgX2Z1bmMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgfTtcblxuICAgICAgICBwcm9ncmVzcyhjYWxsYmFjayl7XG5cbiAgICAgICAgICAgIGlmKCAhJC5pc0Z1bmN0aW9uKGNhbGxiYWNrKSApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICBjb25zdFxuICAgICAgICAgICAgICAgIGNvbnRleHQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIF9mdW5jID0gZnVuY3Rpb24ocmVzb3VyY2Upe1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKGNvbnRleHQsIHJlc291cmNlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiggdGhpcy5fY29sbGVjdGlvbi5sZW5ndGggKVxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzID0gX2Z1bmM7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgX2Z1bmMoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgfTtcblxuICAgICAgICBhYm9ydCgpe1xuXG4gICAgICAgICAgICBmb3IoIGNvbnN0IGluc3RhbmNlIGluIHRoaXMuX2NvbGxlY3Rpb25faW5zdGFuY2VzIClcbiAgICAgICAgICAgICAgICB0aGlzLl9jb2xsZWN0aW9uX2luc3RhbmNlc1sgaW5zdGFuY2UgXS5hYm9ydCgpO1xuXG4gICAgICAgICAgICBpZiggIXRoaXMuX2NvbGxlY3Rpb24ubGVuZ3RoIClcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuX2Fib3J0ID0gdHJ1ZTtcblxuICAgICAgICB9O1xuXG4gICAgfVxuXG4gICAgY2xhc3MgQ29sbGVjdGlvblBvcHVsYXRvciB7XG5cbiAgICAgICAgY29uc3RydWN0b3IoJGVsZW1lbnQsIHNldHRpbmdzKSB7XG5cbiAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50ID0gJGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xuXG4gICAgICAgIH1cblxuICAgICAgICBjb2xsZWN0KCAvKm91dHB1dCovICkgeyAvLyB0b2RvIG91dHB1dCB0eXBlcyBlczogb25seSBlbGVtZW50cywgb25seSwgdXJscywgbWl4ZWQsIGFsbCAuLi4gZHVubm9cblxuICAgICAgICAgICAgbGV0IGNvbGxlY3Rpb24gPSBbXTtcblxuICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICB0YXJnZXRzID0gJ2ltZywgdmlkZW8sIGF1ZGlvJyxcbiAgICAgICAgICAgICAgICB0YXJnZXRzX2V4dGVuZGVkID0gdGFyZ2V0cyArICcsIHBpY3R1cmUsIHNvdXJjZSc7XG5cbiAgICAgICAgICAgIGxldCAkdGFyZ2V0cyA9IHRoaXMuXyRlbGVtZW50LmZpbmQodGFyZ2V0cyk7XG4gICAgICAgICAgICBpZiAodGhpcy5fJGVsZW1lbnQuaXModGFyZ2V0cykpXG4gICAgICAgICAgICAgICAgJHRhcmdldHMuYWRkKHRoaXMuXyRlbGVtZW50KTtcbiAgICAgICAgICAgICR0YXJnZXRzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24ucHVzaCh0aGlzKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodHJ1ZSA9PT0gdGhpcy5fc2V0dGluZ3MuYmFja2dyb3VuZHMpXG4gICAgICAgICAgICAgICAgdGhpcy5fJGVsZW1lbnQuZmluZCgnKicpLmFkZEJhY2soKS5ub3QodGFyZ2V0c19leHRlbmRlZCkuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQodGhpcykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJykgIT09ICdub25lJztcbiAgICAgICAgICAgICAgICB9KS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbi5wdXNoKCQodGhpcykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJykucmVwbGFjZSgvdXJsXFwoXCJ8dXJsXFwoJ3x1cmxcXCh8KChcIicpXFwpJCkvaWdtLCAnJykpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fc2V0dGluZ3MuYXR0cmlidXRlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyIGluIHRoaXMuX3NldHRpbmdzLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIHRoaXMuX3NldHRpbmdzLmF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoYXR0cikgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuXyRlbGVtZW50LmZpbmQoJ1snICsgYXR0ciArICddOm5vdCgnICsgdGFyZ2V0c19leHRlbmRlZCArICcpJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbi5wdXNoKCQodGhpcykuYXR0cihhdHRyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuXyRlbGVtZW50LmlzKCdbJyArIGF0dHIgKyAnXScpICYmICF0aGlzLl8kZWxlbWVudC5pcyh0YXJnZXRzX2V4dGVuZGVkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLnB1c2godGhpcy5fJGVsZW1lbnQuYXR0cihhdHRyKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgJFtuYW1lc3BhY2VfbWV0aG9kXSA9IFJlc291cmNlc0xvYWRlcjtcblxuICAgICQuZm5bbmFtZXNwYWNlX21ldGhvZF0gPSBmdW5jdGlvbihvcHRpb25zLCBjYWxsYmFjayl7XG5cbiAgICAgICAgaWYoICQuaXNGdW5jdGlvbihvcHRpb25zKSApXG4gICAgICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICAgIGlmKCAhJC5pc0Z1bmN0aW9uKGNhbGxiYWNrKSApXG4gICAgICAgICAgICBjYWxsYmFjayA9ICQubm9vcDtcbiAgICAgICAgaWYoIHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JyApXG4gICAgICAgICAgICBvcHRpb25zID0ge307XG5cbiAgICAgICAgbGV0IHNldHRpbmdzID0gJC5leHRlbmQodHJ1ZSwge1xuXG4gICAgICAgICAgICBzcmNBdHRyICAgICAgIDogJ2RhdGEtc3JjJyxcbiAgICAgICAgICAgIHNyY3NldEF0dHIgICAgOiAnZGF0YS1zcmNzZXQnLFxuXG4gICAgICAgICAgICB2aXNpYmxlICAgICAgIDogZmFsc2UsXG5cbiAgICAgICAgICAgIHNlcXVlbnRpYWwgICAgOiBmYWxzZSxcblxuICAgICAgICAgICAgYmFja2dyb3VuZHMgICA6IGZhbHNlLFxuICAgICAgICAgICAgZXh0cmFBdHRycyAgICA6IFtdLFxuXG4gICAgICAgICAgICBwbGF5dGhyb3VnaCAgIDogZmFsc2VcblxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICBpZiggISQuaXNBcnJheShzZXR0aW5ncy5hdHRyaWJ1dGVzKSApXG4gICAgICAgICAgICBzZXR0aW5ncy5hdHRyaWJ1dGVzID0gW107XG4gICAgICAgIGlmKCB0eXBlb2Ygc2V0dGluZ3MuYXR0cmlidXRlcyA9PT0gJ3N0cmluZycgKVxuICAgICAgICAgICAgc2V0dGluZ3MuYXR0cmlidXRlcyA9IHNldHRpbmdzLmF0dHJpYnV0ZXMuc3BsaXQoJyAnKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgIGxldCBfY29tcGxldGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3RcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gdGhpcyxcbiAgICAgICAgICAgICAgICAkZWxlbWVudCA9ICQoZWxlbWVudCksXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbiA9IG5ldyBDb2xsZWN0aW9uUG9wdWxhdG9yKCRlbGVtZW50LCBzZXR0aW5ncykuY29sbGVjdCgpLFxuICAgICAgICAgICAgICAgIGV2ZW50X25hbWVzcGFjZSA9IG5hbWVzcGFjZSArICdfJyArIHVuaXF1ZV9pZCgpLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlID0gZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICBpZiggJC5uaXRlIClcbiAgICAgICAgICAgICAgICAgICAgICAgICRkb2N1bWVudC5vZmYoJ3Njcm9sbC4nICsgZXZlbnRfbmFtZXNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5vZmYoJ3Njcm9sbC4nK2V2ZW50X25hbWVzcGFjZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQucmVtb3ZlRGF0YShuYW1lc3BhY2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIF9jb21wbGV0ZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsZXQgbG9hZF9pbnN0YW5jZSA9ICRlbGVtZW50LmRhdGEobmFtZXNwYWNlKTtcblxuICAgICAgICAgICAgaWYoIHVuZGVmaW5lZCAhPT0gbG9hZF9pbnN0YW5jZSApIHtcblxuICAgICAgICAgICAgICAgIGxvYWRfaW5zdGFuY2UuYWJvcnQoKTtcblxuICAgICAgICAgICAgICAgIGNvbXBsZXRlKCk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbG9hZF9pbnN0YW5jZSA9IG5ldyBSZXNvdXJjZXNMb2FkZXIoY29sbGVjdGlvbiwgc2V0dGluZ3MpO1xuXG4gICAgICAgICAgICBsb2FkX2luc3RhbmNlLnByb2dyZXNzKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICRlbGVtZW50LnRyaWdnZXIobmFtZXNwYWNlX3ByZWZpeCsnUHJvZ3Jlc3MuJytuYW1lc3BhY2VfcHJlZml4LCBbJGVsZW1lbnRdKTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxvYWRfaW5zdGFuY2UuZG9uZShmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggX2NvbXBsZXRlIClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgY29tcGxldGUoKTtcblxuICAgICAgICAgICAgICAgICRlbGVtZW50LnRyaWdnZXIobmFtZXNwYWNlX3ByZWZpeCsnTG9hZC4nK25hbWVzcGFjZV9wcmVmaXgsIFskZWxlbWVudF0pO1xuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9ICQubm9vcDtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRlbGVtZW50LmRhdGEobmFtZXNwYWNlLCBsb2FkX2luc3RhbmNlKTtcblxuICAgICAgICAgICAgaWYoIHNldHRpbmdzLnZpc2libGUgKXtcblxuICAgICAgICAgICAgICAgIGlmKCAkLm5pdGUgKVxuICAgICAgICAgICAgICAgICAgICAkLm5pdGUuc2Nyb2xsKGV2ZW50X25hbWVzcGFjZSwgZnVuY3Rpb24oKXsgbG9hZF9pbnN0YW5jZS5sb29wKCk7IH0sIHsgZnBzIDogMjUgfSk7XG5cbiAgICAgICAgICAgICAgICBlbHNle1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRocm90dGxlX3Njcm9sbF9ldmVudCA9IGZ1bmN0aW9uKGZuLCB3YWl0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodGltZSArIHdhaXQgLSBEYXRlLm5vdygpKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5vbignc2Nyb2xsLicrZXZlbnRfbmFtZXNwYWNlLCB0aHJvdHRsZV9zY3JvbGxfZXZlbnQoZnVuY3Rpb24oKXsgbG9hZF9pbnN0YW5jZS5sb29wKCk7IH0sIDEwMDApKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxufSkod2luZG93LCBkb2N1bWVudCwgalF1ZXJ5KTsiXX0=
